import{createRequire}from"module";const require=createRequire(import.meta.url);
var YY=Object.create;var Du=Object.defineProperty;var KY=Object.getOwnPropertyDescriptor;var zY=Object.getOwnPropertyNames;var $Y=Object.getPrototypeOf,XY=Object.prototype.hasOwnProperty;var bR=r=>{throw TypeError(r)};var V=(r=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(r,{get:(e,t)=>(typeof require<"u"?require:e)[t]}):r)(function(r){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+r+'" is not supported')});var p=(r,e)=>()=>(r&&(e=r(r=0)),e);var T=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),Ae=(r,e)=>{for(var t in e)Du(r,t,{get:e[t],enumerable:!0})},xR=(r,e,t,o)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of zY(e))!XY.call(r,s)&&s!==t&&Du(r,s,{get:()=>e[s],enumerable:!(o=KY(e,s))||o.enumerable});return r};var Nn=(r,e,t)=>(t=r!=null?YY($Y(r)):{},xR(e||!r||!r.__esModule?Du(t,"default",{value:r,enumerable:!0}):t,r)),ee=r=>xR(Du({},"__esModule",{value:!0}),r);var Tm=(r,e,t)=>e.has(r)||bR("Cannot "+t);var Bo=(r,e,t)=>(Tm(r,e,"read from private field"),t?t.call(r):e.get(r)),Uu=(r,e,t)=>e.has(r)?bR("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,t),Sm=(r,e,t,o)=>(Tm(r,e,"write to private field"),o?o.call(r,t):e.set(r,t),t),gm=(r,e,t)=>(Tm(r,e,"access private method"),t);var MR,wR=p(()=>{MR=typeof globalThis=="object"?globalThis:global});var DR=p(()=>{wR()});var UR=p(()=>{DR()});var cn,vm=p(()=>{cn="1.9.0"});function WY(r){var e=new Set([r]),t=new Set,o=r.match(kR);if(!o)return function(){return!1};var s={major:+o[1],minor:+o[2],patch:+o[3],prerelease:o[4]};if(s.prerelease!=null)return function(l){return l===r};function a(n){return t.add(n),!1}function i(n){return e.add(n),!0}return function(l){if(e.has(l))return!0;if(t.has(l))return!1;var c=l.match(kR);if(!c)return a(l);var u={major:+c[1],minor:+c[2],patch:+c[3],prerelease:c[4]};return u.prerelease!=null||s.major!==u.major?a(l):s.major===0?s.minor===u.minor&&s.patch<=u.patch?i(l):a(l):s.minor<=u.minor?i(l):a(l)}}var kR,BR,VR=p(()=>{vm();kR=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;BR=WY(cn)});function Pr(r,e,t,o){var s;o===void 0&&(o=!1);var a=Ya[ja]=(s=Ya[ja])!==null&&s!==void 0?s:{version:cn};if(!o&&a[r]){var i=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+r);return t.error(i.stack||i.message),!1}if(a.version!==cn){var i=new Error("@opentelemetry/api: Registration of version v"+a.version+" for "+r+" does not match previously registered API v"+cn);return t.error(i.stack||i.message),!1}return a[r]=e,t.debug("@opentelemetry/api: Registered a global for "+r+" v"+cn+"."),!0}function xt(r){var e,t,o=(e=Ya[ja])===null||e===void 0?void 0:e.version;if(!(!o||!BR(o)))return(t=Ya[ja])===null||t===void 0?void 0:t[r]}function Ir(r,e){e.debug("@opentelemetry/api: Unregistering a global for "+r+" v"+cn+".");var t=Ya[ja];t&&delete t[r]}var JY,ja,Ya,Si=p(()=>{UR();vm();VR();JY=cn.split(".")[0],ja=Symbol.for("opentelemetry.js.api."+JY),Ya=MR});function Ka(r,e,t){var o=xt("diag");if(o)return t.unshift(e),o[r].apply(o,ZY([],QY(t),!1))}var QY,ZY,FR,GR=p(()=>{Si();QY=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var o=t.call(r),s,a=[],i;try{for(;(e===void 0||e-- >0)&&!(s=o.next()).done;)a.push(s.value)}catch(n){i={error:n}}finally{try{s&&!s.done&&(t=o.return)&&t.call(o)}finally{if(i)throw i.error}}return a},ZY=function(r,e,t){if(t||arguments.length===2)for(var o=0,s=e.length,a;o<s;o++)(a||!(o in e))&&(a||(a=Array.prototype.slice.call(e,0,o)),a[o]=e[o]);return r.concat(a||Array.prototype.slice.call(e))},FR=function(){function r(e){this._namespace=e.namespace||"DiagComponentLogger"}return r.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Ka("debug",this._namespace,e)},r.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Ka("error",this._namespace,e)},r.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Ka("info",this._namespace,e)},r.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Ka("warn",this._namespace,e)},r.prototype.verbose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Ka("verbose",this._namespace,e)},r}()});var H,ku=p(()=>{(function(r){r[r.NONE=0]="NONE",r[r.ERROR=30]="ERROR",r[r.WARN=50]="WARN",r[r.INFO=60]="INFO",r[r.DEBUG=70]="DEBUG",r[r.VERBOSE=80]="VERBOSE",r[r.ALL=9999]="ALL"})(H||(H={}))});function HR(r,e){r<H.NONE?r=H.NONE:r>H.ALL&&(r=H.ALL),e=e||{};function t(o,s){var a=e[o];return typeof a=="function"&&r>=s?a.bind(e):function(){}}return{error:t("error",H.ERROR),warn:t("warn",H.WARN),info:t("info",H.INFO),debug:t("debug",H.DEBUG),verbose:t("verbose",H.VERBOSE)}}var qR=p(()=>{ku()});var eK,tK,rK,ft,gi=p(()=>{GR();qR();ku();Si();eK=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var o=t.call(r),s,a=[],i;try{for(;(e===void 0||e-- >0)&&!(s=o.next()).done;)a.push(s.value)}catch(n){i={error:n}}finally{try{s&&!s.done&&(t=o.return)&&t.call(o)}finally{if(i)throw i.error}}return a},tK=function(r,e,t){if(t||arguments.length===2)for(var o=0,s=e.length,a;o<s;o++)(a||!(o in e))&&(a||(a=Array.prototype.slice.call(e,0,o)),a[o]=e[o]);return r.concat(a||Array.prototype.slice.call(e))},rK="diag",ft=function(){function r(){function e(s){return function(){for(var a=[],i=0;i<arguments.length;i++)a[i]=arguments[i];var n=xt("diag");if(n)return n[s].apply(n,tK([],eK(a),!1))}}var t=this,o=function(s,a){var i,n,l;if(a===void 0&&(a={logLevel:H.INFO}),s===t){var c=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return t.error((i=c.stack)!==null&&i!==void 0?i:c.message),!1}typeof a=="number"&&(a={logLevel:a});var u=xt("diag"),f=HR((n=a.logLevel)!==null&&n!==void 0?n:H.INFO,s);if(u&&!a.suppressOverrideMessage){var _=(l=new Error().stack)!==null&&l!==void 0?l:"<failed to generate stacktrace>";u.warn("Current logger will be overwritten from "+_),f.warn("Current logger will overwrite one already registered from "+_)}return Pr("diag",f,t,!0)};t.setLogger=o,t.disable=function(){Ir(rK,t)},t.createComponentLogger=function(s){return new FR(s)},t.verbose=e("verbose"),t.debug=e("debug"),t.info=e("info"),t.warn=e("warn"),t.error=e("error")}return r.instance=function(){return this._instance||(this._instance=new r),this._instance},r}()});var nK,iK,jR,YR=p(()=>{nK=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var o=t.call(r),s,a=[],i;try{for(;(e===void 0||e-- >0)&&!(s=o.next()).done;)a.push(s.value)}catch(n){i={error:n}}finally{try{s&&!s.done&&(t=o.return)&&t.call(o)}finally{if(i)throw i.error}}return a},iK=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],o=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&o>=r.length&&(r=void 0),{value:r&&r[o++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},jR=function(){function r(e){this._entries=e?new Map(e):new Map}return r.prototype.getEntry=function(e){var t=this._entries.get(e);if(t)return Object.assign({},t)},r.prototype.getAllEntries=function(){return Array.from(this._entries.entries()).map(function(e){var t=nK(e,2),o=t[0],s=t[1];return[o,s]})},r.prototype.setEntry=function(e,t){var o=new r(this._entries);return o._entries.set(e,t),o},r.prototype.removeEntry=function(e){var t=new r(this._entries);return t._entries.delete(e),t},r.prototype.removeEntries=function(){for(var e,t,o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];var a=new r(this._entries);try{for(var i=iK(o),n=i.next();!n.done;n=i.next()){var l=n.value;a._entries.delete(l)}}catch(c){e={error:c}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}return a},r.prototype.clear=function(){return new r},r}()});var KR,zR=p(()=>{KR=Symbol("BaggageEntryMetadata")});function $R(r){return r===void 0&&(r={}),new jR(new Map(Object.entries(r)))}function Lr(r){return typeof r!="string"&&(oK.error("Cannot create baggage metadata from unknown type: "+typeof r),r=""),{__TYPE__:KR,toString:function(){return r}}}var oK,ym=p(()=>{gi();YR();zR();oK=ft.instance()});function De(r){return Symbol.for(r)}var sK,Bu,za=p(()=>{sK=function(){function r(e){var t=this;t._currentContext=e?new Map(e):new Map,t.getValue=function(o){return t._currentContext.get(o)},t.setValue=function(o,s){var a=new r(t._currentContext);return a._currentContext.set(o,s),a},t.deleteValue=function(o){var s=new r(t._currentContext);return s._currentContext.delete(o),s}}return r}(),Bu=new sK});var Om,Vu,XR=p(()=>{Om=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}],Vu=function(){function r(){function e(o){return function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];if(console){var i=console[o];if(typeof i!="function"&&(i=console.log),typeof i=="function")return i.apply(console,s)}}}for(var t=0;t<Om.length;t++)this[Om[t].n]=e(Om[t].c)}return r}()});function Gu(){return Rm}var vi,aK,Fu,lK,cK,uK,fK,Am,pK,dK,hK,Rm,_K,EK,mK,TK,SK,gK,vK,Nm=p(()=>{vi=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(o[a]=s[a])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),aK=function(){function r(){}return r.prototype.createGauge=function(e,t){return EK},r.prototype.createHistogram=function(e,t){return mK},r.prototype.createCounter=function(e,t){return _K},r.prototype.createUpDownCounter=function(e,t){return TK},r.prototype.createObservableGauge=function(e,t){return gK},r.prototype.createObservableCounter=function(e,t){return SK},r.prototype.createObservableUpDownCounter=function(e,t){return vK},r.prototype.addBatchObservableCallback=function(e,t){},r.prototype.removeBatchObservableCallback=function(e){},r}(),Fu=function(){function r(){}return r}(),lK=function(r){vi(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.add=function(t,o){},e}(Fu),cK=function(r){vi(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.add=function(t,o){},e}(Fu),uK=function(r){vi(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.record=function(t,o){},e}(Fu),fK=function(r){vi(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.record=function(t,o){},e}(Fu),Am=function(){function r(){}return r.prototype.addCallback=function(e){},r.prototype.removeCallback=function(e){},r}(),pK=function(r){vi(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e}(Am),dK=function(r){vi(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e}(Am),hK=function(r){vi(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e}(Am),Rm=new aK,_K=new lK,EK=new uK,mK=new fK,TK=new cK,SK=new pK,gK=new dK,vK=new hK});var Ot,WR=p(()=>{(function(r){r[r.INT=0]="INT",r[r.DOUBLE=1]="DOUBLE"})(Ot||(Ot={}))});var Hu,qu,Cm=p(()=>{Hu={get:function(r,e){if(r!=null)return r[e]},keys:function(r){return r==null?[]:Object.keys(r)}},qu={set:function(r,e,t){r!=null&&(r[e]=t)}}});var yK,OK,JR,QR=p(()=>{za();yK=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var o=t.call(r),s,a=[],i;try{for(;(e===void 0||e-- >0)&&!(s=o.next()).done;)a.push(s.value)}catch(n){i={error:n}}finally{try{s&&!s.done&&(t=o.return)&&t.call(o)}finally{if(i)throw i.error}}return a},OK=function(r,e,t){if(t||arguments.length===2)for(var o=0,s=e.length,a;o<s;o++)(a||!(o in e))&&(a||(a=Array.prototype.slice.call(e,0,o)),a[o]=e[o]);return r.concat(a||Array.prototype.slice.call(e))},JR=function(){function r(){}return r.prototype.active=function(){return Bu},r.prototype.with=function(e,t,o){for(var s=[],a=3;a<arguments.length;a++)s[a-3]=arguments[a];return t.call.apply(t,OK([o],yK(s),!1))},r.prototype.bind=function(e,t){return t},r.prototype.enable=function(){return this},r.prototype.disable=function(){return this},r}()});var AK,RK,Pm,NK,Cn,$a=p(()=>{QR();Si();gi();AK=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var o=t.call(r),s,a=[],i;try{for(;(e===void 0||e-- >0)&&!(s=o.next()).done;)a.push(s.value)}catch(n){i={error:n}}finally{try{s&&!s.done&&(t=o.return)&&t.call(o)}finally{if(i)throw i.error}}return a},RK=function(r,e,t){if(t||arguments.length===2)for(var o=0,s=e.length,a;o<s;o++)(a||!(o in e))&&(a||(a=Array.prototype.slice.call(e,0,o)),a[o]=e[o]);return r.concat(a||Array.prototype.slice.call(e))},Pm="context",NK=new JR,Cn=function(){function r(){}return r.getInstance=function(){return this._instance||(this._instance=new r),this._instance},r.prototype.setGlobalContextManager=function(e){return Pr(Pm,e,ft.instance())},r.prototype.active=function(){return this._getContextManager().active()},r.prototype.with=function(e,t,o){for(var s,a=[],i=3;i<arguments.length;i++)a[i-3]=arguments[i];return(s=this._getContextManager()).with.apply(s,RK([e,t,o],AK(a),!1))},r.prototype.bind=function(e,t){return this._getContextManager().bind(e,t)},r.prototype._getContextManager=function(){return xt(Pm)||NK},r.prototype.disable=function(){this._getContextManager().disable(),Ir(Pm,ft.instance())},r}()});var se,Im=p(()=>{(function(r){r[r.NONE=0]="NONE",r[r.SAMPLED=1]="SAMPLED"})(se||(se={}))});var Xa,Wa,Vo,ju=p(()=>{Im();Xa="0000000000000000",Wa="00000000000000000000000000000000",Vo={traceId:Wa,spanId:Xa,traceFlags:se.NONE}});var Pn,Yu=p(()=>{ju();Pn=function(){function r(e){e===void 0&&(e=Vo),this._spanContext=e}return r.prototype.spanContext=function(){return this._spanContext},r.prototype.setAttribute=function(e,t){return this},r.prototype.setAttributes=function(e){return this},r.prototype.addEvent=function(e,t){return this},r.prototype.addLink=function(e){return this},r.prototype.addLinks=function(e){return this},r.prototype.setStatus=function(e){return this},r.prototype.updateName=function(e){return this},r.prototype.end=function(e){},r.prototype.isRecording=function(){return!1},r.prototype.recordException=function(e,t){},r}()});function Ku(r){return r.getValue(Lm)||void 0}function ZR(){return Ku(Cn.getInstance().active())}function Ja(r,e){return r.setValue(Lm,e)}function eN(r){return r.deleteValue(Lm)}function tN(r,e){return Ja(r,new Pn(e))}function zu(r){var e;return(e=Ku(r))===null||e===void 0?void 0:e.spanContext()}var Lm,bm=p(()=>{za();Yu();$a();Lm=De("OpenTelemetry Context Key SPAN")});function Mt(r){return CK.test(r)&&r!==Wa}function yi(r){return PK.test(r)&&r!==Xa}function xe(r){return Mt(r.traceId)&&yi(r.spanId)}function rN(r){return new Pn(r)}var CK,PK,$u=p(()=>{ju();Yu();CK=/^([0-9a-f]{32})$/i,PK=/^[0-9a-f]{16}$/i});function IK(r){return typeof r=="object"&&typeof r.spanId=="string"&&typeof r.traceId=="string"&&typeof r.traceFlags=="number"}var xm,Xu,Mm=p(()=>{$a();bm();Yu();$u();xm=Cn.getInstance(),Xu=function(){function r(){}return r.prototype.startSpan=function(e,t,o){o===void 0&&(o=xm.active());var s=!!(t!=null&&t.root);if(s)return new Pn;var a=o&&zu(o);return IK(a)&&xe(a)?new Pn(a):new Pn},r.prototype.startActiveSpan=function(e,t,o,s){var a,i,n;if(!(arguments.length<2)){arguments.length===2?n=t:arguments.length===3?(a=t,n=o):(a=t,i=o,n=s);var l=i??xm.active(),c=this.startSpan(e,a,l),u=Ja(l,c);return xm.with(u,n,void 0,c)}},r}()});var LK,Wu,wm=p(()=>{Mm();LK=new Xu,Wu=function(){function r(e,t,o,s){this._provider=e,this.name=t,this.version=o,this.options=s}return r.prototype.startSpan=function(e,t,o){return this._getTracer().startSpan(e,t,o)},r.prototype.startActiveSpan=function(e,t,o,s){var a=this._getTracer();return Reflect.apply(a.startActiveSpan,a,arguments)},r.prototype._getTracer=function(){if(this._delegate)return this._delegate;var e=this._provider.getDelegateTracer(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):LK},r}()});var nN,iN=p(()=>{Mm();nN=function(){function r(){}return r.prototype.getTracer=function(e,t,o){return new Xu},r}()});var bK,Qa,Dm=p(()=>{wm();iN();bK=new nN,Qa=function(){function r(){}return r.prototype.getTracer=function(e,t,o){var s;return(s=this.getDelegateTracer(e,t,o))!==null&&s!==void 0?s:new Wu(this,e,t,o)},r.prototype.getDelegate=function(){var e;return(e=this._delegate)!==null&&e!==void 0?e:bK},r.prototype.setDelegate=function(e){this._delegate=e},r.prototype.getDelegateTracer=function(e,t,o){var s;return(s=this._delegate)===null||s===void 0?void 0:s.getTracer(e,t,o)},r}()});var ke,oN=p(()=>{(function(r){r[r.NOT_RECORD=0]="NOT_RECORD",r[r.RECORD=1]="RECORD",r[r.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})(ke||(ke={}))});var qt,sN=p(()=>{(function(r){r[r.INTERNAL=0]="INTERNAL",r[r.SERVER=1]="SERVER",r[r.CLIENT=2]="CLIENT",r[r.PRODUCER=3]="PRODUCER",r[r.CONSUMER=4]="CONSUMER"})(qt||(qt={}))});var br,aN=p(()=>{(function(r){r[r.UNSET=0]="UNSET",r[r.OK=1]="OK",r[r.ERROR=2]="ERROR"})(br||(br={}))});function lN(r){return wK.test(r)}function cN(r){return DK.test(r)&&!UK.test(r)}var Um,xK,MK,wK,DK,UK,uN=p(()=>{Um="[_0-9a-z-*/]",xK="[a-z]"+Um+"{0,255}",MK="[a-z0-9]"+Um+"{0,240}@[a-z]"+Um+"{0,13}",wK=new RegExp("^(?:"+xK+"|"+MK+")$"),DK=/^[ -~]{0,255}[!-~]$/,UK=/,|=/});var fN,kK,pN,dN,hN,_N=p(()=>{uN();fN=32,kK=512,pN=",",dN="=",hN=function(){function r(e){this._internalState=new Map,e&&this._parse(e)}return r.prototype.set=function(e,t){var o=this._clone();return o._internalState.has(e)&&o._internalState.delete(e),o._internalState.set(e,t),o},r.prototype.unset=function(e){var t=this._clone();return t._internalState.delete(e),t},r.prototype.get=function(e){return this._internalState.get(e)},r.prototype.serialize=function(){var e=this;return this._keys().reduce(function(t,o){return t.push(o+dN+e.get(o)),t},[]).join(pN)},r.prototype._parse=function(e){e.length>kK||(this._internalState=e.split(pN).reverse().reduce(function(t,o){var s=o.trim(),a=s.indexOf(dN);if(a!==-1){var i=s.slice(0,a),n=s.slice(a+1,o.length);lN(i)&&cN(n)&&t.set(i,n)}return t},new Map),this._internalState.size>fN&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,fN))))},r.prototype._keys=function(){return Array.from(this._internalState.keys()).reverse()},r.prototype._clone=function(){var e=new r;return e._internalState=new Map(this._internalState),e},r}()});function EN(r){return new hN(r)}var mN=p(()=>{_N()});var me,TN=p(()=>{$a();me=Cn.getInstance()});var S,SN=p(()=>{gi();S=ft.instance()});var BK,gN,vN=p(()=>{Nm();BK=function(){function r(){}return r.prototype.getMeter=function(e,t,o){return Rm},r}(),gN=new BK});var km,yN,ON=p(()=>{vN();Si();gi();km="metrics",yN=function(){function r(){}return r.getInstance=function(){return this._instance||(this._instance=new r),this._instance},r.prototype.setGlobalMeterProvider=function(e){return Pr(km,e,ft.instance())},r.prototype.getMeterProvider=function(){return xt(km)||gN},r.prototype.getMeter=function(e,t,o){return this.getMeterProvider().getMeter(e,t,o)},r.prototype.disable=function(){Ir(km,ft.instance())},r}()});var Oi,AN=p(()=>{ON();Oi=yN.getInstance()});var RN,NN=p(()=>{RN=function(){function r(){}return r.prototype.inject=function(e,t){},r.prototype.extract=function(e,t){return e},r.prototype.fields=function(){return[]},r}()});function Vm(r){return r.getValue(Bm)||void 0}function CN(){return Vm(Cn.getInstance().active())}function PN(r,e){return r.setValue(Bm,e)}function IN(r){return r.deleteValue(Bm)}var Bm,LN=p(()=>{$a();za();Bm=De("OpenTelemetry Baggage Key")});var Fm,VK,bN,xN=p(()=>{Si();NN();Cm();LN();ym();gi();Fm="propagation",VK=new RN,bN=function(){function r(){this.createBaggage=$R,this.getBaggage=Vm,this.getActiveBaggage=CN,this.setBaggage=PN,this.deleteBaggage=IN}return r.getInstance=function(){return this._instance||(this._instance=new r),this._instance},r.prototype.setGlobalPropagator=function(e){return Pr(Fm,e,ft.instance())},r.prototype.inject=function(e,t,o){return o===void 0&&(o=qu),this._getGlobalPropagator().inject(e,t,o)},r.prototype.extract=function(e,t,o){return o===void 0&&(o=Hu),this._getGlobalPropagator().extract(e,t,o)},r.prototype.fields=function(){return this._getGlobalPropagator().fields()},r.prototype.disable=function(){Ir(Fm,ft.instance())},r.prototype._getGlobalPropagator=function(){return xt(Fm)||VK},r}()});var Ue,MN=p(()=>{xN();Ue=bN.getInstance()});var Gm,wN,DN=p(()=>{Si();Dm();$u();bm();gi();Gm="trace",wN=function(){function r(){this._proxyTracerProvider=new Qa,this.wrapSpanContext=rN,this.isSpanContextValid=xe,this.deleteSpan=eN,this.getSpan=Ku,this.getActiveSpan=ZR,this.getSpanContext=zu,this.setSpan=Ja,this.setSpanContext=tN}return r.getInstance=function(){return this._instance||(this._instance=new r),this._instance},r.prototype.setGlobalTracerProvider=function(e){var t=Pr(Gm,this._proxyTracerProvider,ft.instance());return t&&this._proxyTracerProvider.setDelegate(e),t},r.prototype.getTracerProvider=function(){return xt(Gm)||this._proxyTracerProvider},r.prototype.getTracer=function(e,t){return this.getTracerProvider().getTracer(e,t)},r.prototype.disable=function(){Ir(Gm,ft.instance()),this._proxyTracerProvider=new Qa},r}()});var ie,UN=p(()=>{DN();ie=wN.getInstance()});var ot={};Ae(ot,{DiagConsoleLogger:()=>Vu,DiagLogLevel:()=>H,INVALID_SPANID:()=>Xa,INVALID_SPAN_CONTEXT:()=>Vo,INVALID_TRACEID:()=>Wa,ProxyTracer:()=>Wu,ProxyTracerProvider:()=>Qa,ROOT_CONTEXT:()=>Bu,SamplingDecision:()=>ke,SpanKind:()=>qt,SpanStatusCode:()=>br,TraceFlags:()=>se,ValueType:()=>Ot,baggageEntryMetadataFromString:()=>Lr,context:()=>me,createContextKey:()=>De,createNoopMeter:()=>Gu,createTraceState:()=>EN,default:()=>FK,defaultTextMapGetter:()=>Hu,defaultTextMapSetter:()=>qu,diag:()=>S,isSpanContextValid:()=>xe,isValidSpanId:()=>yi,isValidTraceId:()=>Mt,metrics:()=>Oi,propagation:()=>Ue,trace:()=>ie});var FK,P=p(()=>{ym();za();XR();ku();Nm();WR();Cm();wm();Dm();oN();sN();aN();Im();mN();$u();ju();TN();SN();AN();MN();UN();FK={context:me,diag:S,metrics:Oi,propagation:Ue,trace:ie}});function Be(r){for(var e={},t=r.length,o=0;o<t;o++){var s=r[o];s&&(e[String(s).toUpperCase().replace(/[-.]/g,"_")]=s)}return e}var Hm=p(()=>{});var kN,BN,VN,FN,GN,HN,qN,jN,YN,KN,zN,$N,XN,WN,JN,QN,ZN,eC,tC,rC,nC,iC,oC,sC,aC,lC,cC,uC,fC,pC,dC,hC,_C,EC,mC,TC,SC,gC,vC,yC,OC,AC,RC,NC,CC,PC,IC,LC,bC,xC,MC,wC,DC,UC,kC,BC,VC,FC,GC,HC,qC,jC,YC,KC,zC,$C,XC,WC,JC,QC,ZC,eP,tP,rP,nP,iP,oP,sP,aP,lP,cP,uP,fP,pP,dP,hP,_P,EP,mP,TP,SP,gP,vP,yP,OP,AP,RP,NP,CP,PP,IP,LP,bP,xP,MP,wP,DP,UP,kP,BP,VP,FP,GP,HP,qP,jP,YP,KP,zP,$P,XP,WP,JP,QP,ZP,eI,tI,rI,GK,HK,qK,jK,YK,KK,zK,$K,XK,WK,JK,QK,ZK,ez,tz,rz,nz,iz,oz,sz,az,Za,el,qm,lz,cz,uz,fz,pz,dz,hz,_z,Ez,mz,Tz,Sz,gz,vz,yz,Oz,Az,Rz,Nz,Cz,Pz,Iz,Lz,bz,xz,Mz,wz,Dz,Uz,kz,Bz,Vz,Fz,Gz,Hz,qz,jz,Yz,Kz,zz,$z,Xz,Wz,Jz,Qz,Zz,e$,t$,r$,n$,i$,o$,s$,a$,l$,c$,u$,f$,p$,d$,h$,_$,E$,m$,T$,S$,g$,v$,y$,O$,A$,R$,N$,C$,P$,I$,L$,b$,x$,M$,w$,D$,U$,k$,B$,V$,F$,G$,H$,q$,j$,Y$,K$,z$,$$,X$,W$,J$,Q$,Z$,eX,tX,rX,nX,iX,nI,iI,oI,sI,aI,lI,cI,uI,fI,pI,dI,hI,_I,EI,mI,TI,SI,gI,vI,yI,OI,AI,RI,NI,CI,PI,II,LI,bI,xI,MI,wI,DI,UI,kI,BI,VI,FI,GI,HI,qI,jI,YI,KI,zI,$I,XI,oX,sX,aX,lX,cX,uX,fX,pX,dX,hX,_X,EX,mX,TX,SX,gX,vX,yX,OX,AX,RX,NX,CX,PX,IX,LX,bX,xX,MX,wX,DX,UX,kX,BX,VX,FX,GX,HX,qX,jX,YX,KX,zX,$X,XX,WX,JX,QX,WI,JI,QI,ZI,eL,tL,rL,nL,iL,oL,sL,ZX,eW,tW,rW,nW,iW,oW,sW,aW,lW,cW,uW,aL,lL,cL,uL,fL,fW,pW,dW,hW,_W,EW,pL,dL,hL,mW,TW,SW,gW,_L,EL,mL,TL,vW,yW,OW,AW,RW,SL,gL,vL,yL,OL,AL,RL,NW,CW,PW,IW,LW,bW,xW,MW,NL,CL,PL,IL,LL,wW,DW,UW,kW,BW,VW,bL,xL,ML,wL,DL,UL,kL,BL,VL,FL,GL,HL,qL,jL,YL,KL,zL,$L,XL,WL,JL,FW,GW,HW,qW,jW,YW,KW,zW,$W,XW,WW,JW,QW,ZW,e8,t8,r8,n8,i8,o8,s8,a8,QL,ZL,eb,tb,rb,l8,c8,u8,f8,p8,d8,nb,ib,h8,_8,E8,ob,sb,m8,T8,S8,ab,lb,cb,ub,fb,pb,db,hb,_b,Eb,mb,Tb,Sb,gb,vb,yb,Ob,g8,v8,y8,O8,A8,R8,N8,C8,P8,I8,L8,b8,x8,M8,w8,D8,U8,k8,Ab,Rb,B8,V8,F8,Nb=p(()=>{Hm();kN="aws.lambda.invoked_arn",BN="db.system",VN="db.connection_string",FN="db.user",GN="db.jdbc.driver_classname",HN="db.name",qN="db.statement",jN="db.operation",YN="db.mssql.instance_name",KN="db.cassandra.keyspace",zN="db.cassandra.page_size",$N="db.cassandra.consistency_level",XN="db.cassandra.table",WN="db.cassandra.idempotence",JN="db.cassandra.speculative_execution_count",QN="db.cassandra.coordinator.id",ZN="db.cassandra.coordinator.dc",eC="db.hbase.namespace",tC="db.redis.database_index",rC="db.mongodb.collection",nC="db.sql.table",iC="exception.type",oC="exception.message",sC="exception.stacktrace",aC="exception.escaped",lC="faas.trigger",cC="faas.execution",uC="faas.document.collection",fC="faas.document.operation",pC="faas.document.time",dC="faas.document.name",hC="faas.time",_C="faas.cron",EC="faas.coldstart",mC="faas.invoked_name",TC="faas.invoked_provider",SC="faas.invoked_region",gC="net.transport",vC="net.peer.ip",yC="net.peer.port",OC="net.peer.name",AC="net.host.ip",RC="net.host.port",NC="net.host.name",CC="net.host.connection.type",PC="net.host.connection.subtype",IC="net.host.carrier.name",LC="net.host.carrier.mcc",bC="net.host.carrier.mnc",xC="net.host.carrier.icc",MC="peer.service",wC="enduser.id",DC="enduser.role",UC="enduser.scope",kC="thread.id",BC="thread.name",VC="code.function",FC="code.namespace",GC="code.filepath",HC="code.lineno",qC="http.method",jC="http.url",YC="http.target",KC="http.host",zC="http.scheme",$C="http.status_code",XC="http.flavor",WC="http.user_agent",JC="http.request_content_length",QC="http.request_content_length_uncompressed",ZC="http.response_content_length",eP="http.response_content_length_uncompressed",tP="http.server_name",rP="http.route",nP="http.client_ip",iP="aws.dynamodb.table_names",oP="aws.dynamodb.consumed_capacity",sP="aws.dynamodb.item_collection_metrics",aP="aws.dynamodb.provisioned_read_capacity",lP="aws.dynamodb.provisioned_write_capacity",cP="aws.dynamodb.consistent_read",uP="aws.dynamodb.projection",fP="aws.dynamodb.limit",pP="aws.dynamodb.attributes_to_get",dP="aws.dynamodb.index_name",hP="aws.dynamodb.select",_P="aws.dynamodb.global_secondary_indexes",EP="aws.dynamodb.local_secondary_indexes",mP="aws.dynamodb.exclusive_start_table",TP="aws.dynamodb.table_count",SP="aws.dynamodb.scan_forward",gP="aws.dynamodb.segment",vP="aws.dynamodb.total_segments",yP="aws.dynamodb.count",OP="aws.dynamodb.scanned_count",AP="aws.dynamodb.attribute_definitions",RP="aws.dynamodb.global_secondary_index_updates",NP="messaging.system",CP="messaging.destination",PP="messaging.destination_kind",IP="messaging.temp_destination",LP="messaging.protocol",bP="messaging.protocol_version",xP="messaging.url",MP="messaging.message_id",wP="messaging.conversation_id",DP="messaging.message_payload_size_bytes",UP="messaging.message_payload_compressed_size_bytes",kP="messaging.operation",BP="messaging.consumer_id",VP="messaging.rabbitmq.routing_key",FP="messaging.kafka.message_key",GP="messaging.kafka.consumer_group",HP="messaging.kafka.client_id",qP="messaging.kafka.partition",jP="messaging.kafka.tombstone",YP="rpc.system",KP="rpc.service",zP="rpc.method",$P="rpc.grpc.status_code",XP="rpc.jsonrpc.version",WP="rpc.jsonrpc.request_id",JP="rpc.jsonrpc.error_code",QP="rpc.jsonrpc.error_message",ZP="message.type",eI="message.id",tI="message.compressed_size",rI="message.uncompressed_size",GK=kN,HK=BN,qK=VN,jK=FN,YK=GN,KK=HN,zK=qN,$K=jN,XK=YN,WK=KN,JK=zN,QK=$N,ZK=XN,ez=WN,tz=JN,rz=QN,nz=ZN,iz=eC,oz=tC,sz=rC,az=nC,Za=iC,el=oC,qm=sC,lz=aC,cz=lC,uz=cC,fz=uC,pz=fC,dz=pC,hz=dC,_z=hC,Ez=_C,mz=EC,Tz=mC,Sz=TC,gz=SC,vz=gC,yz=vC,Oz=yC,Az=OC,Rz=AC,Nz=RC,Cz=NC,Pz=CC,Iz=PC,Lz=IC,bz=LC,xz=bC,Mz=xC,wz=MC,Dz=wC,Uz=DC,kz=UC,Bz=kC,Vz=BC,Fz=VC,Gz=FC,Hz=GC,qz=HC,jz=qC,Yz=jC,Kz=YC,zz=KC,$z=zC,Xz=$C,Wz=XC,Jz=WC,Qz=JC,Zz=QC,e$=ZC,t$=eP,r$=tP,n$=rP,i$=nP,o$=iP,s$=oP,a$=sP,l$=aP,c$=lP,u$=cP,f$=uP,p$=fP,d$=pP,h$=dP,_$=hP,E$=_P,m$=EP,T$=mP,S$=TP,g$=SP,v$=gP,y$=vP,O$=yP,A$=OP,R$=AP,N$=RP,C$=NP,P$=CP,I$=PP,L$=IP,b$=LP,x$=bP,M$=xP,w$=MP,D$=wP,U$=DP,k$=UP,B$=kP,V$=BP,F$=VP,G$=FP,H$=GP,q$=HP,j$=qP,Y$=jP,K$=YP,z$=KP,$$=zP,X$=$P,W$=XP,J$=WP,Q$=JP,Z$=QP,eX=ZP,tX=eI,rX=tI,nX=rI,iX=Be([kN,BN,VN,FN,GN,HN,qN,jN,YN,KN,zN,$N,XN,WN,JN,QN,ZN,eC,tC,rC,nC,iC,oC,sC,aC,lC,cC,uC,fC,pC,dC,hC,_C,EC,mC,TC,SC,gC,vC,yC,OC,AC,RC,NC,CC,PC,IC,LC,bC,xC,MC,wC,DC,UC,kC,BC,VC,FC,GC,HC,qC,jC,YC,KC,zC,$C,XC,WC,JC,QC,ZC,eP,tP,rP,nP,iP,oP,sP,aP,lP,cP,uP,fP,pP,dP,hP,_P,EP,mP,TP,SP,gP,vP,yP,OP,AP,RP,NP,CP,PP,IP,LP,bP,xP,MP,wP,DP,UP,kP,BP,VP,FP,GP,HP,qP,jP,YP,KP,zP,$P,XP,WP,JP,QP,ZP,eI,tI,rI]),nI="other_sql",iI="mssql",oI="mysql",sI="oracle",aI="db2",lI="postgresql",cI="redshift",uI="hive",fI="cloudscape",pI="hsqldb",dI="progress",hI="maxdb",_I="hanadb",EI="ingres",mI="firstsql",TI="edb",SI="cache",gI="adabas",vI="firebird",yI="derby",OI="filemaker",AI="informix",RI="instantdb",NI="interbase",CI="mariadb",PI="netezza",II="pervasive",LI="pointbase",bI="sqlite",xI="sybase",MI="teradata",wI="vertica",DI="h2",UI="coldfusion",kI="cassandra",BI="hbase",VI="mongodb",FI="redis",GI="couchbase",HI="couchdb",qI="cosmosdb",jI="dynamodb",YI="neo4j",KI="geode",zI="elasticsearch",$I="memcached",XI="cockroachdb",oX=nI,sX=iI,aX=oI,lX=sI,cX=aI,uX=lI,fX=cI,pX=uI,dX=fI,hX=pI,_X=dI,EX=hI,mX=_I,TX=EI,SX=mI,gX=TI,vX=SI,yX=gI,OX=vI,AX=yI,RX=OI,NX=AI,CX=RI,PX=NI,IX=CI,LX=PI,bX=II,xX=LI,MX=bI,wX=xI,DX=MI,UX=wI,kX=DI,BX=UI,VX=kI,FX=BI,GX=VI,HX=FI,qX=GI,jX=HI,YX=qI,KX=jI,zX=YI,$X=KI,XX=zI,WX=$I,JX=XI,QX=Be([nI,iI,oI,sI,aI,lI,cI,uI,fI,pI,dI,hI,_I,EI,mI,TI,SI,gI,vI,yI,OI,AI,RI,NI,CI,PI,II,LI,bI,xI,MI,wI,DI,UI,kI,BI,VI,FI,GI,HI,qI,jI,YI,KI,zI,$I,XI]),WI="all",JI="each_quorum",QI="quorum",ZI="local_quorum",eL="one",tL="two",rL="three",nL="local_one",iL="any",oL="serial",sL="local_serial",ZX=WI,eW=JI,tW=QI,rW=ZI,nW=eL,iW=tL,oW=rL,sW=nL,aW=iL,lW=oL,cW=sL,uW=Be([WI,JI,QI,ZI,eL,tL,rL,nL,iL,oL,sL]),aL="datasource",lL="http",cL="pubsub",uL="timer",fL="other",fW=aL,pW=lL,dW=cL,hW=uL,_W=fL,EW=Be([aL,lL,cL,uL,fL]),pL="insert",dL="edit",hL="delete",mW=pL,TW=dL,SW=hL,gW=Be([pL,dL,hL]),_L="alibaba_cloud",EL="aws",mL="azure",TL="gcp",vW=_L,yW=EL,OW=mL,AW=TL,RW=Be([_L,EL,mL,TL]),SL="ip_tcp",gL="ip_udp",vL="ip",yL="unix",OL="pipe",AL="inproc",RL="other",NW=SL,CW=gL,PW=vL,IW=yL,LW=OL,bW=AL,xW=RL,MW=Be([SL,gL,vL,yL,OL,AL,RL]),NL="wifi",CL="wired",PL="cell",IL="unavailable",LL="unknown",wW=NL,DW=CL,UW=PL,kW=IL,BW=LL,VW=Be([NL,CL,PL,IL,LL]),bL="gprs",xL="edge",ML="umts",wL="cdma",DL="evdo_0",UL="evdo_a",kL="cdma2000_1xrtt",BL="hsdpa",VL="hsupa",FL="hspa",GL="iden",HL="evdo_b",qL="lte",jL="ehrpd",YL="hspap",KL="gsm",zL="td_scdma",$L="iwlan",XL="nr",WL="nrnsa",JL="lte_ca",FW=bL,GW=xL,HW=ML,qW=wL,jW=DL,YW=UL,KW=kL,zW=BL,$W=VL,XW=FL,WW=GL,JW=HL,QW=qL,ZW=jL,e8=YL,t8=KL,r8=zL,n8=$L,i8=XL,o8=WL,s8=JL,a8=Be([bL,xL,ML,wL,DL,UL,kL,BL,VL,FL,GL,HL,qL,jL,YL,KL,zL,$L,XL,WL,JL]),QL="1.0",ZL="1.1",eb="2.0",tb="SPDY",rb="QUIC",l8=QL,c8=ZL,u8=eb,f8=tb,p8=rb,d8={HTTP_1_0:QL,HTTP_1_1:ZL,HTTP_2_0:eb,SPDY:tb,QUIC:rb},nb="queue",ib="topic",h8=nb,_8=ib,E8=Be([nb,ib]),ob="receive",sb="process",m8=ob,T8=sb,S8=Be([ob,sb]),ab=0,lb=1,cb=2,ub=3,fb=4,pb=5,db=6,hb=7,_b=8,Eb=9,mb=10,Tb=11,Sb=12,gb=13,vb=14,yb=15,Ob=16,g8=ab,v8=lb,y8=cb,O8=ub,A8=fb,R8=pb,N8=db,C8=hb,P8=_b,I8=Eb,L8=mb,b8=Tb,x8=Sb,M8=gb,w8=vb,D8=yb,U8=Ob,k8={OK:ab,CANCELLED:lb,UNKNOWN:cb,INVALID_ARGUMENT:ub,DEADLINE_EXCEEDED:fb,NOT_FOUND:pb,ALREADY_EXISTS:db,PERMISSION_DENIED:hb,RESOURCE_EXHAUSTED:_b,FAILED_PRECONDITION:Eb,ABORTED:mb,OUT_OF_RANGE:Tb,UNIMPLEMENTED:Sb,INTERNAL:gb,UNAVAILABLE:vb,DATA_LOSS:yb,UNAUTHENTICATED:Ob},Ab="SENT",Rb="RECEIVED",B8=Ab,V8=Rb,F8=Be([Ab,Rb])});var Cb=p(()=>{Nb()});var Pb,Ib,Lb,bb,xb,Mb,wb,Db,Ub,kb,Bb,Vb,Fb,Gb,Hb,qb,jb,Yb,Kb,zb,$b,Xb,Wb,Jb,Qb,Zb,e0,t0,r0,n0,i0,o0,s0,a0,l0,c0,u0,f0,p0,d0,h0,_0,E0,m0,T0,S0,g0,v0,y0,O0,A0,R0,N0,C0,P0,I0,L0,b0,x0,M0,w0,D0,U0,k0,B0,V0,F0,G0,H0,q0,j0,Y0,K0,z0,$0,X0,W0,J0,Q0,Z0,ex,G8,H8,q8,j8,Y8,K8,z8,$8,X8,W8,J8,Q8,Z8,e5,t5,r5,n5,i5,o5,s5,a5,l5,c5,u5,f5,p5,d5,h5,_5,E5,jm,Ym,m5,Km,T5,S5,g5,v5,y5,O5,A5,R5,N5,C5,P5,I5,L5,b5,x5,M5,w5,D5,U5,k5,B5,V5,zm,F5,G5,$m,Xm,Wm,Jm,Qm,H5,Zm,eT,st,Fo,tl,at,q5,tT,j5,Se,ge,ve,Y5,K5,z5,$5,X5,tx,rx,nx,ix,W5,J5,Q5,Z5,e7,ox,sx,ax,lx,cx,ux,fx,px,dx,hx,_x,Ex,mx,Tx,Sx,gx,vx,t7,r7,n7,i7,o7,s7,a7,l7,c7,u7,f7,p7,d7,h7,_7,E7,m7,T7,yx,Ox,S7,g7,v7,Ax,Rx,Nx,Cx,Px,Ix,Lx,y7,O7,A7,R7,N7,C7,P7,I7,bx,xx,Mx,wx,Dx,Ux,kx,Bx,Vx,Fx,Gx,L7,b7,x7,M7,w7,D7,U7,k7,B7,V7,F7,G7,Hx,qx,jx,Yx,Kx,zx,$x,Xx,Wx,Jx,H7,q7,j7,Y7,K7,wt,z7,$7,X7,W7,J7,Qx=p(()=>{Hm();Pb="cloud.provider",Ib="cloud.account.id",Lb="cloud.region",bb="cloud.availability_zone",xb="cloud.platform",Mb="aws.ecs.container.arn",wb="aws.ecs.cluster.arn",Db="aws.ecs.launchtype",Ub="aws.ecs.task.arn",kb="aws.ecs.task.family",Bb="aws.ecs.task.revision",Vb="aws.eks.cluster.arn",Fb="aws.log.group.names",Gb="aws.log.group.arns",Hb="aws.log.stream.names",qb="aws.log.stream.arns",jb="container.name",Yb="container.id",Kb="container.runtime",zb="container.image.name",$b="container.image.tag",Xb="deployment.environment",Wb="device.id",Jb="device.model.identifier",Qb="device.model.name",Zb="faas.name",e0="faas.id",t0="faas.version",r0="faas.instance",n0="faas.max_memory",i0="host.id",o0="host.name",s0="host.type",a0="host.arch",l0="host.image.name",c0="host.image.id",u0="host.image.version",f0="k8s.cluster.name",p0="k8s.node.name",d0="k8s.node.uid",h0="k8s.namespace.name",_0="k8s.pod.uid",E0="k8s.pod.name",m0="k8s.container.name",T0="k8s.replicaset.uid",S0="k8s.replicaset.name",g0="k8s.deployment.uid",v0="k8s.deployment.name",y0="k8s.statefulset.uid",O0="k8s.statefulset.name",A0="k8s.daemonset.uid",R0="k8s.daemonset.name",N0="k8s.job.uid",C0="k8s.job.name",P0="k8s.cronjob.uid",I0="k8s.cronjob.name",L0="os.type",b0="os.description",x0="os.name",M0="os.version",w0="process.pid",D0="process.executable.name",U0="process.executable.path",k0="process.command",B0="process.command_line",V0="process.command_args",F0="process.owner",G0="process.runtime.name",H0="process.runtime.version",q0="process.runtime.description",j0="service.name",Y0="service.namespace",K0="service.instance.id",z0="service.version",$0="telemetry.sdk.name",X0="telemetry.sdk.language",W0="telemetry.sdk.version",J0="telemetry.auto.version",Q0="webengine.name",Z0="webengine.version",ex="webengine.description",G8=Pb,H8=Ib,q8=Lb,j8=bb,Y8=xb,K8=Mb,z8=wb,$8=Db,X8=Ub,W8=kb,J8=Bb,Q8=Vb,Z8=Fb,e5=Gb,t5=Hb,r5=qb,n5=jb,i5=Yb,o5=Kb,s5=zb,a5=$b,l5=Xb,c5=Wb,u5=Jb,f5=Qb,p5=Zb,d5=e0,h5=t0,_5=r0,E5=n0,jm=i0,Ym=o0,m5=s0,Km=a0,T5=l0,S5=c0,g5=u0,v5=f0,y5=p0,O5=d0,A5=h0,R5=_0,N5=E0,C5=m0,P5=T0,I5=S0,L5=g0,b5=v0,x5=y0,M5=O0,w5=A0,D5=R0,U5=N0,k5=C0,B5=P0,V5=I0,zm=L0,F5=b0,G5=x0,$m=M0,Xm=w0,Wm=D0,Jm=U0,Qm=k0,H5=B0,Zm=V0,eT=F0,st=G0,Fo=H0,tl=q0,at=j0,q5=Y0,tT=K0,j5=z0,Se=$0,ge=X0,ve=W0,Y5=J0,K5=Q0,z5=Z0,$5=ex,X5=Be([Pb,Ib,Lb,bb,xb,Mb,wb,Db,Ub,kb,Bb,Vb,Fb,Gb,Hb,qb,jb,Yb,Kb,zb,$b,Xb,Wb,Jb,Qb,Zb,e0,t0,r0,n0,i0,o0,s0,a0,l0,c0,u0,f0,p0,d0,h0,_0,E0,m0,T0,S0,g0,v0,y0,O0,A0,R0,N0,C0,P0,I0,L0,b0,x0,M0,w0,D0,U0,k0,B0,V0,F0,G0,H0,q0,j0,Y0,K0,z0,$0,X0,W0,J0,Q0,Z0,ex]),tx="alibaba_cloud",rx="aws",nx="azure",ix="gcp",W5=tx,J5=rx,Q5=nx,Z5=ix,e7=Be([tx,rx,nx,ix]),ox="alibaba_cloud_ecs",sx="alibaba_cloud_fc",ax="aws_ec2",lx="aws_ecs",cx="aws_eks",ux="aws_lambda",fx="aws_elastic_beanstalk",px="azure_vm",dx="azure_container_instances",hx="azure_aks",_x="azure_functions",Ex="azure_app_service",mx="gcp_compute_engine",Tx="gcp_cloud_run",Sx="gcp_kubernetes_engine",gx="gcp_cloud_functions",vx="gcp_app_engine",t7=ox,r7=sx,n7=ax,i7=lx,o7=cx,s7=ux,a7=fx,l7=px,c7=dx,u7=hx,f7=_x,p7=Ex,d7=mx,h7=Tx,_7=Sx,E7=gx,m7=vx,T7=Be([ox,sx,ax,lx,cx,ux,fx,px,dx,hx,_x,Ex,mx,Tx,Sx,gx,vx]),yx="ec2",Ox="fargate",S7=yx,g7=Ox,v7=Be([yx,Ox]),Ax="amd64",Rx="arm32",Nx="arm64",Cx="ia64",Px="ppc32",Ix="ppc64",Lx="x86",y7=Ax,O7=Rx,A7=Nx,R7=Cx,N7=Px,C7=Ix,P7=Lx,I7=Be([Ax,Rx,Nx,Cx,Px,Ix,Lx]),bx="windows",xx="linux",Mx="darwin",wx="freebsd",Dx="netbsd",Ux="openbsd",kx="dragonflybsd",Bx="hpux",Vx="aix",Fx="solaris",Gx="z_os",L7=bx,b7=xx,x7=Mx,M7=wx,w7=Dx,D7=Ux,U7=kx,k7=Bx,B7=Vx,V7=Fx,F7=Gx,G7=Be([bx,xx,Mx,wx,Dx,Ux,kx,Bx,Vx,Fx,Gx]),Hx="cpp",qx="dotnet",jx="erlang",Yx="go",Kx="java",zx="nodejs",$x="php",Xx="python",Wx="ruby",Jx="webjs",H7=Hx,q7=qx,j7=jx,Y7=Yx,K7=Kx,wt=zx,z7=$x,$7=Xx,X7=Wx,W7=Jx,J7=Be([Hx,qx,jx,Yx,Kx,zx,$x,Xx,Wx,Jx])});var Zx=p(()=>{Qx()});var Q7,Z7,e9,t9,r9,n9,i9,o9,s9,a9,l9,c9,u9,f9,p9,d9,h9,_9,E9,m9,T9,S9,g9,v9,y9,O9,A9,R9,N9,C9,P9,I9,L9,b9,x9,M9,w9,D9,U9,k9,B9,V9,F9,G9,H9,q9,j9,Y9,K9,z9,$9,X9,W9,J9,Q9,Z9,eJ,tJ,rJ,nJ,iJ,oJ,sJ,aJ,lJ,cJ,uJ,fJ,pJ,dJ,hJ,_J,EJ,mJ,TJ,SJ,gJ,vJ,yJ,OJ,AJ,RJ,NJ,CJ,PJ,IJ,LJ,bJ,xJ,MJ,wJ,DJ,UJ,kJ,BJ,VJ,FJ,GJ,HJ,qJ,jJ,YJ,KJ,zJ,$J,XJ,WJ,JJ,QJ,ZJ,eM=p(()=>{Q7="aspnetcore.rate_limiting.result",Z7="acquired",e9="endpoint_limiter",t9="global_limiter",r9="request_canceled",n9="telemetry.sdk.language",i9="cpp",o9="dotnet",s9="erlang",a9="go",l9="java",c9="nodejs",u9="php",f9="python",p9="ruby",d9="rust",h9="swift",_9="webjs",E9="telemetry.sdk.name",m9="telemetry.sdk.version",T9="aspnetcore.diagnostics.handler.type",S9="aspnetcore.diagnostics.exception.result",g9="aborted",v9="handled",y9="skipped",O9="unhandled",A9="aspnetcore.rate_limiting.policy",R9="aspnetcore.request.is_unhandled",N9="aspnetcore.routing.is_fallback",C9="aspnetcore.routing.match_status",P9="failure",I9="success",L9="client.address",b9="client.port",x9="error.type",M9="_OTHER",w9="exception.escaped",D9="exception.message",U9="exception.stacktrace",k9="exception.type",B9=function(r){return"http.request.header."+r},V9="http.request.method",F9="_OTHER",G9="CONNECT",H9="DELETE",q9="GET",j9="HEAD",Y9="OPTIONS",K9="PATCH",z9="POST",$9="PUT",X9="TRACE",W9="http.request.method_original",J9="http.request.resend_count",Q9=function(r){return"http.response.header."+r},Z9="http.response.status_code",eJ="http.route",tJ="jvm.gc.action",rJ="jvm.gc.name",nJ="jvm.memory.pool.name",iJ="jvm.memory.type",oJ="heap",sJ="non_heap",aJ="jvm.thread.daemon",lJ="jvm.thread.state",cJ="blocked",uJ="new",fJ="runnable",pJ="terminated",dJ="timed_waiting",hJ="waiting",_J="network.local.address",EJ="network.local.port",mJ="network.peer.address",TJ="network.peer.port",SJ="network.protocol.name",gJ="network.protocol.version",vJ="network.transport",yJ="pipe",OJ="quic",AJ="tcp",RJ="udp",NJ="unix",CJ="network.type",PJ="ipv4",IJ="ipv6",LJ="otel.scope.name",bJ="otel.scope.version",xJ="otel.status_code",MJ="ERROR",wJ="OK",DJ="otel.status_description",UJ="server.address",kJ="server.port",BJ="service.name",VJ="service.version",FJ="signalr.connection.status",GJ="app_shutdown",HJ="normal_closure",qJ="timeout",jJ="signalr.transport",YJ="long_polling",KJ="server_sent_events",zJ="web_sockets",$J="url.fragment",XJ="url.full",WJ="url.path",JJ="url.query",QJ="url.scheme",ZJ="user_agent.original"});var eQ,tQ,rQ,nQ,iQ,oQ,sQ,aQ,lQ,cQ,uQ,fQ,pQ,dQ,hQ,_Q,EQ,mQ,TQ,SQ,gQ,vQ,yQ,OQ,AQ,RQ,NQ,CQ,PQ,IQ,LQ,tM=p(()=>{eQ="aspnetcore.diagnostics.exceptions",tQ="aspnetcore.rate_limiting.active_request_leases",rQ="aspnetcore.rate_limiting.queued_requests",nQ="aspnetcore.rate_limiting.request.time_in_queue",iQ="aspnetcore.rate_limiting.request_lease.duration",oQ="aspnetcore.rate_limiting.requests",sQ="aspnetcore.routing.match_attempts",aQ="http.client.request.duration",lQ="http.server.request.duration",cQ="jvm.class.count",uQ="jvm.class.loaded",fQ="jvm.class.unloaded",pQ="jvm.cpu.count",dQ="jvm.cpu.recent_utilization",hQ="jvm.cpu.time",_Q="jvm.gc.duration",EQ="jvm.memory.committed",mQ="jvm.memory.limit",TQ="jvm.memory.used",SQ="jvm.memory.used_after_last_gc",gQ="jvm.thread.count",vQ="kestrel.active_connections",yQ="kestrel.active_tls_handshakes",OQ="kestrel.connection.duration",AQ="kestrel.queued_connections",RQ="kestrel.queued_requests",NQ="kestrel.rejected_connections",CQ="kestrel.tls_handshake.duration",PQ="kestrel.upgraded_connections",IQ="signalr.server.active_connections",LQ="signalr.server.connection.duration"});var rM={};Ae(rM,{ASPNETCORE_DIAGNOSTICS_EXCEPTION_RESULT_VALUE_ABORTED:()=>g9,ASPNETCORE_DIAGNOSTICS_EXCEPTION_RESULT_VALUE_HANDLED:()=>v9,ASPNETCORE_DIAGNOSTICS_EXCEPTION_RESULT_VALUE_SKIPPED:()=>y9,ASPNETCORE_DIAGNOSTICS_EXCEPTION_RESULT_VALUE_UNHANDLED:()=>O9,ASPNETCORE_RATE_LIMITING_RESULT_VALUE_ACQUIRED:()=>Z7,ASPNETCORE_RATE_LIMITING_RESULT_VALUE_ENDPOINT_LIMITER:()=>e9,ASPNETCORE_RATE_LIMITING_RESULT_VALUE_GLOBAL_LIMITER:()=>t9,ASPNETCORE_RATE_LIMITING_RESULT_VALUE_REQUEST_CANCELED:()=>r9,ASPNETCORE_ROUTING_MATCH_STATUS_VALUE_FAILURE:()=>P9,ASPNETCORE_ROUTING_MATCH_STATUS_VALUE_SUCCESS:()=>I9,ATTR_ASPNETCORE_DIAGNOSTICS_EXCEPTION_RESULT:()=>S9,ATTR_ASPNETCORE_DIAGNOSTICS_HANDLER_TYPE:()=>T9,ATTR_ASPNETCORE_RATE_LIMITING_POLICY:()=>A9,ATTR_ASPNETCORE_RATE_LIMITING_RESULT:()=>Q7,ATTR_ASPNETCORE_REQUEST_IS_UNHANDLED:()=>R9,ATTR_ASPNETCORE_ROUTING_IS_FALLBACK:()=>N9,ATTR_ASPNETCORE_ROUTING_MATCH_STATUS:()=>C9,ATTR_CLIENT_ADDRESS:()=>L9,ATTR_CLIENT_PORT:()=>b9,ATTR_ERROR_TYPE:()=>x9,ATTR_EXCEPTION_ESCAPED:()=>w9,ATTR_EXCEPTION_MESSAGE:()=>D9,ATTR_EXCEPTION_STACKTRACE:()=>U9,ATTR_EXCEPTION_TYPE:()=>k9,ATTR_HTTP_REQUEST_HEADER:()=>B9,ATTR_HTTP_REQUEST_METHOD:()=>V9,ATTR_HTTP_REQUEST_METHOD_ORIGINAL:()=>W9,ATTR_HTTP_REQUEST_RESEND_COUNT:()=>J9,ATTR_HTTP_RESPONSE_HEADER:()=>Q9,ATTR_HTTP_RESPONSE_STATUS_CODE:()=>Z9,ATTR_HTTP_ROUTE:()=>eJ,ATTR_JVM_GC_ACTION:()=>tJ,ATTR_JVM_GC_NAME:()=>rJ,ATTR_JVM_MEMORY_POOL_NAME:()=>nJ,ATTR_JVM_MEMORY_TYPE:()=>iJ,ATTR_JVM_THREAD_DAEMON:()=>aJ,ATTR_JVM_THREAD_STATE:()=>lJ,ATTR_NETWORK_LOCAL_ADDRESS:()=>_J,ATTR_NETWORK_LOCAL_PORT:()=>EJ,ATTR_NETWORK_PEER_ADDRESS:()=>mJ,ATTR_NETWORK_PEER_PORT:()=>TJ,ATTR_NETWORK_PROTOCOL_NAME:()=>SJ,ATTR_NETWORK_PROTOCOL_VERSION:()=>gJ,ATTR_NETWORK_TRANSPORT:()=>vJ,ATTR_NETWORK_TYPE:()=>CJ,ATTR_OTEL_SCOPE_NAME:()=>LJ,ATTR_OTEL_SCOPE_VERSION:()=>bJ,ATTR_OTEL_STATUS_CODE:()=>xJ,ATTR_OTEL_STATUS_DESCRIPTION:()=>DJ,ATTR_SERVER_ADDRESS:()=>UJ,ATTR_SERVER_PORT:()=>kJ,ATTR_SERVICE_NAME:()=>BJ,ATTR_SERVICE_VERSION:()=>VJ,ATTR_SIGNALR_CONNECTION_STATUS:()=>FJ,ATTR_SIGNALR_TRANSPORT:()=>jJ,ATTR_TELEMETRY_SDK_LANGUAGE:()=>n9,ATTR_TELEMETRY_SDK_NAME:()=>E9,ATTR_TELEMETRY_SDK_VERSION:()=>m9,ATTR_URL_FRAGMENT:()=>$J,ATTR_URL_FULL:()=>XJ,ATTR_URL_PATH:()=>WJ,ATTR_URL_QUERY:()=>JJ,ATTR_URL_SCHEME:()=>QJ,ATTR_USER_AGENT_ORIGINAL:()=>ZJ,AWSECSLAUNCHTYPEVALUES_EC2:()=>S7,AWSECSLAUNCHTYPEVALUES_FARGATE:()=>g7,AwsEcsLaunchtypeValues:()=>v7,CLOUDPLATFORMVALUES_ALIBABA_CLOUD_ECS:()=>t7,CLOUDPLATFORMVALUES_ALIBABA_CLOUD_FC:()=>r7,CLOUDPLATFORMVALUES_AWS_EC2:()=>n7,CLOUDPLATFORMVALUES_AWS_ECS:()=>i7,CLOUDPLATFORMVALUES_AWS_EKS:()=>o7,CLOUDPLATFORMVALUES_AWS_ELASTIC_BEANSTALK:()=>a7,CLOUDPLATFORMVALUES_AWS_LAMBDA:()=>s7,CLOUDPLATFORMVALUES_AZURE_AKS:()=>u7,CLOUDPLATFORMVALUES_AZURE_APP_SERVICE:()=>p7,CLOUDPLATFORMVALUES_AZURE_CONTAINER_INSTANCES:()=>c7,CLOUDPLATFORMVALUES_AZURE_FUNCTIONS:()=>f7,CLOUDPLATFORMVALUES_AZURE_VM:()=>l7,CLOUDPLATFORMVALUES_GCP_APP_ENGINE:()=>m7,CLOUDPLATFORMVALUES_GCP_CLOUD_FUNCTIONS:()=>E7,CLOUDPLATFORMVALUES_GCP_CLOUD_RUN:()=>h7,CLOUDPLATFORMVALUES_GCP_COMPUTE_ENGINE:()=>d7,CLOUDPLATFORMVALUES_GCP_KUBERNETES_ENGINE:()=>_7,CLOUDPROVIDERVALUES_ALIBABA_CLOUD:()=>W5,CLOUDPROVIDERVALUES_AWS:()=>J5,CLOUDPROVIDERVALUES_AZURE:()=>Q5,CLOUDPROVIDERVALUES_GCP:()=>Z5,CloudPlatformValues:()=>T7,CloudProviderValues:()=>e7,DBCASSANDRACONSISTENCYLEVELVALUES_ALL:()=>ZX,DBCASSANDRACONSISTENCYLEVELVALUES_ANY:()=>aW,DBCASSANDRACONSISTENCYLEVELVALUES_EACH_QUORUM:()=>eW,DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_ONE:()=>sW,DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_QUORUM:()=>rW,DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_SERIAL:()=>cW,DBCASSANDRACONSISTENCYLEVELVALUES_ONE:()=>nW,DBCASSANDRACONSISTENCYLEVELVALUES_QUORUM:()=>tW,DBCASSANDRACONSISTENCYLEVELVALUES_SERIAL:()=>lW,DBCASSANDRACONSISTENCYLEVELVALUES_THREE:()=>oW,DBCASSANDRACONSISTENCYLEVELVALUES_TWO:()=>iW,DBSYSTEMVALUES_ADABAS:()=>yX,DBSYSTEMVALUES_CACHE:()=>vX,DBSYSTEMVALUES_CASSANDRA:()=>VX,DBSYSTEMVALUES_CLOUDSCAPE:()=>dX,DBSYSTEMVALUES_COCKROACHDB:()=>JX,DBSYSTEMVALUES_COLDFUSION:()=>BX,DBSYSTEMVALUES_COSMOSDB:()=>YX,DBSYSTEMVALUES_COUCHBASE:()=>qX,DBSYSTEMVALUES_COUCHDB:()=>jX,DBSYSTEMVALUES_DB2:()=>cX,DBSYSTEMVALUES_DERBY:()=>AX,DBSYSTEMVALUES_DYNAMODB:()=>KX,DBSYSTEMVALUES_EDB:()=>gX,DBSYSTEMVALUES_ELASTICSEARCH:()=>XX,DBSYSTEMVALUES_FILEMAKER:()=>RX,DBSYSTEMVALUES_FIREBIRD:()=>OX,DBSYSTEMVALUES_FIRSTSQL:()=>SX,DBSYSTEMVALUES_GEODE:()=>$X,DBSYSTEMVALUES_H2:()=>kX,DBSYSTEMVALUES_HANADB:()=>mX,DBSYSTEMVALUES_HBASE:()=>FX,DBSYSTEMVALUES_HIVE:()=>pX,DBSYSTEMVALUES_HSQLDB:()=>hX,DBSYSTEMVALUES_INFORMIX:()=>NX,DBSYSTEMVALUES_INGRES:()=>TX,DBSYSTEMVALUES_INSTANTDB:()=>CX,DBSYSTEMVALUES_INTERBASE:()=>PX,DBSYSTEMVALUES_MARIADB:()=>IX,DBSYSTEMVALUES_MAXDB:()=>EX,DBSYSTEMVALUES_MEMCACHED:()=>WX,DBSYSTEMVALUES_MONGODB:()=>GX,DBSYSTEMVALUES_MSSQL:()=>sX,DBSYSTEMVALUES_MYSQL:()=>aX,DBSYSTEMVALUES_NEO4J:()=>zX,DBSYSTEMVALUES_NETEZZA:()=>LX,DBSYSTEMVALUES_ORACLE:()=>lX,DBSYSTEMVALUES_OTHER_SQL:()=>oX,DBSYSTEMVALUES_PERVASIVE:()=>bX,DBSYSTEMVALUES_POINTBASE:()=>xX,DBSYSTEMVALUES_POSTGRESQL:()=>uX,DBSYSTEMVALUES_PROGRESS:()=>_X,DBSYSTEMVALUES_REDIS:()=>HX,DBSYSTEMVALUES_REDSHIFT:()=>fX,DBSYSTEMVALUES_SQLITE:()=>MX,DBSYSTEMVALUES_SYBASE:()=>wX,DBSYSTEMVALUES_TERADATA:()=>DX,DBSYSTEMVALUES_VERTICA:()=>UX,DbCassandraConsistencyLevelValues:()=>uW,DbSystemValues:()=>QX,ERROR_TYPE_VALUE_OTHER:()=>M9,FAASDOCUMENTOPERATIONVALUES_DELETE:()=>SW,FAASDOCUMENTOPERATIONVALUES_EDIT:()=>TW,FAASDOCUMENTOPERATIONVALUES_INSERT:()=>mW,FAASINVOKEDPROVIDERVALUES_ALIBABA_CLOUD:()=>vW,FAASINVOKEDPROVIDERVALUES_AWS:()=>yW,FAASINVOKEDPROVIDERVALUES_AZURE:()=>OW,FAASINVOKEDPROVIDERVALUES_GCP:()=>AW,FAASTRIGGERVALUES_DATASOURCE:()=>fW,FAASTRIGGERVALUES_HTTP:()=>pW,FAASTRIGGERVALUES_OTHER:()=>_W,FAASTRIGGERVALUES_PUBSUB:()=>dW,FAASTRIGGERVALUES_TIMER:()=>hW,FaasDocumentOperationValues:()=>gW,FaasInvokedProviderValues:()=>RW,FaasTriggerValues:()=>EW,HOSTARCHVALUES_AMD64:()=>y7,HOSTARCHVALUES_ARM32:()=>O7,HOSTARCHVALUES_ARM64:()=>A7,HOSTARCHVALUES_IA64:()=>R7,HOSTARCHVALUES_PPC32:()=>N7,HOSTARCHVALUES_PPC64:()=>C7,HOSTARCHVALUES_X86:()=>P7,HTTPFLAVORVALUES_HTTP_1_0:()=>l8,HTTPFLAVORVALUES_HTTP_1_1:()=>c8,HTTPFLAVORVALUES_HTTP_2_0:()=>u8,HTTPFLAVORVALUES_QUIC:()=>p8,HTTPFLAVORVALUES_SPDY:()=>f8,HTTP_REQUEST_METHOD_VALUE_CONNECT:()=>G9,HTTP_REQUEST_METHOD_VALUE_DELETE:()=>H9,HTTP_REQUEST_METHOD_VALUE_GET:()=>q9,HTTP_REQUEST_METHOD_VALUE_HEAD:()=>j9,HTTP_REQUEST_METHOD_VALUE_OPTIONS:()=>Y9,HTTP_REQUEST_METHOD_VALUE_OTHER:()=>F9,HTTP_REQUEST_METHOD_VALUE_PATCH:()=>K9,HTTP_REQUEST_METHOD_VALUE_POST:()=>z9,HTTP_REQUEST_METHOD_VALUE_PUT:()=>$9,HTTP_REQUEST_METHOD_VALUE_TRACE:()=>X9,HostArchValues:()=>I7,HttpFlavorValues:()=>d8,JVM_MEMORY_TYPE_VALUE_HEAP:()=>oJ,JVM_MEMORY_TYPE_VALUE_NON_HEAP:()=>sJ,JVM_THREAD_STATE_VALUE_BLOCKED:()=>cJ,JVM_THREAD_STATE_VALUE_NEW:()=>uJ,JVM_THREAD_STATE_VALUE_RUNNABLE:()=>fJ,JVM_THREAD_STATE_VALUE_TERMINATED:()=>pJ,JVM_THREAD_STATE_VALUE_TIMED_WAITING:()=>dJ,JVM_THREAD_STATE_VALUE_WAITING:()=>hJ,MESSAGETYPEVALUES_RECEIVED:()=>V8,MESSAGETYPEVALUES_SENT:()=>B8,MESSAGINGDESTINATIONKINDVALUES_QUEUE:()=>h8,MESSAGINGDESTINATIONKINDVALUES_TOPIC:()=>_8,MESSAGINGOPERATIONVALUES_PROCESS:()=>T8,MESSAGINGOPERATIONVALUES_RECEIVE:()=>m8,METRIC_ASPNETCORE_DIAGNOSTICS_EXCEPTIONS:()=>eQ,METRIC_ASPNETCORE_RATE_LIMITING_ACTIVE_REQUEST_LEASES:()=>tQ,METRIC_ASPNETCORE_RATE_LIMITING_QUEUED_REQUESTS:()=>rQ,METRIC_ASPNETCORE_RATE_LIMITING_REQUESTS:()=>oQ,METRIC_ASPNETCORE_RATE_LIMITING_REQUEST_LEASE_DURATION:()=>iQ,METRIC_ASPNETCORE_RATE_LIMITING_REQUEST_TIME_IN_QUEUE:()=>nQ,METRIC_ASPNETCORE_ROUTING_MATCH_ATTEMPTS:()=>sQ,METRIC_HTTP_CLIENT_REQUEST_DURATION:()=>aQ,METRIC_HTTP_SERVER_REQUEST_DURATION:()=>lQ,METRIC_JVM_CLASS_COUNT:()=>cQ,METRIC_JVM_CLASS_LOADED:()=>uQ,METRIC_JVM_CLASS_UNLOADED:()=>fQ,METRIC_JVM_CPU_COUNT:()=>pQ,METRIC_JVM_CPU_RECENT_UTILIZATION:()=>dQ,METRIC_JVM_CPU_TIME:()=>hQ,METRIC_JVM_GC_DURATION:()=>_Q,METRIC_JVM_MEMORY_COMMITTED:()=>EQ,METRIC_JVM_MEMORY_LIMIT:()=>mQ,METRIC_JVM_MEMORY_USED:()=>TQ,METRIC_JVM_MEMORY_USED_AFTER_LAST_GC:()=>SQ,METRIC_JVM_THREAD_COUNT:()=>gQ,METRIC_KESTREL_ACTIVE_CONNECTIONS:()=>vQ,METRIC_KESTREL_ACTIVE_TLS_HANDSHAKES:()=>yQ,METRIC_KESTREL_CONNECTION_DURATION:()=>OQ,METRIC_KESTREL_QUEUED_CONNECTIONS:()=>AQ,METRIC_KESTREL_QUEUED_REQUESTS:()=>RQ,METRIC_KESTREL_REJECTED_CONNECTIONS:()=>NQ,METRIC_KESTREL_TLS_HANDSHAKE_DURATION:()=>CQ,METRIC_KESTREL_UPGRADED_CONNECTIONS:()=>PQ,METRIC_SIGNALR_SERVER_ACTIVE_CONNECTIONS:()=>IQ,METRIC_SIGNALR_SERVER_CONNECTION_DURATION:()=>LQ,MessageTypeValues:()=>F8,MessagingDestinationKindValues:()=>E8,MessagingOperationValues:()=>S8,NETHOSTCONNECTIONSUBTYPEVALUES_CDMA:()=>qW,NETHOSTCONNECTIONSUBTYPEVALUES_CDMA2000_1XRTT:()=>KW,NETHOSTCONNECTIONSUBTYPEVALUES_EDGE:()=>GW,NETHOSTCONNECTIONSUBTYPEVALUES_EHRPD:()=>ZW,NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_0:()=>jW,NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_A:()=>YW,NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_B:()=>JW,NETHOSTCONNECTIONSUBTYPEVALUES_GPRS:()=>FW,NETHOSTCONNECTIONSUBTYPEVALUES_GSM:()=>t8,NETHOSTCONNECTIONSUBTYPEVALUES_HSDPA:()=>zW,NETHOSTCONNECTIONSUBTYPEVALUES_HSPA:()=>XW,NETHOSTCONNECTIONSUBTYPEVALUES_HSPAP:()=>e8,NETHOSTCONNECTIONSUBTYPEVALUES_HSUPA:()=>$W,NETHOSTCONNECTIONSUBTYPEVALUES_IDEN:()=>WW,NETHOSTCONNECTIONSUBTYPEVALUES_IWLAN:()=>n8,NETHOSTCONNECTIONSUBTYPEVALUES_LTE:()=>QW,NETHOSTCONNECTIONSUBTYPEVALUES_LTE_CA:()=>s8,NETHOSTCONNECTIONSUBTYPEVALUES_NR:()=>i8,NETHOSTCONNECTIONSUBTYPEVALUES_NRNSA:()=>o8,NETHOSTCONNECTIONSUBTYPEVALUES_TD_SCDMA:()=>r8,NETHOSTCONNECTIONSUBTYPEVALUES_UMTS:()=>HW,NETHOSTCONNECTIONTYPEVALUES_CELL:()=>UW,NETHOSTCONNECTIONTYPEVALUES_UNAVAILABLE:()=>kW,NETHOSTCONNECTIONTYPEVALUES_UNKNOWN:()=>BW,NETHOSTCONNECTIONTYPEVALUES_WIFI:()=>wW,NETHOSTCONNECTIONTYPEVALUES_WIRED:()=>DW,NETTRANSPORTVALUES_INPROC:()=>bW,NETTRANSPORTVALUES_IP:()=>PW,NETTRANSPORTVALUES_IP_TCP:()=>NW,NETTRANSPORTVALUES_IP_UDP:()=>CW,NETTRANSPORTVALUES_OTHER:()=>xW,NETTRANSPORTVALUES_PIPE:()=>LW,NETTRANSPORTVALUES_UNIX:()=>IW,NETWORK_TRANSPORT_VALUE_PIPE:()=>yJ,NETWORK_TRANSPORT_VALUE_QUIC:()=>OJ,NETWORK_TRANSPORT_VALUE_TCP:()=>AJ,NETWORK_TRANSPORT_VALUE_UDP:()=>RJ,NETWORK_TRANSPORT_VALUE_UNIX:()=>NJ,NETWORK_TYPE_VALUE_IPV4:()=>PJ,NETWORK_TYPE_VALUE_IPV6:()=>IJ,NetHostConnectionSubtypeValues:()=>a8,NetHostConnectionTypeValues:()=>VW,NetTransportValues:()=>MW,OSTYPEVALUES_AIX:()=>B7,OSTYPEVALUES_DARWIN:()=>x7,OSTYPEVALUES_DRAGONFLYBSD:()=>U7,OSTYPEVALUES_FREEBSD:()=>M7,OSTYPEVALUES_HPUX:()=>k7,OSTYPEVALUES_LINUX:()=>b7,OSTYPEVALUES_NETBSD:()=>w7,OSTYPEVALUES_OPENBSD:()=>D7,OSTYPEVALUES_SOLARIS:()=>V7,OSTYPEVALUES_WINDOWS:()=>L7,OSTYPEVALUES_Z_OS:()=>F7,OTEL_STATUS_CODE_VALUE_ERROR:()=>MJ,OTEL_STATUS_CODE_VALUE_OK:()=>wJ,OsTypeValues:()=>G7,RPCGRPCSTATUSCODEVALUES_ABORTED:()=>L8,RPCGRPCSTATUSCODEVALUES_ALREADY_EXISTS:()=>N8,RPCGRPCSTATUSCODEVALUES_CANCELLED:()=>v8,RPCGRPCSTATUSCODEVALUES_DATA_LOSS:()=>D8,RPCGRPCSTATUSCODEVALUES_DEADLINE_EXCEEDED:()=>A8,RPCGRPCSTATUSCODEVALUES_FAILED_PRECONDITION:()=>I8,RPCGRPCSTATUSCODEVALUES_INTERNAL:()=>M8,RPCGRPCSTATUSCODEVALUES_INVALID_ARGUMENT:()=>O8,RPCGRPCSTATUSCODEVALUES_NOT_FOUND:()=>R8,RPCGRPCSTATUSCODEVALUES_OK:()=>g8,RPCGRPCSTATUSCODEVALUES_OUT_OF_RANGE:()=>b8,RPCGRPCSTATUSCODEVALUES_PERMISSION_DENIED:()=>C8,RPCGRPCSTATUSCODEVALUES_RESOURCE_EXHAUSTED:()=>P8,RPCGRPCSTATUSCODEVALUES_UNAUTHENTICATED:()=>U8,RPCGRPCSTATUSCODEVALUES_UNAVAILABLE:()=>w8,RPCGRPCSTATUSCODEVALUES_UNIMPLEMENTED:()=>x8,RPCGRPCSTATUSCODEVALUES_UNKNOWN:()=>y8,RpcGrpcStatusCodeValues:()=>k8,SEMATTRS_AWS_DYNAMODB_ATTRIBUTES_TO_GET:()=>d$,SEMATTRS_AWS_DYNAMODB_ATTRIBUTE_DEFINITIONS:()=>R$,SEMATTRS_AWS_DYNAMODB_CONSISTENT_READ:()=>u$,SEMATTRS_AWS_DYNAMODB_CONSUMED_CAPACITY:()=>s$,SEMATTRS_AWS_DYNAMODB_COUNT:()=>O$,SEMATTRS_AWS_DYNAMODB_EXCLUSIVE_START_TABLE:()=>T$,SEMATTRS_AWS_DYNAMODB_GLOBAL_SECONDARY_INDEXES:()=>E$,SEMATTRS_AWS_DYNAMODB_GLOBAL_SECONDARY_INDEX_UPDATES:()=>N$,SEMATTRS_AWS_DYNAMODB_INDEX_NAME:()=>h$,SEMATTRS_AWS_DYNAMODB_ITEM_COLLECTION_METRICS:()=>a$,SEMATTRS_AWS_DYNAMODB_LIMIT:()=>p$,SEMATTRS_AWS_DYNAMODB_LOCAL_SECONDARY_INDEXES:()=>m$,SEMATTRS_AWS_DYNAMODB_PROJECTION:()=>f$,SEMATTRS_AWS_DYNAMODB_PROVISIONED_READ_CAPACITY:()=>l$,SEMATTRS_AWS_DYNAMODB_PROVISIONED_WRITE_CAPACITY:()=>c$,SEMATTRS_AWS_DYNAMODB_SCANNED_COUNT:()=>A$,SEMATTRS_AWS_DYNAMODB_SCAN_FORWARD:()=>g$,SEMATTRS_AWS_DYNAMODB_SEGMENT:()=>v$,SEMATTRS_AWS_DYNAMODB_SELECT:()=>_$,SEMATTRS_AWS_DYNAMODB_TABLE_COUNT:()=>S$,SEMATTRS_AWS_DYNAMODB_TABLE_NAMES:()=>o$,SEMATTRS_AWS_DYNAMODB_TOTAL_SEGMENTS:()=>y$,SEMATTRS_AWS_LAMBDA_INVOKED_ARN:()=>GK,SEMATTRS_CODE_FILEPATH:()=>Hz,SEMATTRS_CODE_FUNCTION:()=>Fz,SEMATTRS_CODE_LINENO:()=>qz,SEMATTRS_CODE_NAMESPACE:()=>Gz,SEMATTRS_DB_CASSANDRA_CONSISTENCY_LEVEL:()=>QK,SEMATTRS_DB_CASSANDRA_COORDINATOR_DC:()=>nz,SEMATTRS_DB_CASSANDRA_COORDINATOR_ID:()=>rz,SEMATTRS_DB_CASSANDRA_IDEMPOTENCE:()=>ez,SEMATTRS_DB_CASSANDRA_KEYSPACE:()=>WK,SEMATTRS_DB_CASSANDRA_PAGE_SIZE:()=>JK,SEMATTRS_DB_CASSANDRA_SPECULATIVE_EXECUTION_COUNT:()=>tz,SEMATTRS_DB_CASSANDRA_TABLE:()=>ZK,SEMATTRS_DB_CONNECTION_STRING:()=>qK,SEMATTRS_DB_HBASE_NAMESPACE:()=>iz,SEMATTRS_DB_JDBC_DRIVER_CLASSNAME:()=>YK,SEMATTRS_DB_MONGODB_COLLECTION:()=>sz,SEMATTRS_DB_MSSQL_INSTANCE_NAME:()=>XK,SEMATTRS_DB_NAME:()=>KK,SEMATTRS_DB_OPERATION:()=>$K,SEMATTRS_DB_REDIS_DATABASE_INDEX:()=>oz,SEMATTRS_DB_SQL_TABLE:()=>az,SEMATTRS_DB_STATEMENT:()=>zK,SEMATTRS_DB_SYSTEM:()=>HK,SEMATTRS_DB_USER:()=>jK,SEMATTRS_ENDUSER_ID:()=>Dz,SEMATTRS_ENDUSER_ROLE:()=>Uz,SEMATTRS_ENDUSER_SCOPE:()=>kz,SEMATTRS_EXCEPTION_ESCAPED:()=>lz,SEMATTRS_EXCEPTION_MESSAGE:()=>el,SEMATTRS_EXCEPTION_STACKTRACE:()=>qm,SEMATTRS_EXCEPTION_TYPE:()=>Za,SEMATTRS_FAAS_COLDSTART:()=>mz,SEMATTRS_FAAS_CRON:()=>Ez,SEMATTRS_FAAS_DOCUMENT_COLLECTION:()=>fz,SEMATTRS_FAAS_DOCUMENT_NAME:()=>hz,SEMATTRS_FAAS_DOCUMENT_OPERATION:()=>pz,SEMATTRS_FAAS_DOCUMENT_TIME:()=>dz,SEMATTRS_FAAS_EXECUTION:()=>uz,SEMATTRS_FAAS_INVOKED_NAME:()=>Tz,SEMATTRS_FAAS_INVOKED_PROVIDER:()=>Sz,SEMATTRS_FAAS_INVOKED_REGION:()=>gz,SEMATTRS_FAAS_TIME:()=>_z,SEMATTRS_FAAS_TRIGGER:()=>cz,SEMATTRS_HTTP_CLIENT_IP:()=>i$,SEMATTRS_HTTP_FLAVOR:()=>Wz,SEMATTRS_HTTP_HOST:()=>zz,SEMATTRS_HTTP_METHOD:()=>jz,SEMATTRS_HTTP_REQUEST_CONTENT_LENGTH:()=>Qz,SEMATTRS_HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED:()=>Zz,SEMATTRS_HTTP_RESPONSE_CONTENT_LENGTH:()=>e$,SEMATTRS_HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED:()=>t$,SEMATTRS_HTTP_ROUTE:()=>n$,SEMATTRS_HTTP_SCHEME:()=>$z,SEMATTRS_HTTP_SERVER_NAME:()=>r$,SEMATTRS_HTTP_STATUS_CODE:()=>Xz,SEMATTRS_HTTP_TARGET:()=>Kz,SEMATTRS_HTTP_URL:()=>Yz,SEMATTRS_HTTP_USER_AGENT:()=>Jz,SEMATTRS_MESSAGE_COMPRESSED_SIZE:()=>rX,SEMATTRS_MESSAGE_ID:()=>tX,SEMATTRS_MESSAGE_TYPE:()=>eX,SEMATTRS_MESSAGE_UNCOMPRESSED_SIZE:()=>nX,SEMATTRS_MESSAGING_CONSUMER_ID:()=>V$,SEMATTRS_MESSAGING_CONVERSATION_ID:()=>D$,SEMATTRS_MESSAGING_DESTINATION:()=>P$,SEMATTRS_MESSAGING_DESTINATION_KIND:()=>I$,SEMATTRS_MESSAGING_KAFKA_CLIENT_ID:()=>q$,SEMATTRS_MESSAGING_KAFKA_CONSUMER_GROUP:()=>H$,SEMATTRS_MESSAGING_KAFKA_MESSAGE_KEY:()=>G$,SEMATTRS_MESSAGING_KAFKA_PARTITION:()=>j$,SEMATTRS_MESSAGING_KAFKA_TOMBSTONE:()=>Y$,SEMATTRS_MESSAGING_MESSAGE_ID:()=>w$,SEMATTRS_MESSAGING_MESSAGE_PAYLOAD_COMPRESSED_SIZE_BYTES:()=>k$,SEMATTRS_MESSAGING_MESSAGE_PAYLOAD_SIZE_BYTES:()=>U$,SEMATTRS_MESSAGING_OPERATION:()=>B$,SEMATTRS_MESSAGING_PROTOCOL:()=>b$,SEMATTRS_MESSAGING_PROTOCOL_VERSION:()=>x$,SEMATTRS_MESSAGING_RABBITMQ_ROUTING_KEY:()=>F$,SEMATTRS_MESSAGING_SYSTEM:()=>C$,SEMATTRS_MESSAGING_TEMP_DESTINATION:()=>L$,SEMATTRS_MESSAGING_URL:()=>M$,SEMATTRS_NET_HOST_CARRIER_ICC:()=>Mz,SEMATTRS_NET_HOST_CARRIER_MCC:()=>bz,SEMATTRS_NET_HOST_CARRIER_MNC:()=>xz,SEMATTRS_NET_HOST_CARRIER_NAME:()=>Lz,SEMATTRS_NET_HOST_CONNECTION_SUBTYPE:()=>Iz,SEMATTRS_NET_HOST_CONNECTION_TYPE:()=>Pz,SEMATTRS_NET_HOST_IP:()=>Rz,SEMATTRS_NET_HOST_NAME:()=>Cz,SEMATTRS_NET_HOST_PORT:()=>Nz,SEMATTRS_NET_PEER_IP:()=>yz,SEMATTRS_NET_PEER_NAME:()=>Az,SEMATTRS_NET_PEER_PORT:()=>Oz,SEMATTRS_NET_TRANSPORT:()=>vz,SEMATTRS_PEER_SERVICE:()=>wz,SEMATTRS_RPC_GRPC_STATUS_CODE:()=>X$,SEMATTRS_RPC_JSONRPC_ERROR_CODE:()=>Q$,SEMATTRS_RPC_JSONRPC_ERROR_MESSAGE:()=>Z$,SEMATTRS_RPC_JSONRPC_REQUEST_ID:()=>J$,SEMATTRS_RPC_JSONRPC_VERSION:()=>W$,SEMATTRS_RPC_METHOD:()=>$$,SEMATTRS_RPC_SERVICE:()=>z$,SEMATTRS_RPC_SYSTEM:()=>K$,SEMATTRS_THREAD_ID:()=>Bz,SEMATTRS_THREAD_NAME:()=>Vz,SEMRESATTRS_AWS_ECS_CLUSTER_ARN:()=>z8,SEMRESATTRS_AWS_ECS_CONTAINER_ARN:()=>K8,SEMRESATTRS_AWS_ECS_LAUNCHTYPE:()=>$8,SEMRESATTRS_AWS_ECS_TASK_ARN:()=>X8,SEMRESATTRS_AWS_ECS_TASK_FAMILY:()=>W8,SEMRESATTRS_AWS_ECS_TASK_REVISION:()=>J8,SEMRESATTRS_AWS_EKS_CLUSTER_ARN:()=>Q8,SEMRESATTRS_AWS_LOG_GROUP_ARNS:()=>e5,SEMRESATTRS_AWS_LOG_GROUP_NAMES:()=>Z8,SEMRESATTRS_AWS_LOG_STREAM_ARNS:()=>r5,SEMRESATTRS_AWS_LOG_STREAM_NAMES:()=>t5,SEMRESATTRS_CLOUD_ACCOUNT_ID:()=>H8,SEMRESATTRS_CLOUD_AVAILABILITY_ZONE:()=>j8,SEMRESATTRS_CLOUD_PLATFORM:()=>Y8,SEMRESATTRS_CLOUD_PROVIDER:()=>G8,SEMRESATTRS_CLOUD_REGION:()=>q8,SEMRESATTRS_CONTAINER_ID:()=>i5,SEMRESATTRS_CONTAINER_IMAGE_NAME:()=>s5,SEMRESATTRS_CONTAINER_IMAGE_TAG:()=>a5,SEMRESATTRS_CONTAINER_NAME:()=>n5,SEMRESATTRS_CONTAINER_RUNTIME:()=>o5,SEMRESATTRS_DEPLOYMENT_ENVIRONMENT:()=>l5,SEMRESATTRS_DEVICE_ID:()=>c5,SEMRESATTRS_DEVICE_MODEL_IDENTIFIER:()=>u5,SEMRESATTRS_DEVICE_MODEL_NAME:()=>f5,SEMRESATTRS_FAAS_ID:()=>d5,SEMRESATTRS_FAAS_INSTANCE:()=>_5,SEMRESATTRS_FAAS_MAX_MEMORY:()=>E5,SEMRESATTRS_FAAS_NAME:()=>p5,SEMRESATTRS_FAAS_VERSION:()=>h5,SEMRESATTRS_HOST_ARCH:()=>Km,SEMRESATTRS_HOST_ID:()=>jm,SEMRESATTRS_HOST_IMAGE_ID:()=>S5,SEMRESATTRS_HOST_IMAGE_NAME:()=>T5,SEMRESATTRS_HOST_IMAGE_VERSION:()=>g5,SEMRESATTRS_HOST_NAME:()=>Ym,SEMRESATTRS_HOST_TYPE:()=>m5,SEMRESATTRS_K8S_CLUSTER_NAME:()=>v5,SEMRESATTRS_K8S_CONTAINER_NAME:()=>C5,SEMRESATTRS_K8S_CRONJOB_NAME:()=>V5,SEMRESATTRS_K8S_CRONJOB_UID:()=>B5,SEMRESATTRS_K8S_DAEMONSET_NAME:()=>D5,SEMRESATTRS_K8S_DAEMONSET_UID:()=>w5,SEMRESATTRS_K8S_DEPLOYMENT_NAME:()=>b5,SEMRESATTRS_K8S_DEPLOYMENT_UID:()=>L5,SEMRESATTRS_K8S_JOB_NAME:()=>k5,SEMRESATTRS_K8S_JOB_UID:()=>U5,SEMRESATTRS_K8S_NAMESPACE_NAME:()=>A5,SEMRESATTRS_K8S_NODE_NAME:()=>y5,SEMRESATTRS_K8S_NODE_UID:()=>O5,SEMRESATTRS_K8S_POD_NAME:()=>N5,SEMRESATTRS_K8S_POD_UID:()=>R5,SEMRESATTRS_K8S_REPLICASET_NAME:()=>I5,SEMRESATTRS_K8S_REPLICASET_UID:()=>P5,SEMRESATTRS_K8S_STATEFULSET_NAME:()=>M5,SEMRESATTRS_K8S_STATEFULSET_UID:()=>x5,SEMRESATTRS_OS_DESCRIPTION:()=>F5,SEMRESATTRS_OS_NAME:()=>G5,SEMRESATTRS_OS_TYPE:()=>zm,SEMRESATTRS_OS_VERSION:()=>$m,SEMRESATTRS_PROCESS_COMMAND:()=>Qm,SEMRESATTRS_PROCESS_COMMAND_ARGS:()=>Zm,SEMRESATTRS_PROCESS_COMMAND_LINE:()=>H5,SEMRESATTRS_PROCESS_EXECUTABLE_NAME:()=>Wm,SEMRESATTRS_PROCESS_EXECUTABLE_PATH:()=>Jm,SEMRESATTRS_PROCESS_OWNER:()=>eT,SEMRESATTRS_PROCESS_PID:()=>Xm,SEMRESATTRS_PROCESS_RUNTIME_DESCRIPTION:()=>tl,SEMRESATTRS_PROCESS_RUNTIME_NAME:()=>st,SEMRESATTRS_PROCESS_RUNTIME_VERSION:()=>Fo,SEMRESATTRS_SERVICE_INSTANCE_ID:()=>tT,SEMRESATTRS_SERVICE_NAME:()=>at,SEMRESATTRS_SERVICE_NAMESPACE:()=>q5,SEMRESATTRS_SERVICE_VERSION:()=>j5,SEMRESATTRS_TELEMETRY_AUTO_VERSION:()=>Y5,SEMRESATTRS_TELEMETRY_SDK_LANGUAGE:()=>ge,SEMRESATTRS_TELEMETRY_SDK_NAME:()=>Se,SEMRESATTRS_TELEMETRY_SDK_VERSION:()=>ve,SEMRESATTRS_WEBENGINE_DESCRIPTION:()=>$5,SEMRESATTRS_WEBENGINE_NAME:()=>K5,SEMRESATTRS_WEBENGINE_VERSION:()=>z5,SIGNALR_CONNECTION_STATUS_VALUE_APP_SHUTDOWN:()=>GJ,SIGNALR_CONNECTION_STATUS_VALUE_NORMAL_CLOSURE:()=>HJ,SIGNALR_CONNECTION_STATUS_VALUE_TIMEOUT:()=>qJ,SIGNALR_TRANSPORT_VALUE_LONG_POLLING:()=>YJ,SIGNALR_TRANSPORT_VALUE_SERVER_SENT_EVENTS:()=>KJ,SIGNALR_TRANSPORT_VALUE_WEB_SOCKETS:()=>zJ,SemanticAttributes:()=>iX,SemanticResourceAttributes:()=>X5,TELEMETRYSDKLANGUAGEVALUES_CPP:()=>H7,TELEMETRYSDKLANGUAGEVALUES_DOTNET:()=>q7,TELEMETRYSDKLANGUAGEVALUES_ERLANG:()=>j7,TELEMETRYSDKLANGUAGEVALUES_GO:()=>Y7,TELEMETRYSDKLANGUAGEVALUES_JAVA:()=>K7,TELEMETRYSDKLANGUAGEVALUES_NODEJS:()=>wt,TELEMETRYSDKLANGUAGEVALUES_PHP:()=>z7,TELEMETRYSDKLANGUAGEVALUES_PYTHON:()=>$7,TELEMETRYSDKLANGUAGEVALUES_RUBY:()=>X7,TELEMETRYSDKLANGUAGEVALUES_WEBJS:()=>W7,TELEMETRY_SDK_LANGUAGE_VALUE_CPP:()=>i9,TELEMETRY_SDK_LANGUAGE_VALUE_DOTNET:()=>o9,TELEMETRY_SDK_LANGUAGE_VALUE_ERLANG:()=>s9,TELEMETRY_SDK_LANGUAGE_VALUE_GO:()=>a9,TELEMETRY_SDK_LANGUAGE_VALUE_JAVA:()=>l9,TELEMETRY_SDK_LANGUAGE_VALUE_NODEJS:()=>c9,TELEMETRY_SDK_LANGUAGE_VALUE_PHP:()=>u9,TELEMETRY_SDK_LANGUAGE_VALUE_PYTHON:()=>f9,TELEMETRY_SDK_LANGUAGE_VALUE_RUBY:()=>p9,TELEMETRY_SDK_LANGUAGE_VALUE_RUST:()=>d9,TELEMETRY_SDK_LANGUAGE_VALUE_SWIFT:()=>h9,TELEMETRY_SDK_LANGUAGE_VALUE_WEBJS:()=>_9,TelemetrySdkLanguageValues:()=>J7});var Ve=p(()=>{Cb();Zx();eM();tM()});function Zu(r){return r.setValue(rT,!0)}function iM(r){return r.deleteValue(rT)}function At(r){return r.getValue(rT)===!0}var rT,nl=p(()=>{P();rT=De("OpenTelemetry SDK Context Key SUPPRESS_TRACING")});var oM,ef,Ho,tf,nT=p(()=>{oM="=",ef=";",Ho=",",tf="baggage"});function rf(r){return r.reduce((e,t)=>{let o=`${e}${e!==""?Ho:""}${t}`;return o.length>8192?e:o},"")}function nf(r){return r.getAllEntries().map(([e,t])=>{let o=`${encodeURIComponent(e)}=${encodeURIComponent(t.value)}`;return t.metadata!==void 0&&(o+=ef+t.metadata.toString()),o})}function il(r){let e=r.split(ef);if(e.length<=0)return;let t=e.shift();if(!t)return;let o=t.indexOf(oM);if(o<=0)return;let s=decodeURIComponent(t.substring(0,o).trim()),a=decodeURIComponent(t.substring(o+1).trim()),i;return e.length>0&&(i=Lr(e.join(ef))),{key:s,value:a,metadata:i}}function sM(r){return typeof r!="string"||r.length===0?{}:r.split(Ho).map(e=>il(e)).filter(e=>e!==void 0&&e.value.length>0).reduce((e,t)=>(e[t.key]=t.value,e),{})}var iT=p(()=>{P();nT()});var of,aM=p(()=>{P();nl();nT();iT();of=class{inject(e,t,o){let s=Ue.getBaggage(e);if(!s||At(e))return;let a=nf(s).filter(n=>n.length<=4096).slice(0,180),i=rf(a);i.length>0&&o.set(t,tf,i)}extract(e,t,o){let s=o.get(t,tf),a=Array.isArray(s)?s.join(Ho):s;if(!a)return e;let i={};return a.length===0||(a.split(Ho).forEach(l=>{let c=il(l);if(c){let u={value:c.value};c.metadata&&(u.metadata=c.metadata),i[c.key]=u}}),Object.entries(i).length===0)?e:Ue.setBaggage(e,Ue.createBaggage(i))}fields(){return[tf]}}});var sf,lM=p(()=>{sf=class{constructor(e,t){this._monotonicClock=t,this._epochMillis=e.now(),this._performanceMillis=t.now()}now(){let e=this._monotonicClock.now()-this._performanceMillis;return this._epochMillis+e}}});function cM(r){let e={};if(typeof r!="object"||r==null)return e;for(let[t,o]of Object.entries(r)){if(!oT(t)){S.warn(`Invalid attribute key: ${t}`);continue}if(!sT(o)){S.warn(`Invalid attribute value set for key: ${t}`);continue}Array.isArray(o)?e[t]=o.slice():e[t]=o}return e}function oT(r){return typeof r=="string"&&r.length>0}function sT(r){return r==null?!0:Array.isArray(r)?GQ(r):uM(r)}function GQ(r){let e;for(let t of r)if(t!=null){if(!e){if(uM(t)){e=typeof t;continue}return!1}if(typeof t!==e)return!1}return!0}function uM(r){switch(typeof r){case"number":case"boolean":case"string":return!0}return!1}var fM=p(()=>{P()});function af(){return r=>{S.error(HQ(r))}}function HQ(r){return typeof r=="string"?r:JSON.stringify(qQ(r))}function qQ(r){let e={},t=r;for(;t!==null;)Object.getOwnPropertyNames(t).forEach(o=>{if(e[o])return;let s=t[o];s&&(e[o]=String(s))}),t=Object.getPrototypeOf(t);return e}var aT=p(()=>{P()});function dM(r){pM=r}function lf(r){try{pM(r)}catch{}}var pM,lT=p(()=>{aT();pM=af()});var qo,cT=p(()=>{(function(r){r.AlwaysOff="always_off",r.AlwaysOn="always_on",r.ParentBasedAlwaysOff="parentbased_always_off",r.ParentBasedAlwaysOn="parentbased_always_on",r.ParentBasedTraceIdRatio="parentbased_traceidratio",r.TraceIdRatio="traceidratio"})(qo||(qo={}))});function KQ(r){return YQ.indexOf(r)>-1}function $Q(r){return zQ.indexOf(r)>-1}function WQ(r){return XQ.indexOf(r)>-1}function JQ(r,e,t){if(typeof t[r]>"u")return;let o=String(t[r]);e[r]=o.toLowerCase()==="true"}function QQ(r,e,t,o=-1/0,s=1/0){if(typeof t[r]<"u"){let a=Number(t[r]);isNaN(a)||(a<o?e[r]=o:a>s?e[r]=s:e[r]=a)}}function ZQ(r,e,t,o=jQ){let s=t[r];typeof s=="string"&&(e[r]=s.split(o).map(a=>a.trim()))}function tZ(r,e,t){let o=t[r];if(typeof o=="string"){let s=eZ[o.toUpperCase()];s!=null&&(e[r]=s)}}function ll(r){let e={};for(let t in al){let o=t;switch(o){case"OTEL_LOG_LEVEL":tZ(o,e,r);break;default:if(KQ(o))JQ(o,e,r);else if($Q(o))QQ(o,e,r);else if(WQ(o))ZQ(o,e,r);else{let s=r[o];typeof s<"u"&&s!==null&&(e[o]=String(s))}}}return e}var jQ,YQ,zQ,XQ,ol,sl,uT,fT,al,eZ,pT=p(()=>{P();cT();jQ=",",YQ=["OTEL_SDK_DISABLED"];zQ=["OTEL_BSP_EXPORT_TIMEOUT","OTEL_BSP_MAX_EXPORT_BATCH_SIZE","OTEL_BSP_MAX_QUEUE_SIZE","OTEL_BSP_SCHEDULE_DELAY","OTEL_BLRP_EXPORT_TIMEOUT","OTEL_BLRP_MAX_EXPORT_BATCH_SIZE","OTEL_BLRP_MAX_QUEUE_SIZE","OTEL_BLRP_SCHEDULE_DELAY","OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_EVENT_COUNT_LIMIT","OTEL_SPAN_LINK_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT","OTEL_EXPORTER_OTLP_TIMEOUT","OTEL_EXPORTER_OTLP_TRACES_TIMEOUT","OTEL_EXPORTER_OTLP_METRICS_TIMEOUT","OTEL_EXPORTER_OTLP_LOGS_TIMEOUT","OTEL_EXPORTER_JAEGER_AGENT_PORT"];XQ=["OTEL_NO_PATCH_MODULES","OTEL_PROPAGATORS","OTEL_SEMCONV_STABILITY_OPT_IN"];ol=1/0,sl=128,uT=128,fT=128,al={OTEL_SDK_DISABLED:!1,CONTAINER_NAME:"",ECS_CONTAINER_METADATA_URI_V4:"",ECS_CONTAINER_METADATA_URI:"",HOSTNAME:"",KUBERNETES_SERVICE_HOST:"",NAMESPACE:"",OTEL_BSP_EXPORT_TIMEOUT:3e4,OTEL_BSP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BSP_MAX_QUEUE_SIZE:2048,OTEL_BSP_SCHEDULE_DELAY:5e3,OTEL_BLRP_EXPORT_TIMEOUT:3e4,OTEL_BLRP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BLRP_MAX_QUEUE_SIZE:2048,OTEL_BLRP_SCHEDULE_DELAY:5e3,OTEL_EXPORTER_JAEGER_AGENT_HOST:"",OTEL_EXPORTER_JAEGER_AGENT_PORT:6832,OTEL_EXPORTER_JAEGER_ENDPOINT:"",OTEL_EXPORTER_JAEGER_PASSWORD:"",OTEL_EXPORTER_JAEGER_USER:"",OTEL_EXPORTER_OTLP_ENDPOINT:"",OTEL_EXPORTER_OTLP_TRACES_ENDPOINT:"",OTEL_EXPORTER_OTLP_METRICS_ENDPOINT:"",OTEL_EXPORTER_OTLP_LOGS_ENDPOINT:"",OTEL_EXPORTER_OTLP_HEADERS:"",OTEL_EXPORTER_OTLP_TRACES_HEADERS:"",OTEL_EXPORTER_OTLP_METRICS_HEADERS:"",OTEL_EXPORTER_OTLP_LOGS_HEADERS:"",OTEL_EXPORTER_OTLP_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_TRACES_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_METRICS_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_LOGS_TIMEOUT:1e4,OTEL_EXPORTER_ZIPKIN_ENDPOINT:"http://localhost:9411/api/v2/spans",OTEL_LOG_LEVEL:H.INFO,OTEL_NO_PATCH_MODULES:[],OTEL_PROPAGATORS:["tracecontext","baggage"],OTEL_RESOURCE_ATTRIBUTES:"",OTEL_SERVICE_NAME:"",OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT:ol,OTEL_ATTRIBUTE_COUNT_LIMIT:sl,OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT:ol,OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT:sl,OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT:ol,OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT:sl,OTEL_SPAN_EVENT_COUNT_LIMIT:128,OTEL_SPAN_LINK_COUNT_LIMIT:128,OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT:uT,OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT:fT,OTEL_TRACES_EXPORTER:"",OTEL_TRACES_SAMPLER:qo.ParentBasedAlwaysOn,OTEL_TRACES_SAMPLER_ARG:"",OTEL_LOGS_EXPORTER:"",OTEL_EXPORTER_OTLP_INSECURE:"",OTEL_EXPORTER_OTLP_TRACES_INSECURE:"",OTEL_EXPORTER_OTLP_METRICS_INSECURE:"",OTEL_EXPORTER_OTLP_LOGS_INSECURE:"",OTEL_EXPORTER_OTLP_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_COMPRESSION:"",OTEL_EXPORTER_OTLP_TRACES_COMPRESSION:"",OTEL_EXPORTER_OTLP_METRICS_COMPRESSION:"",OTEL_EXPORTER_OTLP_LOGS_COMPRESSION:"",OTEL_EXPORTER_OTLP_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_TRACES_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_LOGS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE:"cumulative",OTEL_SEMCONV_STABILITY_OPT_IN:[]};eZ={ALL:H.ALL,VERBOSE:H.VERBOSE,DEBUG:H.DEBUG,INFO:H.INFO,WARN:H.WARN,ERROR:H.ERROR,NONE:H.NONE}});function jo(){let r=ll(process.env);return Object.assign({},al,r)}function cf(){return ll(process.env)}var hM=p(()=>{pT()});var uf,_M=p(()=>{uf=typeof globalThis=="object"?globalThis:global});function EM(r){return r>=48&&r<=57?r-48:r>=97&&r<=102?r-87:r-55}function ff(r){let e=new Uint8Array(r.length/2),t=0;for(let o=0;o<r.length;o+=2){let s=EM(r.charCodeAt(o)),a=EM(r.charCodeAt(o+1));e[t++]=s<<4|a}return e}var dT=p(()=>{});function pf(r){return Buffer.from(ff(r)).toString("base64")}var mM=p(()=>{dT()});function TM(r){return function(){for(let t=0;t<r/4;t++)df.writeUInt32BE(Math.random()*2**32>>>0,t*4);for(let t=0;t<r&&!(df[t]>0);t++)t===r-1&&(df[r-1]=1);return df.toString("hex",0,r)}}var Yo,df,SM=p(()=>{Yo=class{constructor(){this.generateTraceId=TM(16),this.generateSpanId=TM(8)}},df=Buffer.allocUnsafe(16)});import{performance as rZ}from"perf_hooks";var In,gM=p(()=>{In=rZ});var hf,hT=p(()=>{hf="1.29.0"});var Ln,vM=p(()=>{hT();Ve();Ln={[Se]:"opentelemetry",[st]:"node",[ge]:wt,[ve]:hf}});function _f(r){r.unref()}var yM=p(()=>{});var OM=p(()=>{hM();_M();mM();SM();gM();vM();yM()});var _T=p(()=>{OM()});function Ko(r){let e=r/1e3,t=Math.trunc(e),o=Math.round(r%1e3*iZ);return[t,o]}function mf(){let r=In.timeOrigin;if(typeof r!="number"){let e=In;r=e.timing&&e.timing.fetchStart}return r}function ET(r){let e=Ko(mf()),t=Ko(typeof r=="number"?r:In.now());return mT(e,t)}function RM(r){if(Tf(r))return r;if(typeof r=="number")return r<mf()?ET(r):Ko(r);if(r instanceof Date)return Ko(r.getTime());throw TypeError("Invalid input type")}function NM(r,e){let t=e[0]-r[0],o=e[1]-r[1];return o<0&&(t-=1,o+=Ef),[t,o]}function CM(r){let e=AM,t=`${"0".repeat(e)}${r[1]}Z`,o=t.substring(t.length-e-1);return new Date(r[0]*1e3).toISOString().replace("000Z",o)}function PM(r){return r[0]*Ef+r[1]}function IM(r){return r[0]*1e3+r[1]/1e6}function LM(r){return r[0]*1e6+r[1]/1e3}function Tf(r){return Array.isArray(r)&&r.length===2&&typeof r[0]=="number"&&typeof r[1]=="number"}function bM(r){return Tf(r)||typeof r=="number"||r instanceof Date}function mT(r,e){let t=[r[0]+e[0],r[1]+e[1]];return t[1]>=Ef&&(t[1]-=Ef,t[0]+=1),t}var AM,nZ,iZ,Ef,xM=p(()=>{_T();AM=9,nZ=6,iZ=Math.pow(10,nZ),Ef=Math.pow(10,AM)});var Sf,MM=p(()=>{(function(r){r[r.SUCCESS=0]="SUCCESS",r[r.FAILED=1]="FAILED"})(Sf||(Sf={}))});var gf,wM=p(()=>{P();gf=class{constructor(e={}){var t;this._propagators=(t=e.propagators)!==null&&t!==void 0?t:[],this._fields=Array.from(new Set(this._propagators.map(o=>typeof o.fields=="function"?o.fields():[]).reduce((o,s)=>o.concat(s),[])))}inject(e,t,o){for(let s of this._propagators)try{s.inject(e,t,o)}catch(a){S.warn(`Failed to inject with ${s.constructor.name}. Err: ${a.message}`)}}extract(e,t,o){return this._propagators.reduce((s,a)=>{try{return a.extract(s,t,o)}catch(i){S.warn(`Failed to extract with ${a.constructor.name}. Err: ${i.message}`)}return s},e)}fields(){return this._fields.slice()}}});function DM(r){return aZ.test(r)}function UM(r){return lZ.test(r)&&!cZ.test(r)}var TT,oZ,sZ,aZ,lZ,cZ,kM=p(()=>{TT="[_0-9a-z-*/]",oZ=`[a-z]${TT}{0,255}`,sZ=`[a-z0-9]${TT}{0,240}@[a-z]${TT}{0,13}`,aZ=new RegExp(`^(?:${oZ}|${sZ})$`),lZ=/^[ -~]{0,255}[!-~]$/,cZ=/,|=/});var BM,uZ,VM,FM,zo,ST=p(()=>{kM();BM=32,uZ=512,VM=",",FM="=",zo=class r{constructor(e){this._internalState=new Map,e&&this._parse(e)}set(e,t){let o=this._clone();return o._internalState.has(e)&&o._internalState.delete(e),o._internalState.set(e,t),o}unset(e){let t=this._clone();return t._internalState.delete(e),t}get(e){return this._internalState.get(e)}serialize(){return this._keys().reduce((e,t)=>(e.push(t+FM+this.get(t)),e),[]).join(VM)}_parse(e){e.length>uZ||(this._internalState=e.split(VM).reverse().reduce((t,o)=>{let s=o.trim(),a=s.indexOf(FM);if(a!==-1){let i=s.slice(0,a),n=s.slice(a+1,o.length);DM(i)&&UM(n)&&t.set(i,n)}return t},new Map),this._internalState.size>BM&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,BM))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let e=new r;return e._internalState=new Map(this._internalState),e}}});function gT(r){let e=EZ.exec(r);return!e||e[1]==="00"&&e[5]?null:{traceId:e[2],spanId:e[3],traceFlags:parseInt(e[4],16)}}var cl,ul,fZ,pZ,dZ,hZ,_Z,EZ,vf,GM=p(()=>{P();nl();ST();cl="traceparent",ul="tracestate",fZ="00",pZ="(?!ff)[\\da-f]{2}",dZ="(?![0]{32})[\\da-f]{32}",hZ="(?![0]{16})[\\da-f]{16}",_Z="[\\da-f]{2}",EZ=new RegExp(`^\\s?(${pZ})-(${dZ})-(${hZ})-(${_Z})(-.*)?\\s?$`);vf=class{inject(e,t,o){let s=ie.getSpanContext(e);if(!s||At(e)||!xe(s))return;let a=`${fZ}-${s.traceId}-${s.spanId}-0${Number(s.traceFlags||se.NONE).toString(16)}`;o.set(t,cl,a),s.traceState&&o.set(t,ul,s.traceState.serialize())}extract(e,t,o){let s=o.get(t,cl);if(!s)return e;let a=Array.isArray(s)?s[0]:s;if(typeof a!="string")return e;let i=gT(a);if(!i)return e;i.isRemote=!0;let n=o.get(t,ul);if(n){let l=Array.isArray(n)?n.join(","):n;i.traceState=new zo(typeof l=="string"?l:void 0)}return ie.setSpanContext(e,i)}fields(){return[cl,ul]}}});function HM(r,e){return r.setValue(vT,e)}function qM(r){return r.deleteValue(vT)}function jM(r){return r.getValue(vT)}var vT,yf,YM=p(()=>{P();vT=De("OpenTelemetry SDK Context Key RPC_METADATA");(function(r){r.HTTP="http"})(yf||(yf={}))});var Ni,yT=p(()=>{P();Ni=class{shouldSample(){return{decision:ke.NOT_RECORD}}toString(){return"AlwaysOffSampler"}}});var bn,OT=p(()=>{P();bn=class{shouldSample(){return{decision:ke.RECORD_AND_SAMPLED}}toString(){return"AlwaysOnSampler"}}});var Of,KM=p(()=>{P();lT();yT();OT();Of=class{constructor(e){var t,o,s,a;this._root=e.root,this._root||(lf(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new bn),this._remoteParentSampled=(t=e.remoteParentSampled)!==null&&t!==void 0?t:new bn,this._remoteParentNotSampled=(o=e.remoteParentNotSampled)!==null&&o!==void 0?o:new Ni,this._localParentSampled=(s=e.localParentSampled)!==null&&s!==void 0?s:new bn,this._localParentNotSampled=(a=e.localParentNotSampled)!==null&&a!==void 0?a:new Ni}shouldSample(e,t,o,s,a,i){let n=ie.getSpanContext(e);return!n||!xe(n)?this._root.shouldSample(e,t,o,s,a,i):n.isRemote?n.traceFlags&se.SAMPLED?this._remoteParentSampled.shouldSample(e,t,o,s,a,i):this._remoteParentNotSampled.shouldSample(e,t,o,s,a,i):n.traceFlags&se.SAMPLED?this._localParentSampled.shouldSample(e,t,o,s,a,i):this._localParentNotSampled.shouldSample(e,t,o,s,a,i)}toString(){return`ParentBased{root=${this._root.toString()}, remoteParentSampled=${this._remoteParentSampled.toString()}, remoteParentNotSampled=${this._remoteParentNotSampled.toString()}, localParentSampled=${this._localParentSampled.toString()}, localParentNotSampled=${this._localParentNotSampled.toString()}}`}}});var Af,zM=p(()=>{P();Af=class{constructor(e=0){this._ratio=e,this._ratio=this._normalize(e),this._upperBound=Math.floor(this._ratio*4294967295)}shouldSample(e,t){return{decision:Mt(t)&&this._accumulate(t)<this._upperBound?ke.RECORD_AND_SAMPLED:ke.NOT_RECORD}}toString(){return`TraceIdRatioBased{${this._ratio}}`}_normalize(e){return typeof e!="number"||isNaN(e)?0:e>=1?1:e<=0?0:e}_accumulate(e){let t=0;for(let o=0;o<e.length/8;o++){let s=o*8,a=parseInt(e.slice(s,s+8),16);t=(t^a)>>>0}return t}}});function OZ(r,e){return function(t){return r(e(t))}}function AT(r){if(!AZ(r)||RZ(r)!==mZ)return!1;let e=yZ(r);if(e===null)return!0;let t=WM.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&$M.call(t)===vZ}function AZ(r){return r!=null&&typeof r=="object"}function RZ(r){return r==null?r===void 0?SZ:TZ:Ci&&Ci in Object(r)?NZ(r):CZ(r)}function NZ(r){let e=WM.call(r,Ci),t=r[Ci],o=!1;try{r[Ci]=void 0,o=!0}catch{}let s=JM.call(r);return o&&(e?r[Ci]=t:delete r[Ci]),s}function CZ(r){return JM.call(r)}var mZ,TZ,SZ,gZ,$M,vZ,yZ,XM,WM,Ci,JM,QM=p(()=>{mZ="[object Object]",TZ="[object Null]",SZ="[object Undefined]",gZ=Function.prototype,$M=gZ.toString,vZ=$M.call(Object),yZ=OZ(Object.getPrototypeOf,Object),XM=Object.prototype,WM=XM.hasOwnProperty,Ci=Symbol?Symbol.toStringTag:void 0,JM=XM.toString});function ew(...r){let e=r.shift(),t=new WeakMap;for(;r.length>0;)e=tw(e,r.shift(),0,t);return e}function RT(r){return Nf(r)?r.slice():r}function tw(r,e,t=0,o){let s;if(!(t>PZ)){if(t++,Rf(r)||Rf(e)||rw(e))s=RT(e);else if(Nf(r)){if(s=r.slice(),Nf(e))for(let a=0,i=e.length;a<i;a++)s.push(RT(e[a]));else if(fl(e)){let a=Object.keys(e);for(let i=0,n=a.length;i<n;i++){let l=a[i];s[l]=RT(e[l])}}}else if(fl(r))if(fl(e)){if(!IZ(r,e))return e;s=Object.assign({},r);let a=Object.keys(e);for(let i=0,n=a.length;i<n;i++){let l=a[i],c=e[l];if(Rf(c))typeof c>"u"?delete s[l]:s[l]=c;else{let u=s[l],f=c;if(ZM(r,l,o)||ZM(e,l,o))delete s[l];else{if(fl(u)&&fl(f)){let _=o.get(u)||[],m=o.get(f)||[];_.push({obj:r,key:l}),m.push({obj:e,key:l}),o.set(u,_),o.set(f,m)}s[l]=tw(s[l],c,t,o)}}}}else s=e;return s}}function ZM(r,e,t){let o=t.get(r[e])||[];for(let s=0,a=o.length;s<a;s++){let i=o[s];if(i.key===e&&i.obj===r)return!0}return!1}function Nf(r){return Array.isArray(r)}function rw(r){return typeof r=="function"}function fl(r){return!Rf(r)&&!Nf(r)&&!rw(r)&&typeof r=="object"}function Rf(r){return typeof r=="string"||typeof r=="number"||typeof r=="boolean"||typeof r>"u"||r instanceof Date||r instanceof RegExp||r===null}function IZ(r,e){return!(!AT(r)||!AT(e))}var PZ,nw=p(()=>{QM();PZ=20});function iw(r,e){let t,o=new Promise(function(a,i){t=setTimeout(function(){i(new pl("Operation timed out."))},e)});return Promise.race([r,o]).then(s=>(clearTimeout(t),s),s=>{throw clearTimeout(t),s})}var pl,ow=p(()=>{pl=class r extends Error{constructor(e){super(e),Object.setPrototypeOf(this,r.prototype)}}});function NT(r,e){return typeof e=="string"?r===e:!!r.match(e)}function sw(r,e){if(!e)return!1;for(let t of e)if(NT(r,t))return!0;return!1}var aw=p(()=>{});function lw(r){return typeof r=="function"&&typeof r.__original=="function"&&typeof r.__unwrap=="function"&&r.__wrapped===!0}var cw=p(()=>{});var Cf,uw=p(()=>{Cf=class{constructor(){this._promise=new Promise((e,t)=>{this._resolve=e,this._reject=t})}get promise(){return this._promise}resolve(e){this._resolve(e)}reject(e){this._reject(e)}}});var Pf,fw=p(()=>{uw();Pf=class{constructor(e,t){this._callback=e,this._that=t,this._isCalled=!1,this._deferred=new Cf}get isCalled(){return this._isCalled}get promise(){return this._deferred.promise}call(...e){if(!this._isCalled){this._isCalled=!0;try{Promise.resolve(this._callback.call(this._that,...e)).then(t=>this._deferred.resolve(t),t=>this._deferred.reject(t))}catch(t){this._deferred.reject(t)}}return this._deferred.promise}}});function pw(r,e){return new Promise(t=>{me.with(Zu(me.active()),()=>{r.export(e,o=>{t(o)})})})}var dw=p(()=>{P();nl()});var If={};Ae(If,{AlwaysOffSampler:()=>Ni,AlwaysOnSampler:()=>bn,AnchoredClock:()=>sf,BindOnceFuture:()=>Pf,CompositePropagator:()=>gf,DEFAULT_ATTRIBUTE_COUNT_LIMIT:()=>sl,DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT:()=>ol,DEFAULT_ENVIRONMENT:()=>al,DEFAULT_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT:()=>uT,DEFAULT_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT:()=>fT,ExportResultCode:()=>Sf,ParentBasedSampler:()=>Of,RPCType:()=>yf,RandomIdGenerator:()=>Yo,SDK_INFO:()=>Ln,TRACE_PARENT_HEADER:()=>cl,TRACE_STATE_HEADER:()=>ul,TimeoutError:()=>pl,TraceIdRatioBasedSampler:()=>Af,TraceState:()=>zo,TracesSamplerValues:()=>qo,VERSION:()=>hf,W3CBaggagePropagator:()=>of,W3CTraceContextPropagator:()=>vf,_globalThis:()=>uf,addHrTimes:()=>mT,baggageUtils:()=>LZ,callWithTimeout:()=>iw,deleteRPCMetadata:()=>qM,getEnv:()=>jo,getEnvWithoutDefaults:()=>cf,getRPCMetadata:()=>jM,getTimeOrigin:()=>mf,globalErrorHandler:()=>lf,hexToBase64:()=>pf,hexToBinary:()=>ff,hrTime:()=>ET,hrTimeDuration:()=>NM,hrTimeToMicroseconds:()=>LM,hrTimeToMilliseconds:()=>IM,hrTimeToNanoseconds:()=>PM,hrTimeToTimeStamp:()=>CM,internal:()=>bZ,isAttributeKey:()=>oT,isAttributeValue:()=>sT,isTimeInput:()=>bM,isTimeInputHrTime:()=>Tf,isTracingSuppressed:()=>At,isUrlIgnored:()=>sw,isWrapped:()=>lw,loggingErrorHandler:()=>af,merge:()=>ew,millisToHrTime:()=>Ko,otperformance:()=>In,parseEnvironment:()=>ll,parseTraceParent:()=>gT,sanitizeAttributes:()=>cM,setGlobalErrorHandler:()=>dM,setRPCMetadata:()=>HM,suppressTracing:()=>Zu,timeInputToHrTime:()=>RM,unrefTimer:()=>_f,unsuppressTracing:()=>iM,urlMatches:()=>NT});var LZ,bZ,xr=p(()=>{aM();lM();fM();lT();aT();xM();dT();MM();iT();_T();wM();GM();YM();yT();OT();KM();zM();nl();ST();pT();nw();cT();ow();aw();cw();fw();hT();dw();LZ={getKeyPairs:nf,serializeKeyPairs:rf,parseKeyPairsIntoRecord:sM,parsePairKeyValue:il},bZ={_export:pw}});var Lf,hw=p(()=>{(function(r){r[r.UNSPECIFIED=0]="UNSPECIFIED",r[r.TRACE=1]="TRACE",r[r.TRACE2=2]="TRACE2",r[r.TRACE3=3]="TRACE3",r[r.TRACE4=4]="TRACE4",r[r.DEBUG=5]="DEBUG",r[r.DEBUG2=6]="DEBUG2",r[r.DEBUG3=7]="DEBUG3",r[r.DEBUG4=8]="DEBUG4",r[r.INFO=9]="INFO",r[r.INFO2=10]="INFO2",r[r.INFO3=11]="INFO3",r[r.INFO4=12]="INFO4",r[r.WARN=13]="WARN",r[r.WARN2=14]="WARN2",r[r.WARN3=15]="WARN3",r[r.WARN4=16]="WARN4",r[r.ERROR=17]="ERROR",r[r.ERROR2=18]="ERROR2",r[r.ERROR3=19]="ERROR3",r[r.ERROR4=20]="ERROR4",r[r.FATAL=21]="FATAL",r[r.FATAL2=22]="FATAL2",r[r.FATAL3=23]="FATAL3",r[r.FATAL4=24]="FATAL4"})(Lf||(Lf={}))});var Pi,$o,bf=p(()=>{Pi=class{emit(e){}},$o=new Pi});var dl,Xo,xf=p(()=>{bf();dl=class{getLogger(e,t,o){return new Pi}},Xo=new dl});var Wo,CT=p(()=>{bf();Wo=class{constructor(e,t,o,s){this._provider=e,this.name=t,this.version=o,this.options=s}emit(e){this._getLogger().emit(e)}_getLogger(){if(this._delegate)return this._delegate;let e=this._provider.getDelegateLogger(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):$o}}});var Ii,PT=p(()=>{xf();CT();Ii=class{getLogger(e,t,o){var s;return(s=this.getDelegateLogger(e,t,o))!==null&&s!==void 0?s:new Wo(this,e,t,o)}getDelegate(){var e;return(e=this._delegate)!==null&&e!==void 0?e:Xo}setDelegate(e){this._delegate=e}getDelegateLogger(e,t,o){var s;return(s=this._delegate)===null||s===void 0?void 0:s.getLogger(e,t,o)}}});var Mf,_w=p(()=>{Mf=typeof globalThis=="object"?globalThis:global});var Ew=p(()=>{_w()});var mw=p(()=>{Ew()});function Tw(r,e,t){return o=>o===r?e:t}var hl,Jo,IT,Sw=p(()=>{mw();hl=Symbol.for("io.opentelemetry.js.api.logs"),Jo=Mf;IT=1});var wf,gw=p(()=>{Sw();xf();PT();wf=class r{constructor(){this._proxyLoggerProvider=new Ii}static getInstance(){return this._instance||(this._instance=new r),this._instance}setGlobalLoggerProvider(e){return Jo[hl]?this.getLoggerProvider():(Jo[hl]=Tw(IT,e,Xo),this._proxyLoggerProvider.setDelegate(e),e)}getLoggerProvider(){var e,t;return(t=(e=Jo[hl])===null||e===void 0?void 0:e.call(Jo,IT))!==null&&t!==void 0?t:this._proxyLoggerProvider}getLogger(e,t,o){return this.getLoggerProvider().getLogger(e,t,o)}disable(){delete Jo[hl],this._proxyLoggerProvider=new Ii}}});var vw={};Ae(vw,{NOOP_LOGGER:()=>$o,NOOP_LOGGER_PROVIDER:()=>Xo,NoopLogger:()=>Pi,NoopLoggerProvider:()=>dl,ProxyLogger:()=>Wo,ProxyLoggerProvider:()=>Ii,SeverityNumber:()=>Lf,logs:()=>_l});var _l,El=p(()=>{hw();bf();xf();CT();PT();gw();_l=wf.getInstance()});function yw(r){return r.setValue(xZ,!0)}var xZ,Ow=p(()=>{P();xZ=De("OpenTelemetry SDK Context Key SUPPRESS_TRACING")});function Df(r){return r==null?!0:Array.isArray(r)?MZ(r):Aw(r)}function MZ(r){let e;for(let t of r)if(t!=null){if(!e){if(Aw(t)){e=typeof t;continue}return!1}if(typeof t!==e)return!1}return!0}function Aw(r){switch(typeof r){case"number":case"boolean":case"string":return!0}return!1}var Rw=p(()=>{});function Nw(){return r=>{S.error(wZ(r))}}function wZ(r){return typeof r=="string"?r:JSON.stringify(DZ(r))}function DZ(r){let e={},t=r;for(;t!==null;)Object.getOwnPropertyNames(t).forEach(o=>{if(e[o])return;let s=t[o];s&&(e[o]=String(s))}),t=Object.getPrototypeOf(t);return e}var Cw=p(()=>{P()});function Mr(r){try{UZ(r)}catch{}}var UZ,Pw=p(()=>{Cw();UZ=Nw()});var Uf,Iw=p(()=>{(function(r){r.AlwaysOff="always_off",r.AlwaysOn="always_on",r.ParentBasedAlwaysOff="parentbased_always_off",r.ParentBasedAlwaysOn="parentbased_always_on",r.ParentBasedTraceIdRatio="parentbased_traceidratio",r.TraceIdRatio="traceidratio"})(Uf||(Uf={}))});function VZ(r){return BZ.indexOf(r)>-1}function GZ(r){return FZ.indexOf(r)>-1}function qZ(r){return HZ.indexOf(r)>-1}function jZ(r,e,t){if(typeof t[r]>"u")return;let o=String(t[r]);e[r]=o.toLowerCase()==="true"}function YZ(r,e,t,o=-1/0,s=1/0){if(typeof t[r]<"u"){let a=Number(t[r]);isNaN(a)||(a<o?e[r]=o:a>s?e[r]=s:e[r]=a)}}function KZ(r,e,t,o=kZ){let s=t[r];typeof s=="string"&&(e[r]=s.split(o).map(a=>a.trim()))}function $Z(r,e,t){let o=t[r];if(typeof o=="string"){let s=zZ[o.toUpperCase()];s!=null&&(e[r]=s)}}function Bf(r){let e={};for(let t in kf){let o=t;switch(o){case"OTEL_LOG_LEVEL":$Z(o,e,r);break;default:if(VZ(o))jZ(o,e,r);else if(GZ(o))YZ(o,e,r);else if(qZ(o))KZ(o,e,r);else{let s=r[o];typeof s<"u"&&s!==null&&(e[o]=String(s))}}}return e}var kZ,BZ,FZ,HZ,Qo,Zo,Lw,bw,kf,zZ,LT=p(()=>{P();Iw();kZ=",",BZ=["OTEL_SDK_DISABLED"];FZ=["OTEL_BSP_EXPORT_TIMEOUT","OTEL_BSP_MAX_EXPORT_BATCH_SIZE","OTEL_BSP_MAX_QUEUE_SIZE","OTEL_BSP_SCHEDULE_DELAY","OTEL_BLRP_EXPORT_TIMEOUT","OTEL_BLRP_MAX_EXPORT_BATCH_SIZE","OTEL_BLRP_MAX_QUEUE_SIZE","OTEL_BLRP_SCHEDULE_DELAY","OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_EVENT_COUNT_LIMIT","OTEL_SPAN_LINK_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT","OTEL_EXPORTER_OTLP_TIMEOUT","OTEL_EXPORTER_OTLP_TRACES_TIMEOUT","OTEL_EXPORTER_OTLP_METRICS_TIMEOUT","OTEL_EXPORTER_OTLP_LOGS_TIMEOUT","OTEL_EXPORTER_JAEGER_AGENT_PORT"];HZ=["OTEL_NO_PATCH_MODULES","OTEL_PROPAGATORS","OTEL_SEMCONV_STABILITY_OPT_IN"];Qo=1/0,Zo=128,Lw=128,bw=128,kf={OTEL_SDK_DISABLED:!1,CONTAINER_NAME:"",ECS_CONTAINER_METADATA_URI_V4:"",ECS_CONTAINER_METADATA_URI:"",HOSTNAME:"",KUBERNETES_SERVICE_HOST:"",NAMESPACE:"",OTEL_BSP_EXPORT_TIMEOUT:3e4,OTEL_BSP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BSP_MAX_QUEUE_SIZE:2048,OTEL_BSP_SCHEDULE_DELAY:5e3,OTEL_BLRP_EXPORT_TIMEOUT:3e4,OTEL_BLRP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BLRP_MAX_QUEUE_SIZE:2048,OTEL_BLRP_SCHEDULE_DELAY:5e3,OTEL_EXPORTER_JAEGER_AGENT_HOST:"",OTEL_EXPORTER_JAEGER_AGENT_PORT:6832,OTEL_EXPORTER_JAEGER_ENDPOINT:"",OTEL_EXPORTER_JAEGER_PASSWORD:"",OTEL_EXPORTER_JAEGER_USER:"",OTEL_EXPORTER_OTLP_ENDPOINT:"",OTEL_EXPORTER_OTLP_TRACES_ENDPOINT:"",OTEL_EXPORTER_OTLP_METRICS_ENDPOINT:"",OTEL_EXPORTER_OTLP_LOGS_ENDPOINT:"",OTEL_EXPORTER_OTLP_HEADERS:"",OTEL_EXPORTER_OTLP_TRACES_HEADERS:"",OTEL_EXPORTER_OTLP_METRICS_HEADERS:"",OTEL_EXPORTER_OTLP_LOGS_HEADERS:"",OTEL_EXPORTER_OTLP_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_TRACES_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_METRICS_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_LOGS_TIMEOUT:1e4,OTEL_EXPORTER_ZIPKIN_ENDPOINT:"http://localhost:9411/api/v2/spans",OTEL_LOG_LEVEL:H.INFO,OTEL_NO_PATCH_MODULES:[],OTEL_PROPAGATORS:["tracecontext","baggage"],OTEL_RESOURCE_ATTRIBUTES:"",OTEL_SERVICE_NAME:"",OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT:Qo,OTEL_ATTRIBUTE_COUNT_LIMIT:Zo,OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT:Qo,OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT:Zo,OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT:Qo,OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT:Zo,OTEL_SPAN_EVENT_COUNT_LIMIT:128,OTEL_SPAN_LINK_COUNT_LIMIT:128,OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT:Lw,OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT:bw,OTEL_TRACES_EXPORTER:"",OTEL_TRACES_SAMPLER:Uf.ParentBasedAlwaysOn,OTEL_TRACES_SAMPLER_ARG:"",OTEL_LOGS_EXPORTER:"",OTEL_EXPORTER_OTLP_INSECURE:"",OTEL_EXPORTER_OTLP_TRACES_INSECURE:"",OTEL_EXPORTER_OTLP_METRICS_INSECURE:"",OTEL_EXPORTER_OTLP_LOGS_INSECURE:"",OTEL_EXPORTER_OTLP_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_COMPRESSION:"",OTEL_EXPORTER_OTLP_TRACES_COMPRESSION:"",OTEL_EXPORTER_OTLP_METRICS_COMPRESSION:"",OTEL_EXPORTER_OTLP_LOGS_COMPRESSION:"",OTEL_EXPORTER_OTLP_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_TRACES_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_LOGS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE:"cumulative",OTEL_SEMCONV_STABILITY_OPT_IN:[]};zZ={ALL:H.ALL,VERBOSE:H.VERBOSE,DEBUG:H.DEBUG,INFO:H.INFO,WARN:H.WARN,ERROR:H.ERROR,NONE:H.NONE}});function xn(){let r=Bf(process.env);return Object.assign({},kf,r)}function ml(){return Bf(process.env)}var xw=p(()=>{LT()});import{performance as XZ}from"perf_hooks";var Li,Mw=p(()=>{Li=XZ});var ww,Dw=p(()=>{ww="1.29.0"});var bi,Uw=p(()=>{Dw();Ve();bi={[Se]:"opentelemetry",[st]:"node",[ge]:wt,[ve]:ww}});function Tl(r){r.unref()}var kw=p(()=>{});var Bw=p(()=>{xw();Mw();Uw();kw()});var bT=p(()=>{Bw()});function Sl(r){let e=r/1e3,t=Math.trunc(e),o=Math.round(r%1e3*tee);return[t,o]}function xT(){let r=Li.timeOrigin;if(typeof r!="number"){let e=Li;r=e.timing&&e.timing.fetchStart}return r}function Fw(r){let e=Sl(xT()),t=Sl(typeof r=="number"?r:Li.now());return Hw(e,t)}function Vf(r){if(Gw(r))return r;if(typeof r=="number")return r<xT()?Fw(r):Sl(r);if(r instanceof Date)return Sl(r.getTime());throw TypeError("Invalid input type")}function MT(r){return r[0]*1e6+r[1]/1e3}function Gw(r){return Array.isArray(r)&&r.length===2&&typeof r[0]=="number"&&typeof r[1]=="number"}function Hw(r,e){let t=[r[0]+e[0],r[1]+e[1]];return t[1]>=Vw&&(t[1]-=Vw,t[0]+=1),t}var ZZ,eee,tee,Vw,qw=p(()=>{bT();ZZ=9,eee=6,tee=Math.pow(10,eee),Vw=Math.pow(10,ZZ)});var jt,jw=p(()=>{(function(r){r[r.SUCCESS=0]="SUCCESS",r[r.FAILED=1]="FAILED"})(jt||(jt={}))});function lee(r,e){return function(t){return r(e(t))}}function wT(r){if(!cee(r)||uee(r)!==ree)return!1;let e=aee(r);if(e===null)return!0;let t=zw.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&Yw.call(t)===see}function cee(r){return r!=null&&typeof r=="object"}function uee(r){return r==null?r===void 0?iee:nee:xi&&xi in Object(r)?fee(r):pee(r)}function fee(r){let e=zw.call(r,xi),t=r[xi],o=!1;try{r[xi]=void 0,o=!0}catch{}let s=$w.call(r);return o&&(e?r[xi]=t:delete r[xi]),s}function pee(r){return $w.call(r)}var ree,nee,iee,oee,Yw,see,aee,Kw,zw,xi,$w,Xw=p(()=>{ree="[object Object]",nee="[object Null]",iee="[object Undefined]",oee=Function.prototype,Yw=oee.toString,see=Yw.call(Object),aee=lee(Object.getPrototypeOf,Object),Kw=Object.prototype,zw=Kw.hasOwnProperty,xi=Symbol?Symbol.toStringTag:void 0,$w=Kw.toString});function UT(...r){let e=r.shift(),t=new WeakMap;for(;r.length>0;)e=Jw(e,r.shift(),0,t);return e}function DT(r){return Gf(r)?r.slice():r}function Jw(r,e,t=0,o){let s;if(!(t>dee)){if(t++,Ff(r)||Ff(e)||Qw(e))s=DT(e);else if(Gf(r)){if(s=r.slice(),Gf(e))for(let a=0,i=e.length;a<i;a++)s.push(DT(e[a]));else if(gl(e)){let a=Object.keys(e);for(let i=0,n=a.length;i<n;i++){let l=a[i];s[l]=DT(e[l])}}}else if(gl(r))if(gl(e)){if(!hee(r,e))return e;s=Object.assign({},r);let a=Object.keys(e);for(let i=0,n=a.length;i<n;i++){let l=a[i],c=e[l];if(Ff(c))typeof c>"u"?delete s[l]:s[l]=c;else{let u=s[l],f=c;if(Ww(r,l,o)||Ww(e,l,o))delete s[l];else{if(gl(u)&&gl(f)){let _=o.get(u)||[],m=o.get(f)||[];_.push({obj:r,key:l}),m.push({obj:e,key:l}),o.set(u,_),o.set(f,m)}s[l]=Jw(s[l],c,t,o)}}}}else s=e;return s}}function Ww(r,e,t){let o=t.get(r[e])||[];for(let s=0,a=o.length;s<a;s++){let i=o[s];if(i.key===e&&i.obj===r)return!0}return!1}function Gf(r){return Array.isArray(r)}function Qw(r){return typeof r=="function"}function gl(r){return!Ff(r)&&!Gf(r)&&!Qw(r)&&typeof r=="object"}function Ff(r){return typeof r=="string"||typeof r=="number"||typeof r=="boolean"||typeof r>"u"||r instanceof Date||r instanceof RegExp||r===null}function hee(r,e){return!(!wT(r)||!wT(e))}var dee,Zw=p(()=>{Xw();dee=20});function vl(r,e){let t,o=new Promise(function(a,i){t=setTimeout(function(){i(new Hf("Operation timed out."))},e)});return Promise.race([r,o]).then(s=>(clearTimeout(t),s),s=>{throw clearTimeout(t),s})}var Hf,e1=p(()=>{Hf=class r extends Error{constructor(e){super(e),Object.setPrototypeOf(this,r.prototype)}}});var qf,t1=p(()=>{qf=class{constructor(){this._promise=new Promise((e,t)=>{this._resolve=e,this._reject=t})}get promise(){return this._promise}resolve(e){this._resolve(e)}reject(e){this._reject(e)}}});var un,r1=p(()=>{t1();un=class{constructor(e,t){this._callback=e,this._that=t,this._isCalled=!1,this._deferred=new qf}get isCalled(){return this._isCalled}get promise(){return this._deferred.promise}call(...e){if(!this._isCalled){this._isCalled=!0;try{Promise.resolve(this._callback.call(this._that,...e)).then(t=>this._deferred.resolve(t),t=>this._deferred.reject(t))}catch(t){this._deferred.reject(t)}}return this._deferred.promise}}});function n1(r,e){return new Promise(t=>{me.with(yw(me.active()),()=>{r.export(e,o=>{t(o)})})})}var i1=p(()=>{P();Ow()});var jf,lr=p(()=>{Rw();Pw();qw();jw();bT();LT();Zw();e1();r1();i1();jf={_export:n1}});function Yf(){return`unknown_service:${process.argv0}`}var o1=p(()=>{});var s1=p(()=>{o1()});var a1=p(()=>{s1()});var Mn,l1=p(()=>{P();Ve();lr();a1();Mn=class r{constructor(e,t){var o;this._attributes=e,this.asyncAttributesPending=t!=null,this._syncAttributes=(o=this._attributes)!==null&&o!==void 0?o:{},this._asyncAttributesPromise=t==null?void 0:t.then(s=>(this._attributes=Object.assign({},this._attributes,s),this.asyncAttributesPending=!1,s),s=>(S.debug("a resource's async attributes promise rejected: %s",s),this.asyncAttributesPending=!1,{}))}static empty(){return r.EMPTY}static default(){return new r({[at]:Yf(),[ge]:bi[ge],[Se]:bi[Se],[ve]:bi[ve]})}get attributes(){var e;return this.asyncAttributesPending&&S.error("Accessing resource attributes before async attributes settled"),(e=this._attributes)!==null&&e!==void 0?e:{}}async waitForAsyncAttributes(){this.asyncAttributesPending&&await this._asyncAttributesPromise}merge(e){var t;if(!e)return this;let o=Object.assign(Object.assign({},this._syncAttributes),(t=e._syncAttributes)!==null&&t!==void 0?t:e.attributes);if(!this._asyncAttributesPromise&&!e._asyncAttributesPromise)return new r(o);let s=Promise.all([this._asyncAttributesPromise,e._asyncAttributesPromise]).then(([a,i])=>{var n;return Object.assign(Object.assign(Object.assign(Object.assign({},this._syncAttributes),a),(n=e._syncAttributes)!==null&&n!==void 0?n:e.attributes),i)});return new r(o,s)}};Mn.EMPTY=new Mn({})});var c1=p(()=>{l1()});var es,kT=p(()=>{P();P();lr();es=class{constructor(e,t,o){this.attributes={},this.totalAttributesCount=0,this._isReadonly=!1;let{timestamp:s,observedTimestamp:a,severityNumber:i,severityText:n,body:l,attributes:c={},context:u}=o,f=Date.now();if(this.hrTime=Vf(s??f),this.hrTimeObserved=Vf(a??f),u){let _=ie.getSpanContext(u);_&&xe(_)&&(this.spanContext=_)}this.severityNumber=i,this.severityText=n,this.body=l,this.resource=e.resource,this.instrumentationScope=t,this._logRecordLimits=e.logRecordLimits,this.setAttributes(c)}set severityText(e){this._isLogRecordReadonly()||(this._severityText=e)}get severityText(){return this._severityText}set severityNumber(e){this._isLogRecordReadonly()||(this._severityNumber=e)}get severityNumber(){return this._severityNumber}set body(e){this._isLogRecordReadonly()||(this._body=e)}get body(){return this._body}get droppedAttributesCount(){return this.totalAttributesCount-Object.keys(this.attributes).length}setAttribute(e,t){return this._isLogRecordReadonly()?this:t===null?this:e.length===0?(S.warn(`Invalid attribute key: ${e}`),this):!Df(t)&&!(typeof t=="object"&&!Array.isArray(t)&&Object.keys(t).length>0)?(S.warn(`Invalid attribute value set for key: ${e}`),this):(this.totalAttributesCount+=1,Object.keys(this.attributes).length>=this._logRecordLimits.attributeCountLimit&&!Object.prototype.hasOwnProperty.call(this.attributes,e)?(this.droppedAttributesCount===1&&S.warn("Dropping extra attributes."),this):(Df(t)?this.attributes[e]=this._truncateToSize(t):this.attributes[e]=t,this))}setAttributes(e){for(let[t,o]of Object.entries(e))this.setAttribute(t,o);return this}setBody(e){return this.body=e,this}setSeverityNumber(e){return this.severityNumber=e,this}setSeverityText(e){return this.severityText=e,this}_makeReadonly(){this._isReadonly=!0}_truncateToSize(e){let t=this._logRecordLimits.attributeValueLengthLimit;return t<=0?(S.warn(`Attribute value limit must be positive, got ${t}`),e):typeof e=="string"?this._truncateToLimitUtil(e,t):Array.isArray(e)?e.map(o=>typeof o=="string"?this._truncateToLimitUtil(o,t):o):e}_truncateToLimitUtil(e,t){return e.length<=t?e:e.substring(0,t)}_isLogRecordReadonly(){return this._isReadonly&&S.warn("Can not execute the operation on emitted log record"),this._isReadonly}}});var Kf,u1=p(()=>{P();kT();Kf=class{constructor(e,t){this.instrumentationScope=e,this._sharedState=t}emit(e){let t=e.context||me.active(),o=new es(this._sharedState,this.instrumentationScope,Object.assign({context:t},e));this._sharedState.activeProcessor.onEmit(o,t),o._makeReadonly()}}});function f1(){return{forceFlushTimeoutMillis:3e4,logRecordLimits:{attributeValueLengthLimit:xn().OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:xn().OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT},includeTraceContext:!0,mergeResourceWithDefaults:!0}}function p1(r){var e,t,o,s,a,i;let n=ml();return{attributeCountLimit:(o=(t=(e=r.attributeCountLimit)!==null&&e!==void 0?e:n.OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT)!==null&&t!==void 0?t:n.OTEL_ATTRIBUTE_COUNT_LIMIT)!==null&&o!==void 0?o:Zo,attributeValueLengthLimit:(i=(a=(s=r.attributeValueLengthLimit)!==null&&s!==void 0?s:n.OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT)!==null&&a!==void 0?a:n.OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT)!==null&&i!==void 0?i:Qo}}var d1=p(()=>{lr()});var zf,h1=p(()=>{lr();zf=class{constructor(e,t){this.processors=e,this.forceFlushTimeoutMillis=t}async forceFlush(){let e=this.forceFlushTimeoutMillis;await Promise.all(this.processors.map(t=>vl(t.forceFlush(),e)))}onEmit(e,t){this.processors.forEach(o=>o.onEmit(e,t))}async shutdown(){await Promise.all(this.processors.map(e=>e.shutdown()))}}});var ts,BT=p(()=>{ts=class{forceFlush(){return Promise.resolve()}onEmit(e,t){}shutdown(){return Promise.resolve()}}});var $f,_1=p(()=>{BT();$f=class{constructor(e,t,o){this.resource=e,this.forceFlushTimeoutMillis=t,this.logRecordLimits=o,this.loggers=new Map,this.registeredLogRecordProcessors=[],this.activeProcessor=new ts}}});function Eee(r,e){let t=e??Mn.empty();return r?Mn.default().merge(t):t}var _ee,Xf,E1=p(()=>{P();El();c1();lr();u1();d1();h1();_1();_ee="unknown";Xf=class{constructor(e={}){let t=UT({},f1(),e),o=Eee(t.mergeResourceWithDefaults,e.resource);this._sharedState=new $f(o,t.forceFlushTimeoutMillis,p1(t.logRecordLimits)),this._shutdownOnce=new un(this._shutdown,this)}getLogger(e,t,o){if(this._shutdownOnce.isCalled)return S.warn("A shutdown LoggerProvider cannot provide a Logger"),$o;e||S.warn("Logger requested without instrumentation scope name.");let s=e||_ee,a=`${s}@${t||""}:${(o==null?void 0:o.schemaUrl)||""}`;return this._sharedState.loggers.has(a)||this._sharedState.loggers.set(a,new Kf({name:s,version:t,schemaUrl:o==null?void 0:o.schemaUrl},this._sharedState)),this._sharedState.loggers.get(a)}addLogRecordProcessor(e){this._sharedState.registeredLogRecordProcessors.length===0&&this._sharedState.activeProcessor.shutdown().catch(t=>S.error("Error while trying to shutdown current log record processor",t)),this._sharedState.registeredLogRecordProcessors.push(e),this._sharedState.activeProcessor=new zf(this._sharedState.registeredLogRecordProcessors,this._sharedState.forceFlushTimeoutMillis)}forceFlush(){return this._shutdownOnce.isCalled?(S.warn("invalid attempt to force flush after LoggerProvider shutdown"),this._shutdownOnce.promise):this._sharedState.activeProcessor.forceFlush()}shutdown(){return this._shutdownOnce.isCalled?(S.warn("shutdown may only be called once per LoggerProvider"),this._shutdownOnce.promise):this._shutdownOnce.call()}_shutdown(){return this._sharedState.activeProcessor.shutdown()}}});var Wf,m1=p(()=>{lr();lr();Wf=class{export(e,t){this._sendLogRecords(e,t)}shutdown(){return Promise.resolve()}_exportInfo(e){var t,o,s;return{resource:{attributes:e.resource.attributes},instrumentationScope:e.instrumentationScope,timestamp:MT(e.hrTime),traceId:(t=e.spanContext)===null||t===void 0?void 0:t.traceId,spanId:(o=e.spanContext)===null||o===void 0?void 0:o.spanId,traceFlags:(s=e.spanContext)===null||s===void 0?void 0:s.traceFlags,severityText:e.severityText,severityNumber:e.severityNumber,body:e.body,attributes:e.attributes}}_sendLogRecords(e,t){for(let o of e)console.dir(this._exportInfo(o),{depth:3});t==null||t({code:jt.SUCCESS})}}});var Jf,T1=p(()=>{lr();Jf=class{constructor(e){this._exporter=e,this._shutdownOnce=new un(this._shutdown,this),this._unresolvedExports=new Set}onEmit(e){var t,o;if(this._shutdownOnce.isCalled)return;let s=()=>jf._export(this._exporter,[e]).then(a=>{var i;a.code!==jt.SUCCESS&&Mr((i=a.error)!==null&&i!==void 0?i:new Error(`SimpleLogRecordProcessor: log record export failed (status ${a})`))}).catch(Mr);if(e.resource.asyncAttributesPending){let a=(o=(t=e.resource).waitForAsyncAttributes)===null||o===void 0?void 0:o.call(t).then(()=>(this._unresolvedExports.delete(a),s()),Mr);a!=null&&this._unresolvedExports.add(a)}else s()}async forceFlush(){await Promise.all(Array.from(this._unresolvedExports))}shutdown(){return this._shutdownOnce.call()}_shutdown(){return this._exporter.shutdown()}}});var Qf,S1=p(()=>{lr();Qf=class{constructor(){this._finishedLogRecords=[],this._stopped=!1}export(e,t){if(this._stopped)return t({code:jt.FAILED,error:new Error("Exporter has been stopped")});this._finishedLogRecords.push(...e),t({code:jt.SUCCESS})}shutdown(){return this._stopped=!0,this.reset(),Promise.resolve()}getFinishedLogRecords(){return this._finishedLogRecords}reset(){this._finishedLogRecords=[]}}});var Zf,g1=p(()=>{P();lr();Zf=class{constructor(e,t){var o,s,a,i;this._exporter=e,this._finishedLogRecords=[];let n=xn();this._maxExportBatchSize=(o=t==null?void 0:t.maxExportBatchSize)!==null&&o!==void 0?o:n.OTEL_BLRP_MAX_EXPORT_BATCH_SIZE,this._maxQueueSize=(s=t==null?void 0:t.maxQueueSize)!==null&&s!==void 0?s:n.OTEL_BLRP_MAX_QUEUE_SIZE,this._scheduledDelayMillis=(a=t==null?void 0:t.scheduledDelayMillis)!==null&&a!==void 0?a:n.OTEL_BLRP_SCHEDULE_DELAY,this._exportTimeoutMillis=(i=t==null?void 0:t.exportTimeoutMillis)!==null&&i!==void 0?i:n.OTEL_BLRP_EXPORT_TIMEOUT,this._shutdownOnce=new un(this._shutdown,this),this._maxExportBatchSize>this._maxQueueSize&&(S.warn("BatchLogRecordProcessor: maxExportBatchSize must be smaller or equal to maxQueueSize, setting maxExportBatchSize to match maxQueueSize"),this._maxExportBatchSize=this._maxQueueSize)}onEmit(e){this._shutdownOnce.isCalled||this._addToBuffer(e)}forceFlush(){return this._shutdownOnce.isCalled?this._shutdownOnce.promise:this._flushAll()}shutdown(){return this._shutdownOnce.call()}async _shutdown(){this.onShutdown(),await this._flushAll(),await this._exporter.shutdown()}_addToBuffer(e){this._finishedLogRecords.length>=this._maxQueueSize||(this._finishedLogRecords.push(e),this._maybeStartTimer())}_flushAll(){return new Promise((e,t)=>{let o=[],s=Math.ceil(this._finishedLogRecords.length/this._maxExportBatchSize);for(let a=0;a<s;a++)o.push(this._flushOneBatch());Promise.all(o).then(()=>{e()}).catch(t)})}_flushOneBatch(){return this._clearTimer(),this._finishedLogRecords.length===0?Promise.resolve():new Promise((e,t)=>{vl(this._export(this._finishedLogRecords.splice(0,this._maxExportBatchSize)),this._exportTimeoutMillis).then(()=>e()).catch(t)})}_maybeStartTimer(){this._timer===void 0&&(this._timer=setTimeout(()=>{this._flushOneBatch().then(()=>{this._finishedLogRecords.length>0&&(this._clearTimer(),this._maybeStartTimer())}).catch(e=>{Mr(e)})},this._scheduledDelayMillis),Tl(this._timer))}_clearTimer(){this._timer!==void 0&&(clearTimeout(this._timer),this._timer=void 0)}_export(e){let t=()=>jf._export(this._exporter,e).then(s=>{var a;s.code!==jt.SUCCESS&&Mr((a=s.error)!==null&&a!==void 0?a:new Error(`BatchLogRecordProcessor: log record export failed (status ${s})`))}).catch(Mr),o=e.map(s=>s.resource).filter(s=>s.asyncAttributesPending);return o.length===0?t():Promise.all(o.map(s=>{var a;return(a=s.waitForAsyncAttributes)===null||a===void 0?void 0:a.call(s)})).then(t,Mr)}}});var rs,v1=p(()=>{g1();rs=class extends Zf{onShutdown(){}}});var y1=p(()=>{v1()});var O1=p(()=>{y1()});var VT={};Ae(VT,{BatchLogRecordProcessor:()=>rs,ConsoleLogRecordExporter:()=>Wf,InMemoryLogRecordExporter:()=>Qf,LogRecord:()=>es,LoggerProvider:()=>Xf,NoopLogRecordProcessor:()=>ts,SimpleLogRecordProcessor:()=>Jf});var FT=p(()=>{E1();kT();BT();m1();T1();S1();O1()});var cr,ep=p(()=>{(function(r){r[r.DELTA=0]="DELTA",r[r.CUMULATIVE=1]="CUMULATIVE"})(cr||(cr={}))});var lt,ns=p(()=>{(function(r){r[r.HISTOGRAM=0]="HISTOGRAM",r[r.EXPONENTIAL_HISTOGRAM=1]="EXPONENTIAL_HISTOGRAM",r[r.GAUGE=2]="GAUGE",r[r.SUM=3]="SUM"})(lt||(lt={}))});function A1(r){return r!=null}function tp(r){let e=Object.keys(r);return e.length===0?"":(e=e.sort(),JSON.stringify(e.map(t=>[t,r[t]])))}function R1(r){var e,t;return`${r.name}:${(e=r.version)!==null&&e!==void 0?e:""}:${(t=r.schemaUrl)!==null&&t!==void 0?t:""}`}function wn(r,e){let t,o=new Promise(function(a,i){t=setTimeout(function(){i(new Mi("Operation timed out."))},e)});return Promise.race([r,o]).then(s=>(clearTimeout(t),s),s=>{throw clearTimeout(t),s})}async function N1(r){return Promise.all(r.map(async e=>{try{return{status:"fulfilled",value:await e}}catch(t){return{status:"rejected",reason:t}}}))}function C1(r){return r.status==="rejected"}function GT(r,e){let t=[];return r.forEach(o=>{t.push(...e(o))}),t}function P1(r,e){if(r.size!==e.size)return!1;for(let t of r)if(!e.has(t))return!1;return!0}function I1(r,e){let t=0,o=r.length-1,s=r.length;for(;o>=t;){let a=t+Math.trunc((o-t)/2);r[a]<e?t=a+1:(s=a,o=a-1)}return s}function L1(r,e){return r.toLowerCase()===e.toLowerCase()}var Mi,ur=p(()=>{Mi=class r extends Error{constructor(e){super(e),Object.setPrototypeOf(this,r.prototype)}}});var Yt,is=p(()=>{(function(r){r[r.DROP=0]="DROP",r[r.SUM=1]="SUM",r[r.LAST_VALUE=2]="LAST_VALUE",r[r.HISTOGRAM=3]="HISTOGRAM",r[r.EXPONENTIAL_HISTOGRAM=4]="EXPONENTIAL_HISTOGRAM"})(Yt||(Yt={}))});var yl,b1=p(()=>{is();yl=class{constructor(){this.kind=Yt.DROP}createAccumulation(){}merge(e,t){}diff(e,t){}toMetricData(e,t,o,s){}}});function wr(r,e,t){var o,s,a,i;return Tee(r)||S.warn(`Invalid metric name: "${r}". The metric name should be a ASCII string with a length no greater than 255 characters.`),{name:r,type:e,description:(o=t==null?void 0:t.description)!==null&&o!==void 0?o:"",unit:(s=t==null?void 0:t.unit)!==null&&s!==void 0?s:"",valueType:(a=t==null?void 0:t.valueType)!==null&&a!==void 0?a:Ot.DOUBLE,advice:(i=t==null?void 0:t.advice)!==null&&i!==void 0?i:{}}}function x1(r,e){var t,o;return{name:(t=r.name)!==null&&t!==void 0?t:e.name,description:(o=r.description)!==null&&o!==void 0?o:e.description,type:e.type,unit:e.unit,valueType:e.valueType,advice:e.advice}}function M1(r,e){return L1(r.name,e.name)&&r.unit===e.unit&&r.type===e.type&&r.valueType===e.valueType}function Tee(r){return r.match(mee)!=null}var he,mee,fn=p(()=>{P();ur();(function(r){r.COUNTER="COUNTER",r.GAUGE="GAUGE",r.HISTOGRAM="HISTOGRAM",r.UP_DOWN_COUNTER="UP_DOWN_COUNTER",r.OBSERVABLE_COUNTER="OBSERVABLE_COUNTER",r.OBSERVABLE_GAUGE="OBSERVABLE_GAUGE",r.OBSERVABLE_UP_DOWN_COUNTER="OBSERVABLE_UP_DOWN_COUNTER"})(he||(he={}));mee=/^[a-z][a-z0-9_.\-/]{0,254}$/i});function See(r){let e=r.map(()=>0);return e.push(0),{buckets:{boundaries:r,counts:e},sum:0,count:0,hasMinMax:!1,min:1/0,max:-1/0}}var os,ss,w1=p(()=>{is();ns();fn();ur();os=class{constructor(e,t,o=!0,s=See(t)){this.startTime=e,this._boundaries=t,this._recordMinMax=o,this._current=s}record(e){if(Number.isNaN(e))return;this._current.count+=1,this._current.sum+=e,this._recordMinMax&&(this._current.min=Math.min(e,this._current.min),this._current.max=Math.max(e,this._current.max),this._current.hasMinMax=!0);let t=I1(this._boundaries,e);this._current.buckets.counts[t]+=1}setStartTime(e){this.startTime=e}toPointValue(){return this._current}},ss=class{constructor(e,t){this._boundaries=e,this._recordMinMax=t,this.kind=Yt.HISTOGRAM}createAccumulation(e){return new os(e,this._boundaries,this._recordMinMax)}merge(e,t){let o=e.toPointValue(),s=t.toPointValue(),a=o.buckets.counts,i=s.buckets.counts,n=new Array(a.length);for(let u=0;u<a.length;u++)n[u]=a[u]+i[u];let l=1/0,c=-1/0;return this._recordMinMax&&(o.hasMinMax&&s.hasMinMax?(l=Math.min(o.min,s.min),c=Math.max(o.max,s.max)):o.hasMinMax?(l=o.min,c=o.max):s.hasMinMax&&(l=s.min,c=s.max)),new os(e.startTime,o.buckets.boundaries,this._recordMinMax,{buckets:{boundaries:o.buckets.boundaries,counts:n},count:o.count+s.count,sum:o.sum+s.sum,hasMinMax:this._recordMinMax&&(o.hasMinMax||s.hasMinMax),min:l,max:c})}diff(e,t){let o=e.toPointValue(),s=t.toPointValue(),a=o.buckets.counts,i=s.buckets.counts,n=new Array(a.length);for(let l=0;l<a.length;l++)n[l]=i[l]-a[l];return new os(t.startTime,o.buckets.boundaries,this._recordMinMax,{buckets:{boundaries:o.buckets.boundaries,counts:n},count:s.count-o.count,sum:s.sum-o.sum,hasMinMax:!1,min:1/0,max:-1/0})}toMetricData(e,t,o,s){return{descriptor:e,aggregationTemporality:t,dataPointType:lt.HISTOGRAM,dataPoints:o.map(([a,i])=>{let n=i.toPointValue(),l=e.type===he.GAUGE||e.type===he.UP_DOWN_COUNTER||e.type===he.OBSERVABLE_GAUGE||e.type===he.OBSERVABLE_UP_DOWN_COUNTER;return{attributes:a,startTime:i.startTime,endTime:s,value:{min:n.hasMinMax?n.min:void 0,max:n.hasMinMax?n.max:void 0,sum:l?void 0:n.sum,buckets:n.buckets,count:n.count}}})}}}});var Ol,HT,D1=p(()=>{Ol=class r{constructor(e=new HT,t=0,o=0,s=0){this.backing=e,this.indexBase=t,this.indexStart=o,this.indexEnd=s}get offset(){return this.indexStart}get length(){return this.backing.length===0||this.indexEnd===this.indexStart&&this.at(0)===0?0:this.indexEnd-this.indexStart+1}counts(){return Array.from({length:this.length},(e,t)=>this.at(t))}at(e){let t=this.indexBase-this.indexStart;return e<t&&(e+=this.backing.length),e-=t,this.backing.countAt(e)}incrementBucket(e,t){this.backing.increment(e,t)}decrementBucket(e,t){this.backing.decrement(e,t)}trim(){for(let e=0;e<this.length;e++)if(this.at(e)!==0){this.indexStart+=e;break}else if(e===this.length-1){this.indexStart=this.indexEnd=this.indexBase=0;return}for(let e=this.length-1;e>=0;e--)if(this.at(e)!==0){this.indexEnd-=this.length-e-1;break}this._rotate()}downscale(e){this._rotate();let t=1+this.indexEnd-this.indexStart,o=1<<e,s=0,a=0;for(let i=this.indexStart;i<=this.indexEnd;){let n=i%o;n<0&&(n+=o);for(let l=n;l<o&&s<t;l++)this._relocateBucket(a,s),s++,i++;a++}this.indexStart>>=e,this.indexEnd>>=e,this.indexBase=this.indexStart}clone(){return new r(this.backing.clone(),this.indexBase,this.indexStart,this.indexEnd)}_rotate(){let e=this.indexBase-this.indexStart;e!==0&&(e>0?(this.backing.reverse(0,this.backing.length),this.backing.reverse(0,e),this.backing.reverse(e,this.backing.length)):(this.backing.reverse(0,this.backing.length),this.backing.reverse(0,this.backing.length+e)),this.indexBase=this.indexStart)}_relocateBucket(e,t){e!==t&&this.incrementBucket(e,this.backing.emptyBucket(t))}},HT=class r{constructor(e=[0]){this._counts=e}get length(){return this._counts.length}countAt(e){return this._counts[e]}growTo(e,t,o){let s=new Array(e).fill(0);s.splice(o,this._counts.length-t,...this._counts.slice(t)),s.splice(0,t,...this._counts.slice(0,t)),this._counts=s}reverse(e,t){let o=Math.floor((e+t)/2)-e;for(let s=0;s<o;s++){let a=this._counts[e+s];this._counts[e+s]=this._counts[t-s-1],this._counts[t-s-1]=a}}emptyBucket(e){let t=this._counts[e];return this._counts[e]=0,t}increment(e,t){this._counts[e]+=t}decrement(e,t){this._counts[e]>=t?this._counts[e]-=t:this._counts[e]=0}clone(){return new r([...this._counts])}}});function rp(r){let e=new DataView(new ArrayBuffer(8));return e.setFloat64(0,r),((e.getUint32(0)&2146435072)>>20)-1023}function np(r){let e=new DataView(new ArrayBuffer(8));e.setFloat64(0,r);let t=e.getUint32(0),o=e.getUint32(4);return(t&1048575)*Math.pow(2,32)+o}var Al,qT=p(()=>{Al=Math.pow(2,-1022)});function Rl(r,e){return r===0||r===Number.POSITIVE_INFINITY||r===Number.NEGATIVE_INFINITY||Number.isNaN(r)?r:r*Math.pow(2,e)}function k1(r){return r--,r|=r>>1,r|=r>>2,r|=r>>4,r|=r>>8,r|=r>>16,r++,r}var ip=p(()=>{});var Dr,op=p(()=>{Dr=class extends Error{}});var sp,V1=p(()=>{qT();ip();op();sp=class{constructor(e){this._shift=-e}mapToIndex(e){if(e<Al)return this._minNormalLowerBoundaryIndex();let t=rp(e),o=this._rightShift(np(e)-1,52);return t+o>>this._shift}lowerBoundary(e){let t=this._minNormalLowerBoundaryIndex();if(e<t)throw new Dr(`underflow: ${e} is < minimum lower boundary: ${t}`);let o=this._maxNormalLowerBoundaryIndex();if(e>o)throw new Dr(`overflow: ${e} is > maximum lower boundary: ${o}`);return Rl(1,e<<this._shift)}get scale(){return this._shift===0?0:-this._shift}_minNormalLowerBoundaryIndex(){let e=-1022>>this._shift;return this._shift<2&&e--,e}_maxNormalLowerBoundaryIndex(){return 1023>>this._shift}_rightShift(e,t){return Math.floor(e*Math.pow(2,-t))}}});var ap,F1=p(()=>{qT();ip();op();ap=class{constructor(e){this._scale=e,this._scaleFactor=Rl(Math.LOG2E,e),this._inverseFactor=Rl(Math.LN2,-e)}mapToIndex(e){if(e<=Al)return this._minNormalLowerBoundaryIndex()-1;if(np(e)===0)return(rp(e)<<this._scale)-1;let t=Math.floor(Math.log(e)*this._scaleFactor),o=this._maxNormalLowerBoundaryIndex();return t>=o?o:t}lowerBoundary(e){let t=this._maxNormalLowerBoundaryIndex();if(e>=t){if(e===t)return 2*Math.exp((e-(1<<this._scale))/this._scaleFactor);throw new Dr(`overflow: ${e} is > maximum lower boundary: ${t}`)}let o=this._minNormalLowerBoundaryIndex();if(e<=o){if(e===o)return Al;if(e===o-1)return Math.exp((e+(1<<this._scale))/this._scaleFactor)/2;throw new Dr(`overflow: ${e} is < minimum lower boundary: ${o}`)}return Math.exp(e*this._inverseFactor)}get scale(){return this._scale}_minNormalLowerBoundaryIndex(){return-1022<<this._scale}_maxNormalLowerBoundaryIndex(){return(1024<<this._scale)-1}}});function KT(r){if(r>H1||r<G1)throw new Dr(`expected scale >= ${G1} && <= ${H1}, got: ${r}`);return vee[r+10]}var G1,H1,vee,q1=p(()=>{V1();F1();op();G1=-10,H1=20,vee=Array.from({length:31},(r,e)=>e>10?new ap(e-10):new sp(e-10))});var as,yee,Oee,zT,lp,Nl,j1=p(()=>{is();ns();P();fn();D1();q1();ip();as=class r{constructor(e,t){this.low=e,this.high=t}static combine(e,t){return new r(Math.min(e.low,t.low),Math.max(e.high,t.high))}},yee=20,Oee=160,zT=2,lp=class r{constructor(e=e,t=Oee,o=!0,s=0,a=0,i=0,n=Number.POSITIVE_INFINITY,l=Number.NEGATIVE_INFINITY,c=new Ol,u=new Ol,f=KT(yee)){this.startTime=e,this._maxSize=t,this._recordMinMax=o,this._sum=s,this._count=a,this._zeroCount=i,this._min=n,this._max=l,this._positive=c,this._negative=u,this._mapping=f,this._maxSize<zT&&(S.warn(`Exponential Histogram Max Size set to ${this._maxSize},                 changing to the minimum size of: ${zT}`),this._maxSize=zT)}record(e){this.updateByIncrement(e,1)}setStartTime(e){this.startTime=e}toPointValue(){return{hasMinMax:this._recordMinMax,min:this.min,max:this.max,sum:this.sum,positive:{offset:this.positive.offset,bucketCounts:this.positive.counts()},negative:{offset:this.negative.offset,bucketCounts:this.negative.counts()},count:this.count,scale:this.scale,zeroCount:this.zeroCount}}get sum(){return this._sum}get min(){return this._min}get max(){return this._max}get count(){return this._count}get zeroCount(){return this._zeroCount}get scale(){return this._count===this._zeroCount?0:this._mapping.scale}get positive(){return this._positive}get negative(){return this._negative}updateByIncrement(e,t){if(!Number.isNaN(e)){if(e>this._max&&(this._max=e),e<this._min&&(this._min=e),this._count+=t,e===0){this._zeroCount+=t;return}this._sum+=e*t,e>0?this._updateBuckets(this._positive,e,t):this._updateBuckets(this._negative,-e,t)}}merge(e){this._count===0?(this._min=e.min,this._max=e.max):e.count!==0&&(e.min<this.min&&(this._min=e.min),e.max>this.max&&(this._max=e.max)),this.startTime=e.startTime,this._sum+=e.sum,this._count+=e.count,this._zeroCount+=e.zeroCount;let t=this._minScale(e);this._downscale(this.scale-t),this._mergeBuckets(this.positive,e,e.positive,t),this._mergeBuckets(this.negative,e,e.negative,t)}diff(e){this._min=1/0,this._max=-1/0,this._sum-=e.sum,this._count-=e.count,this._zeroCount-=e.zeroCount;let t=this._minScale(e);this._downscale(this.scale-t),this._diffBuckets(this.positive,e,e.positive,t),this._diffBuckets(this.negative,e,e.negative,t)}clone(){return new r(this.startTime,this._maxSize,this._recordMinMax,this._sum,this._count,this._zeroCount,this._min,this._max,this.positive.clone(),this.negative.clone(),this._mapping)}_updateBuckets(e,t,o){let s=this._mapping.mapToIndex(t),a=!1,i=0,n=0;if(e.length===0?(e.indexStart=s,e.indexEnd=e.indexStart,e.indexBase=e.indexStart):s<e.indexStart&&e.indexEnd-s>=this._maxSize?(a=!0,n=s,i=e.indexEnd):s>e.indexEnd&&s-e.indexStart>=this._maxSize&&(a=!0,n=e.indexStart,i=s),a){let l=this._changeScale(i,n);this._downscale(l),s=this._mapping.mapToIndex(t)}this._incrementIndexBy(e,s,o)}_incrementIndexBy(e,t,o){if(o===0)return;if(e.length===0&&(e.indexStart=e.indexEnd=e.indexBase=t),t<e.indexStart){let a=e.indexEnd-t;a>=e.backing.length&&this._grow(e,a+1),e.indexStart=t}else if(t>e.indexEnd){let a=t-e.indexStart;a>=e.backing.length&&this._grow(e,a+1),e.indexEnd=t}let s=t-e.indexBase;s<0&&(s+=e.backing.length),e.incrementBucket(s,o)}_grow(e,t){let o=e.backing.length,s=e.indexBase-e.indexStart,a=o-s,i=k1(t);i>this._maxSize&&(i=this._maxSize);let n=i-s;e.backing.growTo(i,a,n)}_changeScale(e,t){let o=0;for(;e-t>=this._maxSize;)e>>=1,t>>=1,o++;return o}_downscale(e){if(e===0)return;if(e<0)throw new Error(`impossible change of scale: ${this.scale}`);let t=this._mapping.scale-e;this._positive.downscale(e),this._negative.downscale(e),this._mapping=KT(t)}_minScale(e){let t=Math.min(this.scale,e.scale),o=as.combine(this._highLowAtScale(this.positive,this.scale,t),this._highLowAtScale(e.positive,e.scale,t)),s=as.combine(this._highLowAtScale(this.negative,this.scale,t),this._highLowAtScale(e.negative,e.scale,t));return Math.min(t-this._changeScale(o.high,o.low),t-this._changeScale(s.high,s.low))}_highLowAtScale(e,t,o){if(e.length===0)return new as(0,-1);let s=t-o;return new as(e.indexStart>>s,e.indexEnd>>s)}_mergeBuckets(e,t,o,s){let a=o.offset,i=t.scale-s;for(let n=0;n<o.length;n++)this._incrementIndexBy(e,a+n>>i,o.at(n))}_diffBuckets(e,t,o,s){let a=o.offset,i=t.scale-s;for(let n=0;n<o.length;n++){let c=(a+n>>i)-e.indexBase;c<0&&(c+=e.backing.length),e.decrementBucket(c,o.at(n))}e.trim()}},Nl=class{constructor(e,t){this._maxSize=e,this._recordMinMax=t,this.kind=Yt.EXPONENTIAL_HISTOGRAM}createAccumulation(e){return new lp(e,this._maxSize,this._recordMinMax)}merge(e,t){let o=t.clone();return o.merge(e),o}diff(e,t){let o=t.clone();return o.diff(e),o}toMetricData(e,t,o,s){return{descriptor:e,aggregationTemporality:t,dataPointType:lt.EXPONENTIAL_HISTOGRAM,dataPoints:o.map(([a,i])=>{let n=i.toPointValue(),l=e.type===he.GAUGE||e.type===he.UP_DOWN_COUNTER||e.type===he.OBSERVABLE_GAUGE||e.type===he.OBSERVABLE_UP_DOWN_COUNTER;return{attributes:a,startTime:i.startTime,endTime:s,value:{min:n.hasMinMax?n.min:void 0,max:n.hasMinMax?n.max:void 0,sum:l?void 0:n.sum,positive:{offset:n.positive.offset,bucketCounts:n.positive.bucketCounts},negative:{offset:n.negative.offset,bucketCounts:n.negative.bucketCounts},count:n.count,scale:n.scale,zeroCount:n.zeroCount}}})}}}});function Y1(r){return r.setValue(Aee,!0)}var Aee,K1=p(()=>{P();Aee=De("OpenTelemetry SDK Context Key SUPPRESS_TRACING")});function z1(){return r=>{S.error(Ree(r))}}function Ree(r){return typeof r=="string"?r:JSON.stringify(Nee(r))}function Nee(r){let e={},t=r;for(;t!==null;)Object.getOwnPropertyNames(t).forEach(o=>{if(e[o])return;let s=t[o];s&&(e[o]=String(s))}),t=Object.getPrototypeOf(t);return e}var $1=p(()=>{P()});function cp(r){try{Cee(r)}catch{}}var Cee,X1=p(()=>{$1();Cee=z1()});var W1,J1=p(()=>{W1="1.29.0"});var wi,Q1=p(()=>{J1();Ve();wi={[Se]:"opentelemetry",[st]:"node",[ge]:wt,[ve]:W1}});function Cl(r){r.unref()}var Z1=p(()=>{});var eD=p(()=>{Q1();Z1()});var tD=p(()=>{eD()});function Di(r){let e=r/1e3,t=Math.trunc(e),o=Math.round(r%1e3*Uee);return[t,o]}function ls(r){return r[0]*1e6+r[1]/1e3}var wee,Dee,Uee,APe,rD=p(()=>{wee=9,Dee=6,Uee=Math.pow(10,Dee),APe=Math.pow(10,wee)});var fr,nD=p(()=>{(function(r){r[r.SUCCESS=0]="SUCCESS",r[r.FAILED=1]="FAILED"})(fr||(fr={}))});function iD(r,e){return new Promise(t=>{me.with(Y1(me.active()),()=>{r.export(e,o=>{t(o)})})})}var oD=p(()=>{P();K1()});var sD,Dn=p(()=>{X1();rD();nD();tD();oD();sD={_export:iD}});var cs,Pl,aD=p(()=>{is();Dn();ns();cs=class{constructor(e,t=0,o=[0,0]){this.startTime=e,this._current=t,this.sampleTime=o}record(e){this._current=e,this.sampleTime=Di(Date.now())}setStartTime(e){this.startTime=e}toPointValue(){return this._current}},Pl=class{constructor(){this.kind=Yt.LAST_VALUE}createAccumulation(e){return new cs(e)}merge(e,t){let o=ls(t.sampleTime)>=ls(e.sampleTime)?t:e;return new cs(e.startTime,o.toPointValue(),o.sampleTime)}diff(e,t){let o=ls(t.sampleTime)>=ls(e.sampleTime)?t:e;return new cs(t.startTime,o.toPointValue(),o.sampleTime)}toMetricData(e,t,o,s){return{descriptor:e,aggregationTemporality:t,dataPointType:lt.GAUGE,dataPoints:o.map(([a,i])=>({attributes:a,startTime:i.startTime,endTime:s,value:i.toPointValue()}))}}}});var Un,us,lD=p(()=>{is();ns();Un=class{constructor(e,t,o=0,s=!1){this.startTime=e,this.monotonic=t,this._current=o,this.reset=s}record(e){this.monotonic&&e<0||(this._current+=e)}setStartTime(e){this.startTime=e}toPointValue(){return this._current}},us=class{constructor(e){this.monotonic=e,this.kind=Yt.SUM}createAccumulation(e){return new Un(e,this.monotonic)}merge(e,t){let o=e.toPointValue(),s=t.toPointValue();return t.reset?new Un(t.startTime,this.monotonic,s,t.reset):new Un(e.startTime,this.monotonic,o+s)}diff(e,t){let o=e.toPointValue(),s=t.toPointValue();return this.monotonic&&o>s?new Un(t.startTime,this.monotonic,s,!0):new Un(t.startTime,this.monotonic,s-o)}toMetricData(e,t,o,s){return{descriptor:e,aggregationTemporality:t,dataPointType:lt.SUM,dataPoints:o.map(([a,i])=>({attributes:a,startTime:i.startTime,endTime:s,value:i.toPointValue()})),isMonotonic:this.monotonic}}}});var cD=p(()=>{b1();w1();j1();aD();lD()});var mt,fs,Ui,ps,ds,Il,Ll,bl,uD,fD,pD,dD,kee,Bee,up=p(()=>{P();cD();fn();mt=class{static Drop(){return uD}static Sum(){return fD}static LastValue(){return pD}static Histogram(){return dD}static ExponentialHistogram(){return kee}static Default(){return Bee}},fs=class r extends mt{createAggregator(e){return r.DEFAULT_INSTANCE}};fs.DEFAULT_INSTANCE=new yl;Ui=class r extends mt{createAggregator(e){switch(e.type){case he.COUNTER:case he.OBSERVABLE_COUNTER:case he.HISTOGRAM:return r.MONOTONIC_INSTANCE;default:return r.NON_MONOTONIC_INSTANCE}}};Ui.MONOTONIC_INSTANCE=new us(!0);Ui.NON_MONOTONIC_INSTANCE=new us(!1);ps=class r extends mt{createAggregator(e){return r.DEFAULT_INSTANCE}};ps.DEFAULT_INSTANCE=new Pl;ds=class r extends mt{createAggregator(e){return r.DEFAULT_INSTANCE}};ds.DEFAULT_INSTANCE=new ss([0,5,10,25,50,75,100,250,500,750,1e3,2500,5e3,7500,1e4],!0);Il=class extends mt{constructor(e,t=!0){if(super(),this._recordMinMax=t,e==null)throw new Error("ExplicitBucketHistogramAggregation should be created with explicit boundaries, if a single bucket histogram is required, please pass an empty array");e=e.concat(),e=e.sort((a,i)=>a-i);let o=e.lastIndexOf(-1/0),s=e.indexOf(1/0);s===-1&&(s=void 0),this._boundaries=e.slice(o+1,s)}createAggregator(e){return new ss(this._boundaries,this._recordMinMax)}},Ll=class extends mt{constructor(e=160,t=!0){super(),this._maxSize=e,this._recordMinMax=t}createAggregator(e){return new Nl(this._maxSize,this._recordMinMax)}},bl=class extends mt{_resolve(e){switch(e.type){case he.COUNTER:case he.UP_DOWN_COUNTER:case he.OBSERVABLE_COUNTER:case he.OBSERVABLE_UP_DOWN_COUNTER:return fD;case he.GAUGE:case he.OBSERVABLE_GAUGE:return pD;case he.HISTOGRAM:return e.advice.explicitBucketBoundaries?new Il(e.advice.explicitBucketBoundaries):dD}return S.warn(`Unable to recognize instrument type: ${e.type}`),uD}createAggregator(e){return this._resolve(e).createAggregator(e)}},uD=new fs,fD=new Ui,pD=new ps,dD=new ds,kee=new Ll,Bee=new bl});var hD,fp,$T=p(()=>{up();ep();hD=r=>mt.Default(),fp=r=>cr.CUMULATIVE});var hs,XT=p(()=>{P();ur();$T();hs=class{constructor(e){var t,o,s;this._shutdown=!1,this._aggregationSelector=(t=e==null?void 0:e.aggregationSelector)!==null&&t!==void 0?t:hD,this._aggregationTemporalitySelector=(o=e==null?void 0:e.aggregationTemporalitySelector)!==null&&o!==void 0?o:fp,this._metricProducers=(s=e==null?void 0:e.metricProducers)!==null&&s!==void 0?s:[],this._cardinalitySelector=e==null?void 0:e.cardinalitySelector}setMetricProducer(e){if(this._sdkMetricProducer)throw new Error("MetricReader can not be bound to a MeterProvider again.");this._sdkMetricProducer=e,this.onInitialized()}selectAggregation(e){return this._aggregationSelector(e)}selectAggregationTemporality(e){return this._aggregationTemporalitySelector(e)}selectCardinalityLimit(e){return this._cardinalitySelector?this._cardinalitySelector(e):2e3}onInitialized(){}async collect(e){if(this._sdkMetricProducer===void 0)throw new Error("MetricReader is not bound to a MetricProducer");if(this._shutdown)throw new Error("MetricReader is shutdown");let[t,...o]=await Promise.all([this._sdkMetricProducer.collect({timeoutMillis:e==null?void 0:e.timeoutMillis}),...this._metricProducers.map(n=>n.collect({timeoutMillis:e==null?void 0:e.timeoutMillis}))]),s=t.errors.concat(GT(o,n=>n.errors)),a=t.resourceMetrics.resource,i=t.resourceMetrics.scopeMetrics.concat(GT(o,n=>n.resourceMetrics.scopeMetrics));return{resourceMetrics:{resource:a,scopeMetrics:i},errors:s}}async shutdown(e){if(this._shutdown){S.error("Cannot call shutdown twice.");return}(e==null?void 0:e.timeoutMillis)==null?await this.onShutdown():await wn(this.onShutdown(),e.timeoutMillis),this._shutdown=!0}async forceFlush(e){if(this._shutdown){S.warn("Cannot forceFlush on already shutdown MetricReader.");return}if((e==null?void 0:e.timeoutMillis)==null){await this.onForceFlush();return}await wn(this.onForceFlush(),e.timeoutMillis)}}});var pp,_D=p(()=>{P();Dn();XT();ur();pp=class extends hs{constructor(e){var t,o,s,a;if(super({aggregationSelector:(t=e.exporter.selectAggregation)===null||t===void 0?void 0:t.bind(e.exporter),aggregationTemporalitySelector:(o=e.exporter.selectAggregationTemporality)===null||o===void 0?void 0:o.bind(e.exporter),metricProducers:e.metricProducers}),e.exportIntervalMillis!==void 0&&e.exportIntervalMillis<=0)throw Error("exportIntervalMillis must be greater than 0");if(e.exportTimeoutMillis!==void 0&&e.exportTimeoutMillis<=0)throw Error("exportTimeoutMillis must be greater than 0");if(e.exportTimeoutMillis!==void 0&&e.exportIntervalMillis!==void 0&&e.exportIntervalMillis<e.exportTimeoutMillis)throw Error("exportIntervalMillis must be greater than or equal to exportTimeoutMillis");this._exportInterval=(s=e.exportIntervalMillis)!==null&&s!==void 0?s:6e4,this._exportTimeout=(a=e.exportTimeoutMillis)!==null&&a!==void 0?a:3e4,this._exporter=e.exporter}async _runOnce(){try{await wn(this._doRun(),this._exportTimeout)}catch(e){if(e instanceof Mi){S.error("Export took longer than %s milliseconds and timed out.",this._exportTimeout);return}cp(e)}}async _doRun(){var e,t;let{resourceMetrics:o,errors:s}=await this.collect({timeoutMillis:this._exportTimeout});if(s.length>0&&S.error("PeriodicExportingMetricReader: metrics collection errors",...s),o.resource.asyncAttributesPending)try{await((t=(e=o.resource).waitForAsyncAttributes)===null||t===void 0?void 0:t.call(e))}catch(i){S.debug("Error while resolving async portion of resource: ",i),cp(i)}let a=await sD._export(this._exporter,o);if(a.code!==fr.SUCCESS)throw new Error(`PeriodicExportingMetricReader: metrics export failed (error ${a.error})`)}onInitialized(){this._interval=setInterval(()=>{this._runOnce()},this._exportInterval),Cl(this._interval)}async onForceFlush(){await this._runOnce(),await this._exporter.forceFlush()}async onShutdown(){this._interval&&clearInterval(this._interval),await this._exporter.shutdown()}}});var dp,ED=p(()=>{Dn();dp=class{constructor(e){this._shutdown=!1,this._metrics=[],this._aggregationTemporality=e}export(e,t){if(this._shutdown){setTimeout(()=>t({code:fr.FAILED}),0);return}this._metrics.push(e),setTimeout(()=>t({code:fr.SUCCESS}),0)}getMetrics(){return this._metrics}forceFlush(){return Promise.resolve()}reset(){this._metrics=[]}selectAggregationTemporality(e){return this._aggregationTemporality}shutdown(){return this._shutdown=!0,Promise.resolve()}}});var hp,mD=p(()=>{Dn();$T();hp=class r{constructor(e){var t;this._shutdown=!1,this._temporalitySelector=(t=e==null?void 0:e.temporalitySelector)!==null&&t!==void 0?t:fp}export(e,t){if(this._shutdown){setImmediate(t,{code:fr.FAILED});return}return r._sendMetrics(e,t)}forceFlush(){return Promise.resolve()}selectAggregationTemporality(e){return this._temporalitySelector(e)}shutdown(){return this._shutdown=!0,Promise.resolve()}static _sendMetrics(e,t){for(let o of e.scopeMetrics)for(let s of o.metrics)console.dir({descriptor:s.descriptor,dataPointType:s.dataPointType,dataPoints:s.dataPoints},{depth:null});t({code:fr.SUCCESS})}}});function _p(){return`unknown_service:${process.argv0}`}var TD=p(()=>{});var SD=p(()=>{TD()});var gD=p(()=>{SD()});var kn,vD=p(()=>{P();Ve();Dn();gD();kn=class r{constructor(e,t){var o;this._attributes=e,this.asyncAttributesPending=t!=null,this._syncAttributes=(o=this._attributes)!==null&&o!==void 0?o:{},this._asyncAttributesPromise=t==null?void 0:t.then(s=>(this._attributes=Object.assign({},this._attributes,s),this.asyncAttributesPending=!1,s),s=>(S.debug("a resource's async attributes promise rejected: %s",s),this.asyncAttributesPending=!1,{}))}static empty(){return r.EMPTY}static default(){return new r({[at]:_p(),[ge]:wi[ge],[Se]:wi[Se],[ve]:wi[ve]})}get attributes(){var e;return this.asyncAttributesPending&&S.error("Accessing resource attributes before async attributes settled"),(e=this._attributes)!==null&&e!==void 0?e:{}}async waitForAsyncAttributes(){this.asyncAttributesPending&&await this._asyncAttributesPromise}merge(e){var t;if(!e)return this;let o=Object.assign(Object.assign({},this._syncAttributes),(t=e._syncAttributes)!==null&&t!==void 0?t:e.attributes);if(!this._asyncAttributesPromise&&!e._asyncAttributesPromise)return new r(o);let s=Promise.all([this._asyncAttributesPromise,e._asyncAttributesPromise]).then(([a,i])=>{var n;return Object.assign(Object.assign(Object.assign(Object.assign({},this._syncAttributes),a),(n=e._syncAttributes)!==null&&n!==void 0?n:e.attributes),i)});return new r(o,s)}};kn.EMPTY=new kn({})});var yD=p(()=>{vD()});var Ep,OD=p(()=>{Ep=class{constructor(){this._registeredViews=[]}addView(e){this._registeredViews.push(e)}findViews(e,t){return this._registeredViews.filter(s=>this._matchInstrument(s.instrumentSelector,e)&&this._matchMeter(s.meterSelector,t))}_matchInstrument(e,t){return(e.getType()===void 0||t.type===e.getType())&&e.getNameFilter().match(t.name)&&e.getUnitFilter().match(t.unit)}_matchMeter(e,t){return e.getNameFilter().match(t.name)&&(t.version===void 0||e.getVersionFilter().match(t.version))&&(t.schemaUrl===void 0||e.getSchemaUrlFilter().match(t.schemaUrl))}}});function xl(r){return r instanceof Es}var _s,mp,Tp,Sp,gp,Es,vp,yp,Op,Ap=p(()=>{P();Dn();_s=class{constructor(e,t){this._writableMetricStorage=e,this._descriptor=t}_record(e,t={},o=me.active()){if(typeof e!="number"){S.warn(`non-number value provided to metric ${this._descriptor.name}: ${e}`);return}this._descriptor.valueType===Ot.INT&&!Number.isInteger(e)&&(S.warn(`INT value type cannot accept a floating-point value for ${this._descriptor.name}, ignoring the fractional digits.`),e=Math.trunc(e),!Number.isInteger(e))||this._writableMetricStorage.record(e,t,o,Di(Date.now()))}},mp=class extends _s{add(e,t,o){this._record(e,t,o)}},Tp=class extends _s{add(e,t,o){if(e<0){S.warn(`negative value provided to counter ${this._descriptor.name}: ${e}`);return}this._record(e,t,o)}},Sp=class extends _s{record(e,t,o){this._record(e,t,o)}},gp=class extends _s{record(e,t,o){if(e<0){S.warn(`negative value provided to histogram ${this._descriptor.name}: ${e}`);return}this._record(e,t,o)}},Es=class{constructor(e,t,o){this._observableRegistry=o,this._descriptor=e,this._metricStorages=t}addCallback(e){this._observableRegistry.addCallback(e,this)}removeCallback(e){this._observableRegistry.removeCallback(e,this)}},vp=class extends Es{},yp=class extends Es{},Op=class extends Es{}});var Rp,AD=p(()=>{fn();Ap();Rp=class{constructor(e){this._meterSharedState=e}createGauge(e,t){let o=wr(e,he.GAUGE,t),s=this._meterSharedState.registerMetricStorage(o);return new Sp(s,o)}createHistogram(e,t){let o=wr(e,he.HISTOGRAM,t),s=this._meterSharedState.registerMetricStorage(o);return new gp(s,o)}createCounter(e,t){let o=wr(e,he.COUNTER,t),s=this._meterSharedState.registerMetricStorage(o);return new Tp(s,o)}createUpDownCounter(e,t){let o=wr(e,he.UP_DOWN_COUNTER,t),s=this._meterSharedState.registerMetricStorage(o);return new mp(s,o)}createObservableGauge(e,t){let o=wr(e,he.OBSERVABLE_GAUGE,t),s=this._meterSharedState.registerAsyncMetricStorage(o);return new yp(o,s,this._meterSharedState.observableRegistry)}createObservableCounter(e,t){let o=wr(e,he.OBSERVABLE_COUNTER,t),s=this._meterSharedState.registerAsyncMetricStorage(o);return new vp(o,s,this._meterSharedState.observableRegistry)}createObservableUpDownCounter(e,t){let o=wr(e,he.OBSERVABLE_UP_DOWN_COUNTER,t),s=this._meterSharedState.registerAsyncMetricStorage(o);return new Op(o,s,this._meterSharedState.observableRegistry)}addBatchObservableCallback(e,t){this._meterSharedState.observableRegistry.addBatchCallback(e,t)}removeBatchObservableCallback(e,t){this._meterSharedState.observableRegistry.removeBatchCallback(e,t)}}});var ms,WT=p(()=>{fn();ms=class{constructor(e){this._instrumentDescriptor=e}getInstrumentDescriptor(){return this._instrumentDescriptor}updateDescription(e){this._instrumentDescriptor=wr(this._instrumentDescriptor.name,this._instrumentDescriptor.type,{description:e,valueType:this._instrumentDescriptor.valueType,unit:this._instrumentDescriptor.unit,advice:this._instrumentDescriptor.advice})}}});var JT,Dt,Ml=p(()=>{ur();JT=class{constructor(e){this._hash=e,this._valueMap=new Map,this._keyMap=new Map}get(e,t){return t??(t=this._hash(e)),this._valueMap.get(t)}getOrDefault(e,t){let o=this._hash(e);if(this._valueMap.has(o))return this._valueMap.get(o);let s=t();return this._keyMap.has(o)||this._keyMap.set(o,e),this._valueMap.set(o,s),s}set(e,t,o){o??(o=this._hash(e)),this._keyMap.has(o)||this._keyMap.set(o,e),this._valueMap.set(o,t)}has(e,t){return t??(t=this._hash(e)),this._valueMap.has(t)}*keys(){let e=this._keyMap.entries(),t=e.next();for(;t.done!==!0;)yield[t.value[1],t.value[0]],t=e.next()}*entries(){let e=this._valueMap.entries(),t=e.next();for(;t.done!==!0;)yield[this._keyMap.get(t.value[0]),t.value[1],t.value[0]],t=e.next()}get size(){return this._valueMap.size}},Dt=class extends JT{constructor(){super(tp)}}});var Ts,QT=p(()=>{ur();Ml();Ts=class{constructor(e,t){this._aggregator=e,this._activeCollectionStorage=new Dt,this._cumulativeMemoStorage=new Dt,this._overflowAttributes={"otel.metric.overflow":!0},this._cardinalityLimit=(t??2e3)-1,this._overflowHashCode=tp(this._overflowAttributes)}record(e,t,o,s){let a=this._activeCollectionStorage.get(t);if(!a){if(this._activeCollectionStorage.size>=this._cardinalityLimit){let i=this._activeCollectionStorage.getOrDefault(this._overflowAttributes,()=>this._aggregator.createAccumulation(s));i==null||i.record(e);return}a=this._aggregator.createAccumulation(s),this._activeCollectionStorage.set(t,a)}a==null||a.record(e)}batchCumulate(e,t){Array.from(e.entries()).forEach(([o,s,a])=>{let i=this._aggregator.createAccumulation(t);i==null||i.record(s);let n=i;if(this._cumulativeMemoStorage.has(o,a)){let l=this._cumulativeMemoStorage.get(o,a);n=this._aggregator.diff(l,i)}else if(this._cumulativeMemoStorage.size>=this._cardinalityLimit&&(o=this._overflowAttributes,a=this._overflowHashCode,this._cumulativeMemoStorage.has(o,a))){let l=this._cumulativeMemoStorage.get(o,a);n=this._aggregator.diff(l,i)}if(this._activeCollectionStorage.has(o,a)){let l=this._activeCollectionStorage.get(o,a);n=this._aggregator.merge(l,n)}this._cumulativeMemoStorage.set(o,i,a),this._activeCollectionStorage.set(o,n,a)})}collect(){let e=this._activeCollectionStorage;return this._activeCollectionStorage=new Dt,e}}});function Vee(r){return Array.from(r.entries())}var Ss,ZT=p(()=>{ep();Ml();Ss=class r{constructor(e,t){this._aggregator=e,this._unreportedAccumulations=new Map,this._reportHistory=new Map,t.forEach(o=>{this._unreportedAccumulations.set(o,[])})}buildMetrics(e,t,o,s){this._stashAccumulations(o);let a=this._getMergedUnreportedAccumulations(e),i=a,n;if(this._reportHistory.has(e)){let c=this._reportHistory.get(e),u=c.collectionTime;n=c.aggregationTemporality,n===cr.CUMULATIVE?i=r.merge(c.accumulations,a,this._aggregator):i=r.calibrateStartTime(c.accumulations,a,u)}else n=e.selectAggregationTemporality(t.type);this._reportHistory.set(e,{accumulations:i,collectionTime:s,aggregationTemporality:n});let l=Vee(i);if(l.length!==0)return this._aggregator.toMetricData(t,n,l,s)}_stashAccumulations(e){let t=this._unreportedAccumulations.keys();for(let o of t){let s=this._unreportedAccumulations.get(o);s===void 0&&(s=[],this._unreportedAccumulations.set(o,s)),s.push(e)}}_getMergedUnreportedAccumulations(e){let t=new Dt,o=this._unreportedAccumulations.get(e);if(this._unreportedAccumulations.set(e,[]),o===void 0)return t;for(let s of o)t=r.merge(t,s,this._aggregator);return t}static merge(e,t,o){let s=e,a=t.entries(),i=a.next();for(;i.done!==!0;){let[n,l,c]=i.value;if(e.has(n,c)){let u=e.get(n,c),f=o.merge(u,l);s.set(n,f,c)}else s.set(n,l,c);i=a.next()}return s}static calibrateStartTime(e,t,o){for(let[s,a]of e.keys()){let i=t.get(s,a);i==null||i.setStartTime(o)}return t}}});var Np,RD=p(()=>{WT();QT();ZT();Ml();Np=class extends ms{constructor(e,t,o,s,a){super(e),this._attributesProcessor=o,this._aggregationCardinalityLimit=a,this._deltaMetricStorage=new Ts(t,this._aggregationCardinalityLimit),this._temporalMetricStorage=new Ss(t,s)}record(e,t){let o=new Dt;Array.from(e.entries()).forEach(([s,a])=>{o.set(this._attributesProcessor.process(s),a)}),this._deltaMetricStorage.batchCumulate(o,t)}collect(e,t){let o=this._deltaMetricStorage.collect();return this._temporalMetricStorage.buildMetrics(e,this._instrumentDescriptor,o,t)}}});function eS(r,e){let t="";return r.unit!==e.unit&&(t+=`	- Unit '${r.unit}' does not match '${e.unit}'
`),r.type!==e.type&&(t+=`	- Type '${r.type}' does not match '${e.type}'
`),r.valueType!==e.valueType&&(t+=`	- Value Type '${r.valueType}' does not match '${e.valueType}'
`),r.description!==e.description&&(t+=`	- Description '${r.description}' does not match '${e.description}'
`),t}function Fee(r,e){return`	- use valueType '${r.valueType}' on instrument creation or use an instrument name other than '${e.name}'`}function Gee(r,e){return`	- use unit '${r.unit}' on instrument creation or use an instrument name other than '${e.name}'`}function Hee(r,e){let t={name:e.name,type:e.type,unit:e.unit},o=JSON.stringify(t);return`	- create a new view with a name other than '${r.name}' and InstrumentSelector '${o}'`}function qee(r,e){let t={name:e.name,type:e.type,unit:e.unit},o=JSON.stringify(t);return`	- create a new view with a name other than '${r.name}' and InstrumentSelector '${o}'
    	- OR - create a new view with the name ${r.name} and description '${r.description}' and InstrumentSelector ${o}
    	- OR - create a new view with the name ${e.name} and description '${r.description}' and InstrumentSelector ${o}`}function tS(r,e){return r.valueType!==e.valueType?Fee(r,e):r.unit!==e.unit?Gee(r,e):r.type!==e.type?Hee(r,e):r.description!==e.description?qee(r,e):""}var ND=p(()=>{});var Cp,CD=p(()=>{fn();P();ND();Cp=class r{constructor(){this._sharedRegistry=new Map,this._perCollectorRegistry=new Map}static create(){return new r}getStorages(e){let t=[];for(let s of this._sharedRegistry.values())t=t.concat(s);let o=this._perCollectorRegistry.get(e);if(o!=null)for(let s of o.values())t=t.concat(s);return t}register(e){this._registerStorage(e,this._sharedRegistry)}registerForCollector(e,t){let o=this._perCollectorRegistry.get(e);o==null&&(o=new Map,this._perCollectorRegistry.set(e,o)),this._registerStorage(t,o)}findOrUpdateCompatibleStorage(e){let t=this._sharedRegistry.get(e.name);return t===void 0?null:this._findOrUpdateCompatibleStorage(e,t)}findOrUpdateCompatibleCollectorStorage(e,t){let o=this._perCollectorRegistry.get(e);if(o===void 0)return null;let s=o.get(t.name);return s===void 0?null:this._findOrUpdateCompatibleStorage(t,s)}_registerStorage(e,t){let o=e.getInstrumentDescriptor(),s=t.get(o.name);if(s===void 0){t.set(o.name,[e]);return}s.push(e)}_findOrUpdateCompatibleStorage(e,t){let o=null;for(let s of t){let a=s.getInstrumentDescriptor();M1(a,e)?(a.description!==e.description&&(e.description.length>a.description.length&&s.updateDescription(e.description),S.warn("A view or instrument with the name ",e.name,` has already been registered, but has a different description and is incompatible with another registered view.
`,`Details:
`,eS(a,e),`The longer description will be used.
To resolve the conflict:`,tS(a,e))),o=s):S.warn("A view or instrument with the name ",e.name,` has already been registered and is incompatible with another registered view.
`,`Details:
`,eS(a,e),`To resolve the conflict:
`,tS(a,e))}return o}}});var Pp,PD=p(()=>{Pp=class{constructor(e){this._backingStorages=e}record(e,t,o,s){this._backingStorages.forEach(a=>{a.record(e,t,o,s)})}}});var Ip,Lp,ID=p(()=>{P();Ml();Ap();Ip=class{constructor(e,t){this._instrumentName=e,this._valueType=t,this._buffer=new Dt}observe(e,t={}){if(typeof e!="number"){S.warn(`non-number value provided to metric ${this._instrumentName}: ${e}`);return}this._valueType===Ot.INT&&!Number.isInteger(e)&&(S.warn(`INT value type cannot accept a floating-point value for ${this._instrumentName}, ignoring the fractional digits.`),e=Math.trunc(e),!Number.isInteger(e))||this._buffer.set(t,e)}},Lp=class{constructor(){this._buffer=new Map}observe(e,t,o={}){if(!xl(e))return;let s=this._buffer.get(e);if(s==null&&(s=new Dt,this._buffer.set(e,s)),typeof t!="number"){S.warn(`non-number value provided to metric ${e._descriptor.name}: ${t}`);return}e._descriptor.valueType===Ot.INT&&!Number.isInteger(t)&&(S.warn(`INT value type cannot accept a floating-point value for ${e._descriptor.name}, ignoring the fractional digits.`),t=Math.trunc(t),!Number.isInteger(t))||s.set(o,t)}}});var bp,LD=p(()=>{P();Ap();ID();ur();bp=class{constructor(){this._callbacks=[],this._batchCallbacks=[]}addCallback(e,t){this._findCallback(e,t)>=0||this._callbacks.push({callback:e,instrument:t})}removeCallback(e,t){let o=this._findCallback(e,t);o<0||this._callbacks.splice(o,1)}addBatchCallback(e,t){let o=new Set(t.filter(xl));if(o.size===0){S.error("BatchObservableCallback is not associated with valid instruments",t);return}this._findBatchCallback(e,o)>=0||this._batchCallbacks.push({callback:e,instruments:o})}removeBatchCallback(e,t){let o=new Set(t.filter(xl)),s=this._findBatchCallback(e,o);s<0||this._batchCallbacks.splice(s,1)}async observe(e,t){let o=this._observeCallbacks(e,t),s=this._observeBatchCallbacks(e,t);return(await N1([...o,...s])).filter(C1).map(n=>n.reason)}_observeCallbacks(e,t){return this._callbacks.map(async({callback:o,instrument:s})=>{let a=new Ip(s._descriptor.name,s._descriptor.valueType),i=Promise.resolve(o(a));t!=null&&(i=wn(i,t)),await i,s._metricStorages.forEach(n=>{n.record(a._buffer,e)})})}_observeBatchCallbacks(e,t){return this._batchCallbacks.map(async({callback:o,instruments:s})=>{let a=new Lp,i=Promise.resolve(o(a));t!=null&&(i=wn(i,t)),await i,s.forEach(n=>{let l=a._buffer.get(n);l!=null&&n._metricStorages.forEach(c=>{c.record(l,e)})})})}_findCallback(e,t){return this._callbacks.findIndex(o=>o.callback===e&&o.instrument===t)}_findBatchCallback(e,t){return this._batchCallbacks.findIndex(o=>o.callback===e&&P1(o.instruments,t))}}});var xp,bD=p(()=>{WT();QT();ZT();xp=class extends ms{constructor(e,t,o,s,a){super(e),this._attributesProcessor=o,this._aggregationCardinalityLimit=a,this._deltaMetricStorage=new Ts(t,this._aggregationCardinalityLimit),this._temporalMetricStorage=new Ss(t,s)}record(e,t,o,s){t=this._attributesProcessor.process(t,o),this._deltaMetricStorage.record(e,t,o,s)}collect(e,t){let o=this._deltaMetricStorage.collect();return this._temporalMetricStorage.buildMetrics(e,this._instrumentDescriptor,o,t)}}});var Bn,rS,Mp,jee,nS=p(()=>{Bn=class{static Noop(){return jee}},rS=class extends Bn{process(e,t){return e}},Mp=class extends Bn{constructor(e){super(),this._allowedAttributeNames=e}process(e,t){let o={};return Object.keys(e).filter(s=>this._allowedAttributeNames.includes(s)).forEach(s=>o[s]=e[s]),o}},jee=new rS});var wp,xD=p(()=>{fn();AD();ur();RD();CD();PD();LD();bD();nS();wp=class{constructor(e,t){this._meterProviderSharedState=e,this._instrumentationScope=t,this.metricStorageRegistry=new Cp,this.observableRegistry=new bp,this.meter=new Rp(this)}registerMetricStorage(e){let t=this._registerMetricStorage(e,xp);return t.length===1?t[0]:new Pp(t)}registerAsyncMetricStorage(e){return this._registerMetricStorage(e,Np)}async collect(e,t,o){let s=await this.observableRegistry.observe(t,o==null?void 0:o.timeoutMillis),a=this.metricStorageRegistry.getStorages(e);if(a.length===0)return null;let i=a.map(n=>n.collect(e,t)).filter(A1);return i.length===0?{errors:s}:{scopeMetrics:{scope:this._instrumentationScope,metrics:i},errors:s}}_registerMetricStorage(e,t){let s=this._meterProviderSharedState.viewRegistry.findViews(e,this._instrumentationScope).map(a=>{let i=x1(a,e),n=this.metricStorageRegistry.findOrUpdateCompatibleStorage(i);if(n!=null)return n;let l=a.aggregation.createAggregator(i),c=new t(i,l,a.attributesProcessor,this._meterProviderSharedState.metricCollectors,a.aggregationCardinalityLimit);return this.metricStorageRegistry.register(c),c});if(s.length===0){let i=this._meterProviderSharedState.selectAggregations(e.type).map(([n,l])=>{let c=this.metricStorageRegistry.findOrUpdateCompatibleCollectorStorage(n,e);if(c!=null)return c;let u=l.createAggregator(e),f=n.selectCardinalityLimit(e.type),_=new t(e,u,Bn.Noop(),[n],f);return this.metricStorageRegistry.registerForCollector(n,_),_});s=s.concat(i)}return s}}});var Dp,MD=p(()=>{ur();OD();xD();Dp=class{constructor(e){this.resource=e,this.viewRegistry=new Ep,this.metricCollectors=[],this.meterSharedStates=new Map}getMeterSharedState(e){let t=R1(e),o=this.meterSharedStates.get(t);return o==null&&(o=new wp(this,e),this.meterSharedStates.set(t,o)),o}selectAggregations(e){let t=[];for(let o of this.metricCollectors)t.push([o,o.selectAggregation(e)]);return t}}});var Up,wD=p(()=>{Dn();Up=class{constructor(e,t){this._sharedState=e,this._metricReader=t}async collect(e){let t=Di(Date.now()),o=[],s=[],a=Array.from(this._sharedState.meterSharedStates.values()).map(async i=>{let n=await i.collect(this,t,e);(n==null?void 0:n.scopeMetrics)!=null&&o.push(n.scopeMetrics),(n==null?void 0:n.errors)!=null&&s.push(...n.errors)});return await Promise.all(a),{resourceMetrics:{resource:this._sharedState.resource,scopeMetrics:o},errors:s}}async forceFlush(e){await this._metricReader.forceFlush(e)}async shutdown(e){await this._metricReader.shutdown(e)}selectAggregationTemporality(e){return this._metricReader.selectAggregationTemporality(e)}selectAggregation(e){return this._metricReader.selectAggregation(e)}selectCardinalityLimit(e){var t,o,s;return(s=(o=(t=this._metricReader).selectCardinalityLimit)===null||o===void 0?void 0:o.call(t,e))!==null&&s!==void 0?s:2e3}}});function Yee(r,e){let t=e??kn.empty();return r?kn.default().merge(t):t}var kp,DD=p(()=>{P();yD();MD();wD();kp=class{constructor(e){var t;if(this._shutdown=!1,this._sharedState=new Dp(Yee((t=e==null?void 0:e.mergeResourceWithDefaults)!==null&&t!==void 0?t:!0,e==null?void 0:e.resource)),(e==null?void 0:e.views)!=null&&e.views.length>0)for(let o of e.views)this._sharedState.viewRegistry.addView(o);if((e==null?void 0:e.readers)!=null&&e.readers.length>0)for(let o of e.readers)this.addMetricReader(o)}getMeter(e,t="",o={}){return this._shutdown?(S.warn("A shutdown MeterProvider cannot provide a Meter"),Gu()):this._sharedState.getMeterSharedState({name:e,version:t,schemaUrl:o.schemaUrl}).meter}addMetricReader(e){let t=new Up(this._sharedState,e);e.setMetricProducer(t),this._sharedState.metricCollectors.push(t)}async shutdown(e){if(this._shutdown){S.warn("shutdown may only be called once per MeterProvider");return}this._shutdown=!0,await Promise.all(this._sharedState.metricCollectors.map(t=>t.shutdown(e)))}async forceFlush(e){if(this._shutdown){S.warn("invalid attempt to force flush after MeterProvider shutdown");return}await Promise.all(this._sharedState.metricCollectors.map(t=>t.forceFlush(e)))}}});var Kee,gs,Vn,Bp=p(()=>{Kee=/[\^$\\.+?()[\]{}|]/g,gs=class r{constructor(e){e==="*"?(this._matchAll=!0,this._regexp=/.*/):(this._matchAll=!1,this._regexp=new RegExp(r.escapePattern(e)))}match(e){return this._matchAll?!0:this._regexp.test(e)}static escapePattern(e){return`^${e.replace(Kee,"\\$&").replace("*",".*")}$`}static hasWildcard(e){return e.includes("*")}},Vn=class{constructor(e){this._matchAll=e===void 0,this._pattern=e}match(e){return!!(this._matchAll||e===this._pattern)}}});var Vp,UD=p(()=>{Bp();Vp=class{constructor(e){var t;this._nameFilter=new gs((t=e==null?void 0:e.name)!==null&&t!==void 0?t:"*"),this._type=e==null?void 0:e.type,this._unitFilter=new Vn(e==null?void 0:e.unit)}getType(){return this._type}getNameFilter(){return this._nameFilter}getUnitFilter(){return this._unitFilter}}});var Fp,kD=p(()=>{Bp();Fp=class{constructor(e){this._nameFilter=new Vn(e==null?void 0:e.name),this._versionFilter=new Vn(e==null?void 0:e.version),this._schemaUrlFilter=new Vn(e==null?void 0:e.schemaUrl)}getNameFilter(){return this._nameFilter}getVersionFilter(){return this._versionFilter}getSchemaUrlFilter(){return this._schemaUrlFilter}}});function zee(r){return r.instrumentName==null&&r.instrumentType==null&&r.instrumentUnit==null&&r.meterName==null&&r.meterVersion==null&&r.meterSchemaUrl==null}var Gp,BD=p(()=>{Bp();nS();UD();kD();up();Gp=class{constructor(e){var t;if(zee(e))throw new Error("Cannot create view with no selector arguments supplied");if(e.name!=null&&((e==null?void 0:e.instrumentName)==null||gs.hasWildcard(e.instrumentName)))throw new Error("Views with a specified name must be declared with an instrument selector that selects at most one instrument per meter.");e.attributeKeys!=null?this.attributesProcessor=new Mp(e.attributeKeys):this.attributesProcessor=Bn.Noop(),this.name=e.name,this.description=e.description,this.aggregation=(t=e.aggregation)!==null&&t!==void 0?t:mt.Default(),this.instrumentSelector=new Vp({name:e.instrumentName,type:e.instrumentType,unit:e.instrumentUnit}),this.meterSelector=new Fp({name:e.meterName,version:e.meterVersion,schemaUrl:e.meterSchemaUrl}),this.aggregationCardinalityLimit=e.aggregationCardinalityLimit}}});var iS={};Ae(iS,{Aggregation:()=>mt,AggregationTemporality:()=>cr,ConsoleMetricExporter:()=>hp,DataPointType:()=>lt,DefaultAggregation:()=>bl,DropAggregation:()=>fs,ExplicitBucketHistogramAggregation:()=>Il,ExponentialHistogramAggregation:()=>Ll,HistogramAggregation:()=>ds,InMemoryMetricExporter:()=>dp,InstrumentType:()=>he,LastValueAggregation:()=>ps,MeterProvider:()=>kp,MetricReader:()=>hs,PeriodicExportingMetricReader:()=>pp,SumAggregation:()=>Ui,TimeoutError:()=>Mi,View:()=>Gp});var Hp=p(()=>{ep();ns();XT();_D();ED();mD();fn();DD();up();BD();ur()});var sS=T(qp=>{"use strict";Object.defineProperty(qp,"__esModule",{value:!0});qp.AbstractAsyncHooksContextManager=void 0;var $ee=V("events"),Xee=["addListener","on","once","prependListener","prependOnceListener"],oS=class{constructor(){this._kOtListeners=Symbol("OtListeners"),this._wrapped=!1}bind(e,t){return t instanceof $ee.EventEmitter?this._bindEventEmitter(e,t):typeof t=="function"?this._bindFunction(e,t):t}_bindFunction(e,t){let o=this,s=function(...a){return o.with(e,()=>t.apply(this,a))};return Object.defineProperty(s,"length",{enumerable:!1,configurable:!0,writable:!1,value:t.length}),s}_bindEventEmitter(e,t){return this._getPatchMap(t)!==void 0||(this._createPatchMap(t),Xee.forEach(s=>{t[s]!==void 0&&(t[s]=this._patchAddListener(t,t[s],e))}),typeof t.removeListener=="function"&&(t.removeListener=this._patchRemoveListener(t,t.removeListener)),typeof t.off=="function"&&(t.off=this._patchRemoveListener(t,t.off)),typeof t.removeAllListeners=="function"&&(t.removeAllListeners=this._patchRemoveAllListeners(t,t.removeAllListeners))),t}_patchRemoveListener(e,t){let o=this;return function(s,a){var i;let n=(i=o._getPatchMap(e))===null||i===void 0?void 0:i[s];if(n===void 0)return t.call(this,s,a);let l=n.get(a);return t.call(this,s,l||a)}}_patchRemoveAllListeners(e,t){let o=this;return function(s){let a=o._getPatchMap(e);return a!==void 0&&(arguments.length===0?o._createPatchMap(e):a[s]!==void 0&&delete a[s]),t.apply(this,arguments)}}_patchAddListener(e,t,o){let s=this;return function(a,i){if(s._wrapped)return t.call(this,a,i);let n=s._getPatchMap(e);n===void 0&&(n=s._createPatchMap(e));let l=n[a];l===void 0&&(l=new WeakMap,n[a]=l);let c=s.bind(o,i);l.set(i,c),s._wrapped=!0;try{return t.call(this,a,c)}finally{s._wrapped=!1}}}_createPatchMap(e){let t=Object.create(null);return e[this._kOtListeners]=t,t}_getPatchMap(e){return e[this._kOtListeners]}};qp.AbstractAsyncHooksContextManager=oS});var VD=T(jp=>{"use strict";Object.defineProperty(jp,"__esModule",{value:!0});jp.AsyncHooksContextManager=void 0;var Wee=(P(),ee(ot)),Jee=V("async_hooks"),Qee=sS(),aS=class extends Qee.AbstractAsyncHooksContextManager{constructor(){super(),this._contexts=new Map,this._stack=[],this._asyncHook=Jee.createHook({init:this._init.bind(this),before:this._before.bind(this),after:this._after.bind(this),destroy:this._destroy.bind(this),promiseResolve:this._destroy.bind(this)})}active(){var e;return(e=this._stack[this._stack.length-1])!==null&&e!==void 0?e:Wee.ROOT_CONTEXT}with(e,t,o,...s){this._enterContext(e);try{return t.call(o,...s)}finally{this._exitContext()}}enable(){return this._asyncHook.enable(),this}disable(){return this._asyncHook.disable(),this._contexts.clear(),this._stack=[],this}_init(e,t){if(t==="TIMERWRAP")return;let o=this._stack[this._stack.length-1];o!==void 0&&this._contexts.set(e,o)}_destroy(e){this._contexts.delete(e)}_before(e){let t=this._contexts.get(e);t!==void 0&&this._enterContext(t)}_after(){this._exitContext()}_enterContext(e){this._stack.push(e)}_exitContext(){this._stack.pop()}};jp.AsyncHooksContextManager=aS});var FD=T(Yp=>{"use strict";Object.defineProperty(Yp,"__esModule",{value:!0});Yp.AsyncLocalStorageContextManager=void 0;var Zee=(P(),ee(ot)),ete=V("async_hooks"),tte=sS(),lS=class extends tte.AbstractAsyncHooksContextManager{constructor(){super(),this._asyncLocalStorage=new ete.AsyncLocalStorage}active(){var e;return(e=this._asyncLocalStorage.getStore())!==null&&e!==void 0?e:Zee.ROOT_CONTEXT}with(e,t,o,...s){let a=o==null?t:t.bind(o);return this._asyncLocalStorage.run(e,a,...s)}enable(){return this}disable(){return this._asyncLocalStorage.disable(),this}};Yp.AsyncLocalStorageContextManager=lS});var GD=T(vs=>{"use strict";Object.defineProperty(vs,"__esModule",{value:!0});vs.AsyncLocalStorageContextManager=vs.AsyncHooksContextManager=void 0;var rte=VD();Object.defineProperty(vs,"AsyncHooksContextManager",{enumerable:!0,get:function(){return rte.AsyncHooksContextManager}});var nte=FD();Object.defineProperty(vs,"AsyncLocalStorageContextManager",{enumerable:!0,get:function(){return nte.AsyncLocalStorageContextManager}})});var ys,cS=p(()=>{P();ys=De("OpenTelemetry Context Key B3 Debug Flag")});var Fn,Os,As,Rs,Kp,Ns,wl=p(()=>{Fn="b3",Os="x-b3-traceid",As="x-b3-spanid",Rs="x-b3-sampled",Kp="x-b3-parentspanid",Ns="x-b3-flags"});function ste(r){return r===se.SAMPLED||r===se.NONE}function ate(r){return Array.isArray(r)?r[0]:r}function $p(r,e,t){let o=e.get(r,t);return ate(o)}function lte(r,e){let t=$p(r,e,Os);return typeof t=="string"?t.padStart(32,"0"):""}function cte(r,e){let t=$p(r,e,As);return typeof t=="string"?t:""}function HD(r,e){return $p(r,e,Ns)==="1"?"1":void 0}function ute(r,e){let t=$p(r,e,Rs);if(HD(r,e)==="1"||ite.has(t))return se.SAMPLED;if(t===void 0||ote.has(t))return se.NONE}var ite,ote,zp,qD=p(()=>{P();xr();cS();wl();ite=new Set([!0,"true","True","1",1]),ote=new Set([!1,"false","False","0",0]);zp=class{inject(e,t,o){let s=ie.getSpanContext(e);if(!s||!xe(s)||At(e))return;let a=e.getValue(ys);o.set(t,Os,s.traceId),o.set(t,As,s.spanId),a==="1"?o.set(t,Ns,a):s.traceFlags!==void 0&&o.set(t,Rs,(se.SAMPLED&s.traceFlags)===se.SAMPLED?"1":"0")}extract(e,t,o){let s=lte(t,o),a=cte(t,o),i=ute(t,o),n=HD(t,o);return Mt(s)&&yi(a)&&ste(i)?(e=e.setValue(ys,n),ie.setSpanContext(e,{traceId:s,spanId:a,isRemote:!0,traceFlags:i})):e}fields(){return[Os,As,Ns,Rs,Kp]}}});function _te(r){return r.length===32?r:`${pte}${r}`}function Ete(r){return r&&dte.has(r)?se.SAMPLED:se.NONE}var fte,pte,dte,hte,Xp,jD=p(()=>{P();xr();cS();wl();fte=/((?:[0-9a-f]{16}){1,2})-([0-9a-f]{16})(?:-([01d](?![0-9a-f])))?(?:-([0-9a-f]{16}))?/,pte="0".repeat(16),dte=new Set(["d","1"]),hte="d";Xp=class{inject(e,t,o){let s=ie.getSpanContext(e);if(!s||!xe(s)||At(e))return;let a=e.getValue(ys)||s.traceFlags&1,i=`${s.traceId}-${s.spanId}-${a}`;o.set(t,Fn,i)}extract(e,t,o){let s=o.get(t,Fn),a=Array.isArray(s)?s[0]:s;if(typeof a!="string")return e;let i=a.match(fte);if(!i)return e;let[,n,l,c]=i,u=_te(n);if(!Mt(u)||!yi(l))return e;let f=Ete(c);return c===hte&&(e=e.setValue(ys,c)),ie.setSpanContext(e,{traceId:u,spanId:l,isRemote:!0,traceFlags:f})}fields(){return[Fn]}}});var Cs,uS=p(()=>{(function(r){r[r.SINGLE_HEADER=0]="SINGLE_HEADER",r[r.MULTI_HEADER=1]="MULTI_HEADER"})(Cs||(Cs={}))});var Wp,YD=p(()=>{xr();qD();jD();wl();uS();Wp=class{constructor(e={}){this._b3MultiPropagator=new zp,this._b3SinglePropagator=new Xp,e.injectEncoding===Cs.MULTI_HEADER?(this._inject=this._b3MultiPropagator.inject,this._fields=this._b3MultiPropagator.fields()):(this._inject=this._b3SinglePropagator.inject,this._fields=this._b3SinglePropagator.fields())}inject(e,t,o){At(e)||this._inject(e,t,o)}extract(e,t,o){let s=o.get(t,Fn);return(Array.isArray(s)?s[0]:s)?this._b3SinglePropagator.extract(e,t,o):this._b3MultiPropagator.extract(e,t,o)}fields(){return this._fields}}});var KD={};Ae(KD,{B3InjectEncoding:()=>Cs,B3Propagator:()=>Wp,B3_CONTEXT_HEADER:()=>Fn,X_B3_FLAGS:()=>Ns,X_B3_PARENT_SPAN_ID:()=>Kp,X_B3_SAMPLED:()=>Rs,X_B3_SPAN_ID:()=>As,X_B3_TRACE_ID:()=>Os});var zD=p(()=>{YD();wl();uS()});function Dl(r){return r.setValue($D,!0)}function ki(r){return r.getValue($D)===!0}var $D,Ul=p(()=>{P();$D=De("OpenTelemetry SDK Context Key SUPPRESS_TRACING")});var XD,Jp,kl,Qp,fS=p(()=>{XD="=",Jp=";",kl=",",Qp="baggage"});function WD(r){return r.reduce((e,t)=>{let o=`${e}${e!==""?kl:""}${t}`;return o.length>8192?e:o},"")}function JD(r){return r.getAllEntries().map(([e,t])=>{let o=`${encodeURIComponent(e)}=${encodeURIComponent(t.value)}`;return t.metadata!==void 0&&(o+=Jp+t.metadata.toString()),o})}function QD(r){let e=r.split(Jp);if(e.length<=0)return;let t=e.shift();if(!t)return;let o=t.indexOf(XD);if(o<=0)return;let s=decodeURIComponent(t.substring(0,o).trim()),a=decodeURIComponent(t.substring(o+1).trim()),i;return e.length>0&&(i=Lr(e.join(Jp))),{key:s,value:a,metadata:i}}var ZD=p(()=>{P();fS()});var Bl,eU=p(()=>{P();Ul();fS();ZD();Bl=class{inject(e,t,o){let s=Ue.getBaggage(e);if(!s||ki(e))return;let a=JD(s).filter(n=>n.length<=4096).slice(0,180),i=WD(a);i.length>0&&o.set(t,Qp,i)}extract(e,t,o){let s=o.get(t,Qp),a=Array.isArray(s)?s.join(kl):s;if(!a)return e;let i={};return a.length===0||(a.split(kl).forEach(l=>{let c=QD(l);if(c){let u={value:c.value};c.metadata&&(u.metadata=c.metadata),i[c.key]=u}}),Object.entries(i).length===0)?e:Ue.setBaggage(e,Ue.createBaggage(i))}fields(){return[Qp]}}});function Bi(r){let e={};if(typeof r!="object"||r==null)return e;for(let[t,o]of Object.entries(r)){if(!tU(t)){S.warn(`Invalid attribute key: ${t}`);continue}if(!Zp(o)){S.warn(`Invalid attribute value set for key: ${t}`);continue}Array.isArray(o)?e[t]=o.slice():e[t]=o}return e}function tU(r){return typeof r=="string"&&r.length>0}function Zp(r){return r==null?!0:Array.isArray(r)?gte(r):rU(r)}function gte(r){let e;for(let t of r)if(t!=null){if(!e){if(rU(t)){e=typeof t;continue}return!1}if(typeof t!==e)return!1}return!0}function rU(r){switch(typeof r){case"number":case"boolean":case"string":return!0}return!1}var nU=p(()=>{P()});function iU(){return r=>{S.error(vte(r))}}function vte(r){return typeof r=="string"?r:JSON.stringify(yte(r))}function yte(r){let e={},t=r;for(;t!==null;)Object.getOwnPropertyNames(t).forEach(o=>{if(e[o])return;let s=t[o];s&&(e[o]=String(s))}),t=Object.getPrototypeOf(t);return e}var oU=p(()=>{P()});function Kt(r){try{Ote(r)}catch{}}var Ote,sU=p(()=>{oU();Ote=iU()});var Ut,pS=p(()=>{(function(r){r.AlwaysOff="always_off",r.AlwaysOn="always_on",r.ParentBasedAlwaysOff="parentbased_always_off",r.ParentBasedAlwaysOn="parentbased_always_on",r.ParentBasedTraceIdRatio="parentbased_traceidratio",r.TraceIdRatio="traceidratio"})(Ut||(Ut={}))});function Nte(r){return Rte.indexOf(r)>-1}function Pte(r){return Cte.indexOf(r)>-1}function Lte(r){return Ite.indexOf(r)>-1}function bte(r,e,t){if(typeof t[r]>"u")return;let o=String(t[r]);e[r]=o.toLowerCase()==="true"}function xte(r,e,t,o=-1/0,s=1/0){if(typeof t[r]<"u"){let a=Number(t[r]);isNaN(a)||(a<o?e[r]=o:a>s?e[r]=s:e[r]=a)}}function Mte(r,e,t,o=Ate){let s=t[r];typeof s=="string"&&(e[r]=s.split(o).map(a=>a.trim()))}function Dte(r,e,t){let o=t[r];if(typeof o=="string"){let s=wte[o.toUpperCase()];s!=null&&(e[r]=s)}}function td(r){let e={};for(let t in ed){let o=t;switch(o){case"OTEL_LOG_LEVEL":Dte(o,e,r);break;default:if(Nte(o))bte(o,e,r);else if(Pte(o))xte(o,e,r);else if(Lte(o))Mte(o,e,r);else{let s=r[o];typeof s<"u"&&s!==null&&(e[o]=String(s))}}}return e}var Ate,Rte,Cte,Ite,Ps,Is,aU,lU,ed,wte,dS=p(()=>{P();pS();Ate=",",Rte=["OTEL_SDK_DISABLED"];Cte=["OTEL_BSP_EXPORT_TIMEOUT","OTEL_BSP_MAX_EXPORT_BATCH_SIZE","OTEL_BSP_MAX_QUEUE_SIZE","OTEL_BSP_SCHEDULE_DELAY","OTEL_BLRP_EXPORT_TIMEOUT","OTEL_BLRP_MAX_EXPORT_BATCH_SIZE","OTEL_BLRP_MAX_QUEUE_SIZE","OTEL_BLRP_SCHEDULE_DELAY","OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_EVENT_COUNT_LIMIT","OTEL_SPAN_LINK_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT","OTEL_EXPORTER_OTLP_TIMEOUT","OTEL_EXPORTER_OTLP_TRACES_TIMEOUT","OTEL_EXPORTER_OTLP_METRICS_TIMEOUT","OTEL_EXPORTER_OTLP_LOGS_TIMEOUT","OTEL_EXPORTER_JAEGER_AGENT_PORT"];Ite=["OTEL_NO_PATCH_MODULES","OTEL_PROPAGATORS","OTEL_SEMCONV_STABILITY_OPT_IN"];Ps=1/0,Is=128,aU=128,lU=128,ed={OTEL_SDK_DISABLED:!1,CONTAINER_NAME:"",ECS_CONTAINER_METADATA_URI_V4:"",ECS_CONTAINER_METADATA_URI:"",HOSTNAME:"",KUBERNETES_SERVICE_HOST:"",NAMESPACE:"",OTEL_BSP_EXPORT_TIMEOUT:3e4,OTEL_BSP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BSP_MAX_QUEUE_SIZE:2048,OTEL_BSP_SCHEDULE_DELAY:5e3,OTEL_BLRP_EXPORT_TIMEOUT:3e4,OTEL_BLRP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BLRP_MAX_QUEUE_SIZE:2048,OTEL_BLRP_SCHEDULE_DELAY:5e3,OTEL_EXPORTER_JAEGER_AGENT_HOST:"",OTEL_EXPORTER_JAEGER_AGENT_PORT:6832,OTEL_EXPORTER_JAEGER_ENDPOINT:"",OTEL_EXPORTER_JAEGER_PASSWORD:"",OTEL_EXPORTER_JAEGER_USER:"",OTEL_EXPORTER_OTLP_ENDPOINT:"",OTEL_EXPORTER_OTLP_TRACES_ENDPOINT:"",OTEL_EXPORTER_OTLP_METRICS_ENDPOINT:"",OTEL_EXPORTER_OTLP_LOGS_ENDPOINT:"",OTEL_EXPORTER_OTLP_HEADERS:"",OTEL_EXPORTER_OTLP_TRACES_HEADERS:"",OTEL_EXPORTER_OTLP_METRICS_HEADERS:"",OTEL_EXPORTER_OTLP_LOGS_HEADERS:"",OTEL_EXPORTER_OTLP_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_TRACES_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_METRICS_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_LOGS_TIMEOUT:1e4,OTEL_EXPORTER_ZIPKIN_ENDPOINT:"http://localhost:9411/api/v2/spans",OTEL_LOG_LEVEL:H.INFO,OTEL_NO_PATCH_MODULES:[],OTEL_PROPAGATORS:["tracecontext","baggage"],OTEL_RESOURCE_ATTRIBUTES:"",OTEL_SERVICE_NAME:"",OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT:Ps,OTEL_ATTRIBUTE_COUNT_LIMIT:Is,OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT:Ps,OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT:Is,OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT:Ps,OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT:Is,OTEL_SPAN_EVENT_COUNT_LIMIT:128,OTEL_SPAN_LINK_COUNT_LIMIT:128,OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT:aU,OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT:lU,OTEL_TRACES_EXPORTER:"",OTEL_TRACES_SAMPLER:Ut.ParentBasedAlwaysOn,OTEL_TRACES_SAMPLER_ARG:"",OTEL_LOGS_EXPORTER:"",OTEL_EXPORTER_OTLP_INSECURE:"",OTEL_EXPORTER_OTLP_TRACES_INSECURE:"",OTEL_EXPORTER_OTLP_METRICS_INSECURE:"",OTEL_EXPORTER_OTLP_LOGS_INSECURE:"",OTEL_EXPORTER_OTLP_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_COMPRESSION:"",OTEL_EXPORTER_OTLP_TRACES_COMPRESSION:"",OTEL_EXPORTER_OTLP_METRICS_COMPRESSION:"",OTEL_EXPORTER_OTLP_LOGS_COMPRESSION:"",OTEL_EXPORTER_OTLP_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_TRACES_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_LOGS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE:"cumulative",OTEL_SEMCONV_STABILITY_OPT_IN:[]};wte={ALL:H.ALL,VERBOSE:H.VERBOSE,DEBUG:H.DEBUG,INFO:H.INFO,WARN:H.WARN,ERROR:H.ERROR,NONE:H.NONE}});function zt(){let r=td(process.env);return Object.assign({},ed,r)}function Vl(){return td(process.env)}var cU=p(()=>{dS()});import{performance as Ute}from"perf_hooks";var pr,uU=p(()=>{pr=Ute});var fU,pU=p(()=>{fU="1.29.0"});var Vi,dU=p(()=>{pU();Ve();Vi={[Se]:"opentelemetry",[st]:"node",[ge]:wt,[ve]:fU}});function Fl(r){r.unref()}var hU=p(()=>{});var _U=p(()=>{cU();uU();dU();hU()});var hS=p(()=>{_U()});function Gn(r){let e=r/1e3,t=Math.trunc(e),o=Math.round(r%1e3*Hte);return[t,o]}function rd(){let r=pr.timeOrigin;if(typeof r!="number"){let e=pr;r=e.timing&&e.timing.fetchStart}return r}function ES(r){let e=Gn(rd()),t=Gn(typeof r=="number"?r:pr.now());return sd(e,t)}function mS(r,e){let t=e[0]-r[0],o=e[1]-r[1];return o<0&&(t-=1,o+=_S),[t,o]}function nd(r){return r[0]*1e6+r[1]/1e3}function id(r){return Array.isArray(r)&&r.length===2&&typeof r[0]=="number"&&typeof r[1]=="number"}function od(r){return id(r)||typeof r=="number"||r instanceof Date}function sd(r,e){let t=[r[0]+e[0],r[1]+e[1]];return t[1]>=_S&&(t[1]-=_S,t[0]+=1),t}var Fte,Gte,Hte,_S,EU=p(()=>{hS();Fte=9,Gte=6,Hte=Math.pow(10,Gte),_S=Math.pow(10,Fte)});var $t,mU=p(()=>{(function(r){r[r.SUCCESS=0]="SUCCESS",r[r.FAILED=1]="FAILED"})($t||($t={}))});var Gl,TU=p(()=>{P();Gl=class{constructor(e={}){var t;this._propagators=(t=e.propagators)!==null&&t!==void 0?t:[],this._fields=Array.from(new Set(this._propagators.map(o=>typeof o.fields=="function"?o.fields():[]).reduce((o,s)=>o.concat(s),[])))}inject(e,t,o){for(let s of this._propagators)try{s.inject(e,t,o)}catch(a){S.warn(`Failed to inject with ${s.constructor.name}. Err: ${a.message}`)}}extract(e,t,o){return this._propagators.reduce((s,a)=>{try{return a.extract(s,t,o)}catch(i){S.warn(`Failed to extract with ${a.constructor.name}. Err: ${i.message}`)}return s},e)}fields(){return this._fields.slice()}}});function SU(r){return Yte.test(r)}function gU(r){return Kte.test(r)&&!zte.test(r)}var TS,qte,jte,Yte,Kte,zte,vU=p(()=>{TS="[_0-9a-z-*/]",qte=`[a-z]${TS}{0,255}`,jte=`[a-z0-9]${TS}{0,240}@[a-z]${TS}{0,13}`,Yte=new RegExp(`^(?:${qte}|${jte})$`),Kte=/^[ -~]{0,255}[!-~]$/,zte=/,|=/});var yU,$te,OU,AU,ad,RU=p(()=>{vU();yU=32,$te=512,OU=",",AU="=",ad=class r{constructor(e){this._internalState=new Map,e&&this._parse(e)}set(e,t){let o=this._clone();return o._internalState.has(e)&&o._internalState.delete(e),o._internalState.set(e,t),o}unset(e){let t=this._clone();return t._internalState.delete(e),t}get(e){return this._internalState.get(e)}serialize(){return this._keys().reduce((e,t)=>(e.push(t+AU+this.get(t)),e),[]).join(OU)}_parse(e){e.length>$te||(this._internalState=e.split(OU).reverse().reduce((t,o)=>{let s=o.trim(),a=s.indexOf(AU);if(a!==-1){let i=s.slice(0,a),n=s.slice(a+1,o.length);SU(i)&&gU(n)&&t.set(i,n)}return t},new Map),this._internalState.size>yU&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,yU))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let e=new r;return e._internalState=new Map(this._internalState),e}}});function NU(r){let e=ere.exec(r);return!e||e[1]==="00"&&e[5]?null:{traceId:e[2],spanId:e[3],traceFlags:parseInt(e[4],16)}}var ld,cd,Xte,Wte,Jte,Qte,Zte,ere,Hl,CU=p(()=>{P();Ul();RU();ld="traceparent",cd="tracestate",Xte="00",Wte="(?!ff)[\\da-f]{2}",Jte="(?![0]{32})[\\da-f]{32}",Qte="(?![0]{16})[\\da-f]{16}",Zte="[\\da-f]{2}",ere=new RegExp(`^\\s?(${Wte})-(${Jte})-(${Qte})-(${Zte})(-.*)?\\s?$`);Hl=class{inject(e,t,o){let s=ie.getSpanContext(e);if(!s||ki(e)||!xe(s))return;let a=`${Xte}-${s.traceId}-${s.spanId}-0${Number(s.traceFlags||se.NONE).toString(16)}`;o.set(t,ld,a),s.traceState&&o.set(t,cd,s.traceState.serialize())}extract(e,t,o){let s=o.get(t,ld);if(!s)return e;let a=Array.isArray(s)?s[0]:s;if(typeof a!="string")return e;let i=NU(a);if(!i)return e;i.isRemote=!0;let n=o.get(t,cd);if(n){let l=Array.isArray(n)?n.join(","):n;i.traceState=new ad(typeof l=="string"?l:void 0)}return ie.setSpanContext(e,i)}fields(){return[ld,cd]}}});function are(r,e){return function(t){return r(e(t))}}function SS(r){if(!lre(r)||cre(r)!==tre)return!1;let e=sre(r);if(e===null)return!0;let t=LU.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&PU.call(t)===ore}function lre(r){return r!=null&&typeof r=="object"}function cre(r){return r==null?r===void 0?nre:rre:Fi&&Fi in Object(r)?ure(r):fre(r)}function ure(r){let e=LU.call(r,Fi),t=r[Fi],o=!1;try{r[Fi]=void 0,o=!0}catch{}let s=bU.call(r);return o&&(e?r[Fi]=t:delete r[Fi]),s}function fre(r){return bU.call(r)}var tre,rre,nre,ire,PU,ore,sre,IU,LU,Fi,bU,xU=p(()=>{tre="[object Object]",rre="[object Null]",nre="[object Undefined]",ire=Function.prototype,PU=ire.toString,ore=PU.call(Object),sre=are(Object.getPrototypeOf,Object),IU=Object.prototype,LU=IU.hasOwnProperty,Fi=Symbol?Symbol.toStringTag:void 0,bU=IU.toString});function vS(...r){let e=r.shift(),t=new WeakMap;for(;r.length>0;)e=wU(e,r.shift(),0,t);return e}function gS(r){return fd(r)?r.slice():r}function wU(r,e,t=0,o){let s;if(!(t>pre)){if(t++,ud(r)||ud(e)||DU(e))s=gS(e);else if(fd(r)){if(s=r.slice(),fd(e))for(let a=0,i=e.length;a<i;a++)s.push(gS(e[a]));else if(ql(e)){let a=Object.keys(e);for(let i=0,n=a.length;i<n;i++){let l=a[i];s[l]=gS(e[l])}}}else if(ql(r))if(ql(e)){if(!dre(r,e))return e;s=Object.assign({},r);let a=Object.keys(e);for(let i=0,n=a.length;i<n;i++){let l=a[i],c=e[l];if(ud(c))typeof c>"u"?delete s[l]:s[l]=c;else{let u=s[l],f=c;if(MU(r,l,o)||MU(e,l,o))delete s[l];else{if(ql(u)&&ql(f)){let _=o.get(u)||[],m=o.get(f)||[];_.push({obj:r,key:l}),m.push({obj:e,key:l}),o.set(u,_),o.set(f,m)}s[l]=wU(s[l],c,t,o)}}}}else s=e;return s}}function MU(r,e,t){let o=t.get(r[e])||[];for(let s=0,a=o.length;s<a;s++){let i=o[s];if(i.key===e&&i.obj===r)return!0}return!1}function fd(r){return Array.isArray(r)}function DU(r){return typeof r=="function"}function ql(r){return!ud(r)&&!fd(r)&&!DU(r)&&typeof r=="object"}function ud(r){return typeof r=="string"||typeof r=="number"||typeof r=="boolean"||typeof r>"u"||r instanceof Date||r instanceof RegExp||r===null}function dre(r,e){return!(!SS(r)||!SS(e))}var pre,UU=p(()=>{xU();pre=20});var pd,kU=p(()=>{pd=class{constructor(){this._promise=new Promise((e,t)=>{this._resolve=e,this._reject=t})}get promise(){return this._promise}resolve(e){this._resolve(e)}reject(e){this._reject(e)}}});var Gi,BU=p(()=>{kU();Gi=class{constructor(e,t){this._callback=e,this._that=t,this._isCalled=!1,this._deferred=new pd}get isCalled(){return this._isCalled}get promise(){return this._deferred.promise}call(...e){if(!this._isCalled){this._isCalled=!0;try{Promise.resolve(this._callback.call(this._that,...e)).then(t=>this._deferred.resolve(t),t=>this._deferred.reject(t))}catch(t){this._deferred.reject(t)}}return this._deferred.promise}}});function VU(r,e){return new Promise(t=>{me.with(Dl(me.active()),()=>{r.export(e,o=>{t(o)})})})}var FU=p(()=>{P();Ul()});var GU,kt=p(()=>{eU();nU();sU();EU();mU();hS();TU();CU();Ul();dS();UU();pS();BU();FU();GU={_export:VU}});var HU,qU=p(()=>{HU="exception"});var Ls,yS=p(()=>{P();kt();Ve();qU();Ls=class{constructor(e,t,o,s,a,i,n=[],l,c,u){this.attributes={},this.links=[],this.events=[],this._droppedAttributesCount=0,this._droppedEventsCount=0,this._droppedLinksCount=0,this.status={code:br.UNSET},this.endTime=[0,0],this._ended=!1,this._duration=[-1,-1],this.name=o,this._spanContext=s,this.parentSpanId=i,this.kind=a,this.links=n;let f=Date.now();this._performanceStartTime=pr.now(),this._performanceOffset=f-(this._performanceStartTime+rd()),this._startTimeProvided=l!=null,this.startTime=this._getTime(l??f),this.resource=e.resource,this.instrumentationLibrary=e.instrumentationLibrary,this._spanLimits=e.getSpanLimits(),this._attributeValueLengthLimit=this._spanLimits.attributeValueLengthLimit||0,u!=null&&this.setAttributes(u),this._spanProcessor=e.getActiveSpanProcessor(),this._spanProcessor.onStart(this,t)}spanContext(){return this._spanContext}setAttribute(e,t){return t==null||this._isSpanEnded()?this:e.length===0?(S.warn(`Invalid attribute key: ${e}`),this):Zp(t)?Object.keys(this.attributes).length>=this._spanLimits.attributeCountLimit&&!Object.prototype.hasOwnProperty.call(this.attributes,e)?(this._droppedAttributesCount++,this):(this.attributes[e]=this._truncateToSize(t),this):(S.warn(`Invalid attribute value set for key: ${e}`),this)}setAttributes(e){for(let[t,o]of Object.entries(e))this.setAttribute(t,o);return this}addEvent(e,t,o){if(this._isSpanEnded())return this;if(this._spanLimits.eventCountLimit===0)return S.warn("No events allowed."),this._droppedEventsCount++,this;this.events.length>=this._spanLimits.eventCountLimit&&(this._droppedEventsCount===0&&S.debug("Dropping extra events."),this.events.shift(),this._droppedEventsCount++),od(t)&&(od(o)||(o=t),t=void 0);let s=Bi(t);return this.events.push({name:e,attributes:s,time:this._getTime(o),droppedAttributesCount:0}),this}addLink(e){return this.links.push(e),this}addLinks(e){return this.links.push(...e),this}setStatus(e){return this._isSpanEnded()?this:(this.status=Object.assign({},e),this.status.message!=null&&typeof e.message!="string"&&(S.warn(`Dropping invalid status.message of type '${typeof e.message}', expected 'string'`),delete this.status.message),this)}updateName(e){return this._isSpanEnded()?this:(this.name=e,this)}end(e){if(this._isSpanEnded()){S.error(`${this.name} ${this._spanContext.traceId}-${this._spanContext.spanId} - You can only call end() on a span once.`);return}this._ended=!0,this.endTime=this._getTime(e),this._duration=mS(this.startTime,this.endTime),this._duration[0]<0&&(S.warn("Inconsistent start and end time, startTime > endTime. Setting span duration to 0ms.",this.startTime,this.endTime),this.endTime=this.startTime.slice(),this._duration=[0,0]),this._droppedEventsCount>0&&S.warn(`Dropped ${this._droppedEventsCount} events because eventCountLimit reached`),this._spanProcessor.onEnd(this)}_getTime(e){if(typeof e=="number"&&e<=pr.now())return ES(e+this._performanceOffset);if(typeof e=="number")return Gn(e);if(e instanceof Date)return Gn(e.getTime());if(id(e))return e;if(this._startTimeProvided)return Gn(Date.now());let t=pr.now()-this._performanceStartTime;return sd(this.startTime,Gn(t))}isRecording(){return this._ended===!1}recordException(e,t){let o={};typeof e=="string"?o[el]=e:e&&(e.code?o[Za]=e.code.toString():e.name&&(o[Za]=e.name),e.message&&(o[el]=e.message),e.stack&&(o[qm]=e.stack)),o[Za]||o[el]?this.addEvent(HU,o,t):S.warn(`Failed to record an exception ${e}`)}get duration(){return this._duration}get ended(){return this._ended}get droppedAttributesCount(){return this._droppedAttributesCount}get droppedEventsCount(){return this._droppedEventsCount}get droppedLinksCount(){return this._droppedLinksCount}_isSpanEnded(){return this._ended&&S.warn(`Can not execute the operation on ended Span {traceId: ${this._spanContext.traceId}, spanId: ${this._spanContext.spanId}}`),this._ended}_truncateToLimitUtil(e,t){return e.length<=t?e:e.substring(0,t)}_truncateToSize(e){let t=this._attributeValueLengthLimit;return t<=0?(S.warn(`Attribute value limit must be positive, got ${t}`),e):typeof e=="string"?this._truncateToLimitUtil(e,t):Array.isArray(e)?e.map(o=>typeof o=="string"?this._truncateToLimitUtil(o,t):o):e}}});var dr,jl=p(()=>{(function(r){r[r.NOT_RECORD=0]="NOT_RECORD",r[r.RECORD=1]="RECORD",r[r.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})(dr||(dr={}))});var Ur,dd=p(()=>{jl();Ur=class{shouldSample(){return{decision:dr.NOT_RECORD}}toString(){return"AlwaysOffSampler"}}});var Xt,hd=p(()=>{jl();Xt=class{shouldSample(){return{decision:dr.RECORD_AND_SAMPLED}}toString(){return"AlwaysOnSampler"}}});var Hn,OS=p(()=>{P();kt();dd();hd();Hn=class{constructor(e){var t,o,s,a;this._root=e.root,this._root||(Kt(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new Xt),this._remoteParentSampled=(t=e.remoteParentSampled)!==null&&t!==void 0?t:new Xt,this._remoteParentNotSampled=(o=e.remoteParentNotSampled)!==null&&o!==void 0?o:new Ur,this._localParentSampled=(s=e.localParentSampled)!==null&&s!==void 0?s:new Xt,this._localParentNotSampled=(a=e.localParentNotSampled)!==null&&a!==void 0?a:new Ur}shouldSample(e,t,o,s,a,i){let n=ie.getSpanContext(e);return!n||!xe(n)?this._root.shouldSample(e,t,o,s,a,i):n.isRemote?n.traceFlags&se.SAMPLED?this._remoteParentSampled.shouldSample(e,t,o,s,a,i):this._remoteParentNotSampled.shouldSample(e,t,o,s,a,i):n.traceFlags&se.SAMPLED?this._localParentSampled.shouldSample(e,t,o,s,a,i):this._localParentNotSampled.shouldSample(e,t,o,s,a,i)}toString(){return`ParentBased{root=${this._root.toString()}, remoteParentSampled=${this._remoteParentSampled.toString()}, remoteParentNotSampled=${this._remoteParentNotSampled.toString()}, localParentSampled=${this._localParentSampled.toString()}, localParentNotSampled=${this._localParentNotSampled.toString()}}`}}});var Hi,AS=p(()=>{P();jl();Hi=class{constructor(e=0){this._ratio=e,this._ratio=this._normalize(e),this._upperBound=Math.floor(this._ratio*4294967295)}shouldSample(e,t){return{decision:Mt(t)&&this._accumulate(t)<this._upperBound?dr.RECORD_AND_SAMPLED:dr.NOT_RECORD}}toString(){return`TraceIdRatioBased{${this._ratio}}`}_normalize(e){return typeof e!="number"||isNaN(e)?0:e>=1?1:e<=0?0:e}_accumulate(e){let t=0;for(let o=0;o<e.length/8;o++){let s=o*8,a=parseInt(e.slice(s,s+8),16);t=(t^a)>>>0}return t}}});function _d(){let r=zt();return{sampler:RS(hre),forceFlushTimeoutMillis:3e4,generalLimits:{attributeValueLengthLimit:r.OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:r.OTEL_ATTRIBUTE_COUNT_LIMIT},spanLimits:{attributeValueLengthLimit:r.OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:r.OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT,linkCountLimit:r.OTEL_SPAN_LINK_COUNT_LIMIT,eventCountLimit:r.OTEL_SPAN_EVENT_COUNT_LIMIT,attributePerEventCountLimit:r.OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT,attributePerLinkCountLimit:r.OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT},mergeResourceWithDefaults:!0}}function RS(r=zt()){switch(r.OTEL_TRACES_SAMPLER){case Ut.AlwaysOn:return new Xt;case Ut.AlwaysOff:return new Ur;case Ut.ParentBasedAlwaysOn:return new Hn({root:new Xt});case Ut.ParentBasedAlwaysOff:return new Hn({root:new Ur});case Ut.TraceIdRatio:return new Hi(jU(r));case Ut.ParentBasedTraceIdRatio:return new Hn({root:new Hi(jU(r))});default:return S.error(`OTEL_TRACES_SAMPLER value "${r.OTEL_TRACES_SAMPLER} invalid, defaulting to ${_re}".`),new Xt}}function jU(r){if(r.OTEL_TRACES_SAMPLER_ARG===void 0||r.OTEL_TRACES_SAMPLER_ARG==="")return S.error(`OTEL_TRACES_SAMPLER_ARG is blank, defaulting to ${bs}.`),bs;let e=Number(r.OTEL_TRACES_SAMPLER_ARG);return isNaN(e)?(S.error(`OTEL_TRACES_SAMPLER_ARG=${r.OTEL_TRACES_SAMPLER_ARG} was given, but it is invalid, defaulting to ${bs}.`),bs):e<0||e>1?(S.error(`OTEL_TRACES_SAMPLER_ARG=${r.OTEL_TRACES_SAMPLER_ARG} was given, but it is out of range ([0..1]), defaulting to ${bs}.`),bs):e}var hre,_re,bs,NS=p(()=>{P();kt();dd();hd();OS();AS();hre=zt(),_re=Ut.AlwaysOn,bs=1});function YU(r){let e={sampler:RS()},t=_d(),o=Object.assign({},t,e,r);return o.generalLimits=Object.assign({},t.generalLimits,r.generalLimits||{}),o.spanLimits=Object.assign({},t.spanLimits,r.spanLimits||{}),o}function KU(r){var e,t,o,s,a,i,n,l,c,u,f,_;let m=Object.assign({},r.spanLimits),O=Vl();return m.attributeCountLimit=(i=(a=(s=(t=(e=r.spanLimits)===null||e===void 0?void 0:e.attributeCountLimit)!==null&&t!==void 0?t:(o=r.generalLimits)===null||o===void 0?void 0:o.attributeCountLimit)!==null&&s!==void 0?s:O.OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT)!==null&&a!==void 0?a:O.OTEL_ATTRIBUTE_COUNT_LIMIT)!==null&&i!==void 0?i:Is,m.attributeValueLengthLimit=(_=(f=(u=(l=(n=r.spanLimits)===null||n===void 0?void 0:n.attributeValueLengthLimit)!==null&&l!==void 0?l:(c=r.generalLimits)===null||c===void 0?void 0:c.attributeValueLengthLimit)!==null&&u!==void 0?u:O.OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT)!==null&&f!==void 0?f:O.OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT)!==null&&_!==void 0?_:Ps,Object.assign({},r,{spanLimits:m})}var CS=p(()=>{NS();kt()});var Ed,zU=p(()=>{P();kt();Ed=class{constructor(e,t){this._exporter=e,this._isExporting=!1,this._finishedSpans=[],this._droppedSpansCount=0;let o=zt();this._maxExportBatchSize=typeof(t==null?void 0:t.maxExportBatchSize)=="number"?t.maxExportBatchSize:o.OTEL_BSP_MAX_EXPORT_BATCH_SIZE,this._maxQueueSize=typeof(t==null?void 0:t.maxQueueSize)=="number"?t.maxQueueSize:o.OTEL_BSP_MAX_QUEUE_SIZE,this._scheduledDelayMillis=typeof(t==null?void 0:t.scheduledDelayMillis)=="number"?t.scheduledDelayMillis:o.OTEL_BSP_SCHEDULE_DELAY,this._exportTimeoutMillis=typeof(t==null?void 0:t.exportTimeoutMillis)=="number"?t.exportTimeoutMillis:o.OTEL_BSP_EXPORT_TIMEOUT,this._shutdownOnce=new Gi(this._shutdown,this),this._maxExportBatchSize>this._maxQueueSize&&(S.warn("BatchSpanProcessor: maxExportBatchSize must be smaller or equal to maxQueueSize, setting maxExportBatchSize to match maxQueueSize"),this._maxExportBatchSize=this._maxQueueSize)}forceFlush(){return this._shutdownOnce.isCalled?this._shutdownOnce.promise:this._flushAll()}onStart(e,t){}onEnd(e){this._shutdownOnce.isCalled||(e.spanContext().traceFlags&se.SAMPLED)!==0&&this._addToBuffer(e)}shutdown(){return this._shutdownOnce.call()}_shutdown(){return Promise.resolve().then(()=>this.onShutdown()).then(()=>this._flushAll()).then(()=>this._exporter.shutdown())}_addToBuffer(e){if(this._finishedSpans.length>=this._maxQueueSize){this._droppedSpansCount===0&&S.debug("maxQueueSize reached, dropping spans"),this._droppedSpansCount++;return}this._droppedSpansCount>0&&(S.warn(`Dropped ${this._droppedSpansCount} spans because maxQueueSize reached`),this._droppedSpansCount=0),this._finishedSpans.push(e),this._maybeStartTimer()}_flushAll(){return new Promise((e,t)=>{let o=[],s=Math.ceil(this._finishedSpans.length/this._maxExportBatchSize);for(let a=0,i=s;a<i;a++)o.push(this._flushOneBatch());Promise.all(o).then(()=>{e()}).catch(t)})}_flushOneBatch(){return this._clearTimer(),this._finishedSpans.length===0?Promise.resolve():new Promise((e,t)=>{let o=setTimeout(()=>{t(new Error("Timeout"))},this._exportTimeoutMillis);me.with(Dl(me.active()),()=>{let s;this._finishedSpans.length<=this._maxExportBatchSize?(s=this._finishedSpans,this._finishedSpans=[]):s=this._finishedSpans.splice(0,this._maxExportBatchSize);let a=()=>this._exporter.export(s,n=>{var l;clearTimeout(o),n.code===$t.SUCCESS?e():t((l=n.error)!==null&&l!==void 0?l:new Error("BatchSpanProcessor: span export failed"))}),i=null;for(let n=0,l=s.length;n<l;n++){let c=s[n];c.resource.asyncAttributesPending&&c.resource.waitForAsyncAttributes&&(i??(i=[]),i.push(c.resource.waitForAsyncAttributes()))}i===null?a():Promise.all(i).then(a,n=>{Kt(n),t(n)})})})}_maybeStartTimer(){if(this._isExporting)return;let e=()=>{this._isExporting=!0,this._flushOneBatch().finally(()=>{this._isExporting=!1,this._finishedSpans.length>0&&(this._clearTimer(),this._maybeStartTimer())}).catch(t=>{this._isExporting=!1,Kt(t)})};if(this._finishedSpans.length>=this._maxExportBatchSize)return e();this._timer===void 0&&(this._timer=setTimeout(()=>e(),this._scheduledDelayMillis),Fl(this._timer))}_clearTimer(){this._timer!==void 0&&(clearTimeout(this._timer),this._timer=void 0)}}});var qn,$U=p(()=>{zU();qn=class extends Ed{onShutdown(){}}});function XU(r){return function(){for(let t=0;t<r/4;t++)md.writeUInt32BE(Math.random()*2**32>>>0,t*4);for(let t=0;t<r&&!(md[t]>0);t++)t===r-1&&(md[r-1]=1);return md.toString("hex",0,r)}}var jn,md,WU=p(()=>{jn=class{constructor(){this.generateTraceId=XU(16),this.generateSpanId=XU(8)}},md=Buffer.allocUnsafe(16)});var JU=p(()=>{$U();WU()});var Td=p(()=>{JU()});var xs,QU=p(()=>{P();kt();yS();CS();Td();xs=class{constructor(e,t,o){this._tracerProvider=o;let s=YU(t);this._sampler=s.sampler,this._generalLimits=s.generalLimits,this._spanLimits=s.spanLimits,this._idGenerator=t.idGenerator||new jn,this.resource=o.resource,this.instrumentationLibrary=e}startSpan(e,t={},o=me.active()){var s,a,i;t.root&&(o=ie.deleteSpan(o));let n=ie.getSpan(o);if(ki(o))return S.debug("Instrumentation suppressed, returning Noop Span"),ie.wrapSpanContext(Vo);let l=n==null?void 0:n.spanContext(),c=this._idGenerator.generateSpanId(),u,f,_;!l||!ie.isSpanContextValid(l)?u=this._idGenerator.generateTraceId():(u=l.traceId,f=l.traceState,_=l.spanId);let m=(s=t.kind)!==null&&s!==void 0?s:qt.INTERNAL,O=((a=t.links)!==null&&a!==void 0?a:[]).map(K=>({context:K.context,attributes:Bi(K.attributes)})),y=Bi(t.attributes),A=this._sampler.shouldSample(o,u,e,m,y,O);f=(i=A.traceState)!==null&&i!==void 0?i:f;let I=A.decision===ke.RECORD_AND_SAMPLED?se.SAMPLED:se.NONE,M={traceId:u,spanId:c,traceFlags:I,traceState:f};if(A.decision===ke.NOT_RECORD)return S.debug("Recording is off, propagating context in a non-recording span"),ie.wrapSpanContext(M);let F=Bi(Object.assign(y,A.attributes));return new Ls(this,o,e,M,m,_,O,t.startTime,void 0,F)}startActiveSpan(e,t,o,s){let a,i,n;if(arguments.length<2)return;arguments.length===2?n=t:arguments.length===3?(a=t,n=o):(a=t,i=o,n=s);let l=i??me.active(),c=this.startSpan(e,a,l),u=ie.setSpan(l,c);return me.with(u,n,void 0,c)}getGeneralLimits(){return this._generalLimits}getSpanLimits(){return this._spanLimits}getActiveSpanProcessor(){return this._tracerProvider.getActiveSpanProcessor()}}});function Sd(){return`unknown_service:${process.argv0}`}var ZU=p(()=>{});var ek=p(()=>{ZU()});var tk=p(()=>{ek()});var Yn,rk=p(()=>{P();Ve();kt();tk();Yn=class r{constructor(e,t){var o;this._attributes=e,this.asyncAttributesPending=t!=null,this._syncAttributes=(o=this._attributes)!==null&&o!==void 0?o:{},this._asyncAttributesPromise=t==null?void 0:t.then(s=>(this._attributes=Object.assign({},this._attributes,s),this.asyncAttributesPending=!1,s),s=>(S.debug("a resource's async attributes promise rejected: %s",s),this.asyncAttributesPending=!1,{}))}static empty(){return r.EMPTY}static default(){return new r({[at]:Sd(),[ge]:Vi[ge],[Se]:Vi[Se],[ve]:Vi[ve]})}get attributes(){var e;return this.asyncAttributesPending&&S.error("Accessing resource attributes before async attributes settled"),(e=this._attributes)!==null&&e!==void 0?e:{}}async waitForAsyncAttributes(){this.asyncAttributesPending&&await this._asyncAttributesPromise}merge(e){var t;if(!e)return this;let o=Object.assign(Object.assign({},this._syncAttributes),(t=e._syncAttributes)!==null&&t!==void 0?t:e.attributes);if(!this._asyncAttributesPromise&&!e._asyncAttributesPromise)return new r(o);let s=Promise.all([this._asyncAttributesPromise,e._asyncAttributesPromise]).then(([a,i])=>{var n;return Object.assign(Object.assign(Object.assign(Object.assign({},this._syncAttributes),a),(n=e._syncAttributes)!==null&&n!==void 0?n:e.attributes),i)});return new r(o,s)}};Yn.EMPTY=new Yn({})});var nk=p(()=>{rk()});var Yl,ik=p(()=>{kt();Yl=class{constructor(e){this._spanProcessors=e}forceFlush(){let e=[];for(let t of this._spanProcessors)e.push(t.forceFlush());return new Promise(t=>{Promise.all(e).then(()=>{t()}).catch(o=>{Kt(o||new Error("MultiSpanProcessor: forceFlush failed")),t()})})}onStart(e,t){for(let o of this._spanProcessors)o.onStart(e,t)}onEnd(e){for(let t of this._spanProcessors)t.onEnd(e)}shutdown(){let e=[];for(let t of this._spanProcessors)e.push(t.shutdown());return new Promise((t,o)=>{Promise.all(e).then(()=>{t()},o)})}}});var Ms,PS=p(()=>{Ms=class{onStart(e,t){}onEnd(e){}shutdown(){return Promise.resolve()}forceFlush(){return Promise.resolve()}}});var pn,ws,ok=p(()=>{P();kt();nk();qi();NS();ik();PS();Td();CS();(function(r){r[r.resolved=0]="resolved",r[r.timeout=1]="timeout",r[r.error=2]="error",r[r.unresolved=3]="unresolved"})(pn||(pn={}));ws=class{constructor(e={}){var t,o;this._registeredSpanProcessors=[],this._tracers=new Map;let s=vS({},_d(),KU(e));if(this.resource=(t=s.resource)!==null&&t!==void 0?t:Yn.empty(),s.mergeResourceWithDefaults&&(this.resource=Yn.default().merge(this.resource)),this._config=Object.assign({},s,{resource:this.resource}),!((o=e.spanProcessors)===null||o===void 0)&&o.length)this._registeredSpanProcessors=[...e.spanProcessors],this.activeSpanProcessor=new Yl(this._registeredSpanProcessors);else{let a=this._buildExporterFromEnv();if(a!==void 0){let i=new qn(a);this.activeSpanProcessor=i}else this.activeSpanProcessor=new Ms}}getTracer(e,t,o){let s=`${e}@${t||""}:${(o==null?void 0:o.schemaUrl)||""}`;return this._tracers.has(s)||this._tracers.set(s,new xs({name:e,version:t,schemaUrl:o==null?void 0:o.schemaUrl},this._config,this)),this._tracers.get(s)}addSpanProcessor(e){this._registeredSpanProcessors.length===0&&this.activeSpanProcessor.shutdown().catch(t=>S.error("Error while trying to shutdown current span processor",t)),this._registeredSpanProcessors.push(e),this.activeSpanProcessor=new Yl(this._registeredSpanProcessors)}getActiveSpanProcessor(){return this.activeSpanProcessor}register(e={}){ie.setGlobalTracerProvider(this),e.propagator===void 0&&(e.propagator=this._buildPropagatorFromEnv()),e.contextManager&&me.setGlobalContextManager(e.contextManager),e.propagator&&Ue.setGlobalPropagator(e.propagator)}forceFlush(){let e=this._config.forceFlushTimeoutMillis,t=this._registeredSpanProcessors.map(o=>new Promise(s=>{let a,i=setTimeout(()=>{s(new Error(`Span processor did not completed within timeout period of ${e} ms`)),a=pn.timeout},e);o.forceFlush().then(()=>{clearTimeout(i),a!==pn.timeout&&(a=pn.resolved,s(a))}).catch(n=>{clearTimeout(i),a=pn.error,s(n)})}));return new Promise((o,s)=>{Promise.all(t).then(a=>{let i=a.filter(n=>n!==pn.resolved);i.length>0?s(i):o()}).catch(a=>s([a]))})}shutdown(){return this.activeSpanProcessor.shutdown()}_getPropagator(e){var t;return(t=this.constructor._registeredPropagators.get(e))===null||t===void 0?void 0:t()}_getSpanExporter(e){var t;return(t=this.constructor._registeredExporters.get(e))===null||t===void 0?void 0:t()}_buildPropagatorFromEnv(){let e=Array.from(new Set(zt().OTEL_PROPAGATORS)),o=e.map(s=>{let a=this._getPropagator(s);return a||S.warn(`Propagator "${s}" requested through environment variable is unavailable.`),a}).reduce((s,a)=>(a&&s.push(a),s),[]);if(o.length!==0)return e.length===1?o[0]:new Gl({propagators:o})}_buildExporterFromEnv(){let e=zt().OTEL_TRACES_EXPORTER;if(e==="none"||e==="")return;let t=this._getSpanExporter(e);return t||S.error(`Exporter "${e}" requested through environment variable is unavailable.`),t}};ws._registeredPropagators=new Map([["tracecontext",()=>new Hl],["baggage",()=>new Bl]]);ws._registeredExporters=new Map});var gd,sk=p(()=>{kt();gd=class{export(e,t){return this._sendSpans(e,t)}shutdown(){return this._sendSpans([]),this.forceFlush()}forceFlush(){return Promise.resolve()}_exportInfo(e){var t;return{resource:{attributes:e.resource.attributes},instrumentationScope:e.instrumentationLibrary,traceId:e.spanContext().traceId,parentId:e.parentSpanId,traceState:(t=e.spanContext().traceState)===null||t===void 0?void 0:t.serialize(),name:e.name,id:e.spanContext().spanId,kind:e.kind,timestamp:nd(e.startTime),duration:nd(e.duration),attributes:e.attributes,status:e.status,events:e.events,links:e.links}}_sendSpans(e,t){for(let o of e)console.dir(this._exportInfo(o),{depth:3});if(t)return t({code:$t.SUCCESS})}}});var vd,ak=p(()=>{kt();vd=class{constructor(){this._finishedSpans=[],this._stopped=!1}export(e,t){if(this._stopped)return t({code:$t.FAILED,error:new Error("Exporter has been stopped")});this._finishedSpans.push(...e),setTimeout(()=>t({code:$t.SUCCESS}),0)}shutdown(){return this._stopped=!0,this._finishedSpans=[],this.forceFlush()}forceFlush(){return Promise.resolve()}reset(){this._finishedSpans=[]}getFinishedSpans(){return this._finishedSpans}}});var yd,lk=p(()=>{P();kt();yd=class{constructor(e){this._exporter=e,this._shutdownOnce=new Gi(this._shutdown,this),this._unresolvedExports=new Set}async forceFlush(){await Promise.all(Array.from(this._unresolvedExports)),this._exporter.forceFlush&&await this._exporter.forceFlush()}onStart(e,t){}onEnd(e){var t,o;if(this._shutdownOnce.isCalled||(e.spanContext().traceFlags&se.SAMPLED)===0)return;let s=()=>GU._export(this._exporter,[e]).then(a=>{var i;a.code!==$t.SUCCESS&&Kt((i=a.error)!==null&&i!==void 0?i:new Error(`SimpleSpanProcessor: span export failed (status ${a})`))}).catch(a=>{Kt(a)});if(e.resource.asyncAttributesPending){let a=(o=(t=e.resource).waitForAsyncAttributes)===null||o===void 0?void 0:o.call(t).then(()=>(a!=null&&this._unresolvedExports.delete(a),s()),i=>Kt(i));a!=null&&this._unresolvedExports.add(a)}else s()}shutdown(){return this._shutdownOnce.call()}_shutdown(){return this._exporter.shutdown()}}});var Ds={};Ae(Ds,{AlwaysOffSampler:()=>Ur,AlwaysOnSampler:()=>Xt,BasicTracerProvider:()=>ws,BatchSpanProcessor:()=>qn,ConsoleSpanExporter:()=>gd,ForceFlushState:()=>pn,InMemorySpanExporter:()=>vd,NoopSpanProcessor:()=>Ms,ParentBasedSampler:()=>Hn,RandomIdGenerator:()=>jn,SamplingDecision:()=>dr,SimpleSpanProcessor:()=>yd,Span:()=>Ls,TraceIdRatioBasedSampler:()=>Hi,Tracer:()=>xs});var qi=p(()=>{QU();ok();Td();sk();ak();lk();PS();dd();hd();OS();AS();jl();yS()});var Kl=T((KMe,ck)=>{"use strict";var Ere="2.0.0",mre=Number.MAX_SAFE_INTEGER||9007199254740991,Tre=16,Sre=250,gre=["major","premajor","minor","preminor","patch","prepatch","prerelease"];ck.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:Tre,MAX_SAFE_BUILD_LENGTH:Sre,MAX_SAFE_INTEGER:mre,RELEASE_TYPES:gre,SEMVER_SPEC_VERSION:Ere,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var zl=T((zMe,uk)=>{"use strict";var vre=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...r)=>console.error("SEMVER",...r):()=>{};uk.exports=vre});var Us=T((kr,fk)=>{"use strict";var{MAX_SAFE_COMPONENT_LENGTH:IS,MAX_SAFE_BUILD_LENGTH:yre,MAX_LENGTH:Ore}=Kl(),Are=zl();kr=fk.exports={};var Rre=kr.re=[],Nre=kr.safeRe=[],D=kr.src=[],Cre=kr.safeSrc=[],U=kr.t={},Pre=0,LS="[a-zA-Z0-9-]",Ire=[["\\s",1],["\\d",Ore],[LS,yre]],Lre=r=>{for(let[e,t]of Ire)r=r.split(`${e}*`).join(`${e}{0,${t}}`).split(`${e}+`).join(`${e}{1,${t}}`);return r},re=(r,e,t)=>{let o=Lre(e),s=Pre++;Are(r,s,e),U[r]=s,D[s]=e,Cre[s]=o,Rre[s]=new RegExp(e,t?"g":void 0),Nre[s]=new RegExp(o,t?"g":void 0)};re("NUMERICIDENTIFIER","0|[1-9]\\d*");re("NUMERICIDENTIFIERLOOSE","\\d+");re("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${LS}*`);re("MAINVERSION",`(${D[U.NUMERICIDENTIFIER]})\\.(${D[U.NUMERICIDENTIFIER]})\\.(${D[U.NUMERICIDENTIFIER]})`);re("MAINVERSIONLOOSE",`(${D[U.NUMERICIDENTIFIERLOOSE]})\\.(${D[U.NUMERICIDENTIFIERLOOSE]})\\.(${D[U.NUMERICIDENTIFIERLOOSE]})`);re("PRERELEASEIDENTIFIER",`(?:${D[U.NONNUMERICIDENTIFIER]}|${D[U.NUMERICIDENTIFIER]})`);re("PRERELEASEIDENTIFIERLOOSE",`(?:${D[U.NONNUMERICIDENTIFIER]}|${D[U.NUMERICIDENTIFIERLOOSE]})`);re("PRERELEASE",`(?:-(${D[U.PRERELEASEIDENTIFIER]}(?:\\.${D[U.PRERELEASEIDENTIFIER]})*))`);re("PRERELEASELOOSE",`(?:-?(${D[U.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${D[U.PRERELEASEIDENTIFIERLOOSE]})*))`);re("BUILDIDENTIFIER",`${LS}+`);re("BUILD",`(?:\\+(${D[U.BUILDIDENTIFIER]}(?:\\.${D[U.BUILDIDENTIFIER]})*))`);re("FULLPLAIN",`v?${D[U.MAINVERSION]}${D[U.PRERELEASE]}?${D[U.BUILD]}?`);re("FULL",`^${D[U.FULLPLAIN]}$`);re("LOOSEPLAIN",`[v=\\s]*${D[U.MAINVERSIONLOOSE]}${D[U.PRERELEASELOOSE]}?${D[U.BUILD]}?`);re("LOOSE",`^${D[U.LOOSEPLAIN]}$`);re("GTLT","((?:<|>)?=?)");re("XRANGEIDENTIFIERLOOSE",`${D[U.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);re("XRANGEIDENTIFIER",`${D[U.NUMERICIDENTIFIER]}|x|X|\\*`);re("XRANGEPLAIN",`[v=\\s]*(${D[U.XRANGEIDENTIFIER]})(?:\\.(${D[U.XRANGEIDENTIFIER]})(?:\\.(${D[U.XRANGEIDENTIFIER]})(?:${D[U.PRERELEASE]})?${D[U.BUILD]}?)?)?`);re("XRANGEPLAINLOOSE",`[v=\\s]*(${D[U.XRANGEIDENTIFIERLOOSE]})(?:\\.(${D[U.XRANGEIDENTIFIERLOOSE]})(?:\\.(${D[U.XRANGEIDENTIFIERLOOSE]})(?:${D[U.PRERELEASELOOSE]})?${D[U.BUILD]}?)?)?`);re("XRANGE",`^${D[U.GTLT]}\\s*${D[U.XRANGEPLAIN]}$`);re("XRANGELOOSE",`^${D[U.GTLT]}\\s*${D[U.XRANGEPLAINLOOSE]}$`);re("COERCEPLAIN",`(^|[^\\d])(\\d{1,${IS}})(?:\\.(\\d{1,${IS}}))?(?:\\.(\\d{1,${IS}}))?`);re("COERCE",`${D[U.COERCEPLAIN]}(?:$|[^\\d])`);re("COERCEFULL",D[U.COERCEPLAIN]+`(?:${D[U.PRERELEASE]})?(?:${D[U.BUILD]})?(?:$|[^\\d])`);re("COERCERTL",D[U.COERCE],!0);re("COERCERTLFULL",D[U.COERCEFULL],!0);re("LONETILDE","(?:~>?)");re("TILDETRIM",`(\\s*)${D[U.LONETILDE]}\\s+`,!0);kr.tildeTrimReplace="$1~";re("TILDE",`^${D[U.LONETILDE]}${D[U.XRANGEPLAIN]}$`);re("TILDELOOSE",`^${D[U.LONETILDE]}${D[U.XRANGEPLAINLOOSE]}$`);re("LONECARET","(?:\\^)");re("CARETTRIM",`(\\s*)${D[U.LONECARET]}\\s+`,!0);kr.caretTrimReplace="$1^";re("CARET",`^${D[U.LONECARET]}${D[U.XRANGEPLAIN]}$`);re("CARETLOOSE",`^${D[U.LONECARET]}${D[U.XRANGEPLAINLOOSE]}$`);re("COMPARATORLOOSE",`^${D[U.GTLT]}\\s*(${D[U.LOOSEPLAIN]})$|^$`);re("COMPARATOR",`^${D[U.GTLT]}\\s*(${D[U.FULLPLAIN]})$|^$`);re("COMPARATORTRIM",`(\\s*)${D[U.GTLT]}\\s*(${D[U.LOOSEPLAIN]}|${D[U.XRANGEPLAIN]})`,!0);kr.comparatorTrimReplace="$1$2$3";re("HYPHENRANGE",`^\\s*(${D[U.XRANGEPLAIN]})\\s+-\\s+(${D[U.XRANGEPLAIN]})\\s*$`);re("HYPHENRANGELOOSE",`^\\s*(${D[U.XRANGEPLAINLOOSE]})\\s+-\\s+(${D[U.XRANGEPLAINLOOSE]})\\s*$`);re("STAR","(<|>)?=?\\s*\\*");re("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");re("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var Od=T(($Me,pk)=>{"use strict";var bre=Object.freeze({loose:!0}),xre=Object.freeze({}),Mre=r=>r?typeof r!="object"?bre:r:xre;pk.exports=Mre});var bS=T((XMe,_k)=>{"use strict";var dk=/^[0-9]+$/,hk=(r,e)=>{let t=dk.test(r),o=dk.test(e);return t&&o&&(r=+r,e=+e),r===e?0:t&&!o?-1:o&&!t?1:r<e?-1:1},wre=(r,e)=>hk(e,r);_k.exports={compareIdentifiers:hk,rcompareIdentifiers:wre}});var pt=T((WMe,mk)=>{"use strict";var Ad=zl(),{MAX_LENGTH:Ek,MAX_SAFE_INTEGER:Rd}=Kl(),{safeRe:Nd,t:Cd}=Us(),Dre=Od(),{compareIdentifiers:ks}=bS(),xS=class r{constructor(e,t){if(t=Dre(t),e instanceof r){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>Ek)throw new TypeError(`version is longer than ${Ek} characters`);Ad("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;let o=e.trim().match(t.loose?Nd[Cd.LOOSE]:Nd[Cd.FULL]);if(!o)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+o[1],this.minor=+o[2],this.patch=+o[3],this.major>Rd||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Rd||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Rd||this.patch<0)throw new TypeError("Invalid patch version");o[4]?this.prerelease=o[4].split(".").map(s=>{if(/^[0-9]+$/.test(s)){let a=+s;if(a>=0&&a<Rd)return a}return s}):this.prerelease=[],this.build=o[5]?o[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(Ad("SemVer.compare",this.version,this.options,e),!(e instanceof r)){if(typeof e=="string"&&e===this.version)return 0;e=new r(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof r||(e=new r(e,this.options)),ks(this.major,e.major)||ks(this.minor,e.minor)||ks(this.patch,e.patch)}comparePre(e){if(e instanceof r||(e=new r(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{let o=this.prerelease[t],s=e.prerelease[t];if(Ad("prerelease compare",t,o,s),o===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(o===void 0)return-1;if(o===s)continue;return ks(o,s)}while(++t)}compareBuild(e){e instanceof r||(e=new r(e,this.options));let t=0;do{let o=this.build[t],s=e.build[t];if(Ad("build compare",t,o,s),o===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(o===void 0)return-1;if(o===s)continue;return ks(o,s)}while(++t)}inc(e,t,o){if(e.startsWith("pre")){if(!t&&o===!1)throw new Error("invalid increment argument: identifier is empty");if(t){let s=`-${t}`.match(this.options.loose?Nd[Cd.PRERELEASELOOSE]:Nd[Cd.PRERELEASE]);if(!s||s[1]!==t)throw new Error(`invalid identifier: ${t}`)}}switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,o);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,o);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,o),this.inc("pre",t,o);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",t,o),this.inc("pre",t,o);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let s=Number(o)?1:0;if(this.prerelease.length===0)this.prerelease=[s];else{let a=this.prerelease.length;for(;--a>=0;)typeof this.prerelease[a]=="number"&&(this.prerelease[a]++,a=-2);if(a===-1){if(t===this.prerelease.join(".")&&o===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(s)}}if(t){let a=[t,s];o===!1&&(a=[t]),ks(this.prerelease[0],t)===0?isNaN(this.prerelease[1])&&(this.prerelease=a):this.prerelease=a}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};mk.exports=xS});var ji=T((JMe,Sk)=>{"use strict";var Tk=pt(),Ure=(r,e,t=!1)=>{if(r instanceof Tk)return r;try{return new Tk(r,e)}catch(o){if(!t)return null;throw o}};Sk.exports=Ure});var vk=T((QMe,gk)=>{"use strict";var kre=ji(),Bre=(r,e)=>{let t=kre(r,e);return t?t.version:null};gk.exports=Bre});var Ok=T((ZMe,yk)=>{"use strict";var Vre=ji(),Fre=(r,e)=>{let t=Vre(r.trim().replace(/^[=v]+/,""),e);return t?t.version:null};yk.exports=Fre});var Nk=T((ewe,Rk)=>{"use strict";var Ak=pt(),Gre=(r,e,t,o,s)=>{typeof t=="string"&&(s=o,o=t,t=void 0);try{return new Ak(r instanceof Ak?r.version:r,t).inc(e,o,s).version}catch{return null}};Rk.exports=Gre});var Ik=T((twe,Pk)=>{"use strict";var Ck=ji(),Hre=(r,e)=>{let t=Ck(r,null,!0),o=Ck(e,null,!0),s=t.compare(o);if(s===0)return null;let a=s>0,i=a?t:o,n=a?o:t,l=!!i.prerelease.length;if(!!n.prerelease.length&&!l){if(!n.patch&&!n.minor)return"major";if(n.compareMain(i)===0)return n.minor&&!n.patch?"minor":"patch"}let u=l?"pre":"";return t.major!==o.major?u+"major":t.minor!==o.minor?u+"minor":t.patch!==o.patch?u+"patch":"prerelease"};Pk.exports=Hre});var bk=T((rwe,Lk)=>{"use strict";var qre=pt(),jre=(r,e)=>new qre(r,e).major;Lk.exports=jre});var Mk=T((nwe,xk)=>{"use strict";var Yre=pt(),Kre=(r,e)=>new Yre(r,e).minor;xk.exports=Kre});var Dk=T((iwe,wk)=>{"use strict";var zre=pt(),$re=(r,e)=>new zre(r,e).patch;wk.exports=$re});var kk=T((owe,Uk)=>{"use strict";var Xre=ji(),Wre=(r,e)=>{let t=Xre(r,e);return t&&t.prerelease.length?t.prerelease:null};Uk.exports=Wre});var Wt=T((swe,Vk)=>{"use strict";var Bk=pt(),Jre=(r,e,t)=>new Bk(r,t).compare(new Bk(e,t));Vk.exports=Jre});var Gk=T((awe,Fk)=>{"use strict";var Qre=Wt(),Zre=(r,e,t)=>Qre(e,r,t);Fk.exports=Zre});var qk=T((lwe,Hk)=>{"use strict";var ene=Wt(),tne=(r,e)=>ene(r,e,!0);Hk.exports=tne});var Pd=T((cwe,Yk)=>{"use strict";var jk=pt(),rne=(r,e,t)=>{let o=new jk(r,t),s=new jk(e,t);return o.compare(s)||o.compareBuild(s)};Yk.exports=rne});var zk=T((uwe,Kk)=>{"use strict";var nne=Pd(),ine=(r,e)=>r.sort((t,o)=>nne(t,o,e));Kk.exports=ine});var Xk=T((fwe,$k)=>{"use strict";var one=Pd(),sne=(r,e)=>r.sort((t,o)=>one(o,t,e));$k.exports=sne});var $l=T((pwe,Wk)=>{"use strict";var ane=Wt(),lne=(r,e,t)=>ane(r,e,t)>0;Wk.exports=lne});var Id=T((dwe,Jk)=>{"use strict";var cne=Wt(),une=(r,e,t)=>cne(r,e,t)<0;Jk.exports=une});var MS=T((hwe,Qk)=>{"use strict";var fne=Wt(),pne=(r,e,t)=>fne(r,e,t)===0;Qk.exports=pne});var wS=T((_we,Zk)=>{"use strict";var dne=Wt(),hne=(r,e,t)=>dne(r,e,t)!==0;Zk.exports=hne});var Ld=T((Ewe,eB)=>{"use strict";var _ne=Wt(),Ene=(r,e,t)=>_ne(r,e,t)>=0;eB.exports=Ene});var bd=T((mwe,tB)=>{"use strict";var mne=Wt(),Tne=(r,e,t)=>mne(r,e,t)<=0;tB.exports=Tne});var DS=T((Twe,rB)=>{"use strict";var Sne=MS(),gne=wS(),vne=$l(),yne=Ld(),One=Id(),Ane=bd(),Rne=(r,e,t,o)=>{switch(e){case"===":return typeof r=="object"&&(r=r.version),typeof t=="object"&&(t=t.version),r===t;case"!==":return typeof r=="object"&&(r=r.version),typeof t=="object"&&(t=t.version),r!==t;case"":case"=":case"==":return Sne(r,t,o);case"!=":return gne(r,t,o);case">":return vne(r,t,o);case">=":return yne(r,t,o);case"<":return One(r,t,o);case"<=":return Ane(r,t,o);default:throw new TypeError(`Invalid operator: ${e}`)}};rB.exports=Rne});var iB=T((Swe,nB)=>{"use strict";var Nne=pt(),Cne=ji(),{safeRe:xd,t:Md}=Us(),Pne=(r,e)=>{if(r instanceof Nne)return r;if(typeof r=="number"&&(r=String(r)),typeof r!="string")return null;e=e||{};let t=null;if(!e.rtl)t=r.match(e.includePrerelease?xd[Md.COERCEFULL]:xd[Md.COERCE]);else{let l=e.includePrerelease?xd[Md.COERCERTLFULL]:xd[Md.COERCERTL],c;for(;(c=l.exec(r))&&(!t||t.index+t[0].length!==r.length);)(!t||c.index+c[0].length!==t.index+t[0].length)&&(t=c),l.lastIndex=c.index+c[1].length+c[2].length;l.lastIndex=-1}if(t===null)return null;let o=t[2],s=t[3]||"0",a=t[4]||"0",i=e.includePrerelease&&t[5]?`-${t[5]}`:"",n=e.includePrerelease&&t[6]?`+${t[6]}`:"";return Cne(`${o}.${s}.${a}${i}${n}`,e)};nB.exports=Pne});var sB=T((gwe,oB)=>{"use strict";var US=class{constructor(){this.max=1e3,this.map=new Map}get(e){let t=this.map.get(e);if(t!==void 0)return this.map.delete(e),this.map.set(e,t),t}delete(e){return this.map.delete(e)}set(e,t){if(!this.delete(e)&&t!==void 0){if(this.map.size>=this.max){let s=this.map.keys().next().value;this.delete(s)}this.map.set(e,t)}return this}};oB.exports=US});var Jt=T((vwe,uB)=>{"use strict";var Ine=/\s+/g,kS=class r{constructor(e,t){if(t=bne(t),e instanceof r)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new r(e.raw,t);if(e instanceof BS)return this.raw=e.value,this.set=[[e]],this.formatted=void 0,this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e.trim().replace(Ine," "),this.set=this.raw.split("||").map(o=>this.parseRange(o.trim())).filter(o=>o.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let o=this.set[0];if(this.set=this.set.filter(s=>!lB(s[0])),this.set.length===0)this.set=[o];else if(this.set.length>1){for(let s of this.set)if(s.length===1&&Bne(s[0])){this.set=[s];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let e=0;e<this.set.length;e++){e>0&&(this.formatted+="||");let t=this.set[e];for(let o=0;o<t.length;o++)o>0&&(this.formatted+=" "),this.formatted+=t[o].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(e){let o=((this.options.includePrerelease&&Une)|(this.options.loose&&kne))+":"+e,s=aB.get(o);if(s)return s;let a=this.options.loose,i=a?Rt[Tt.HYPHENRANGELOOSE]:Rt[Tt.HYPHENRANGE];e=e.replace(i,$ne(this.options.includePrerelease)),Le("hyphen replace",e),e=e.replace(Rt[Tt.COMPARATORTRIM],Mne),Le("comparator trim",e),e=e.replace(Rt[Tt.TILDETRIM],wne),Le("tilde trim",e),e=e.replace(Rt[Tt.CARETTRIM],Dne),Le("caret trim",e);let n=e.split(" ").map(f=>Vne(f,this.options)).join(" ").split(/\s+/).map(f=>zne(f,this.options));a&&(n=n.filter(f=>(Le("loose invalid filter",f,this.options),!!f.match(Rt[Tt.COMPARATORLOOSE])))),Le("range list",n);let l=new Map,c=n.map(f=>new BS(f,this.options));for(let f of c){if(lB(f))return[f];l.set(f.value,f)}l.size>1&&l.has("")&&l.delete("");let u=[...l.values()];return aB.set(o,u),u}intersects(e,t){if(!(e instanceof r))throw new TypeError("a Range is required");return this.set.some(o=>cB(o,t)&&e.set.some(s=>cB(s,t)&&o.every(a=>s.every(i=>a.intersects(i,t)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new xne(e,this.options)}catch{return!1}for(let t=0;t<this.set.length;t++)if(Xne(this.set[t],e,this.options))return!0;return!1}};uB.exports=kS;var Lne=sB(),aB=new Lne,bne=Od(),BS=Xl(),Le=zl(),xne=pt(),{safeRe:Rt,t:Tt,comparatorTrimReplace:Mne,tildeTrimReplace:wne,caretTrimReplace:Dne}=Us(),{FLAG_INCLUDE_PRERELEASE:Une,FLAG_LOOSE:kne}=Kl(),lB=r=>r.value==="<0.0.0-0",Bne=r=>r.value==="",cB=(r,e)=>{let t=!0,o=r.slice(),s=o.pop();for(;t&&o.length;)t=o.every(a=>s.intersects(a,e)),s=o.pop();return t},Vne=(r,e)=>(Le("comp",r,e),r=Hne(r,e),Le("caret",r),r=Fne(r,e),Le("tildes",r),r=jne(r,e),Le("xrange",r),r=Kne(r,e),Le("stars",r),r),St=r=>!r||r.toLowerCase()==="x"||r==="*",Fne=(r,e)=>r.trim().split(/\s+/).map(t=>Gne(t,e)).join(" "),Gne=(r,e)=>{let t=e.loose?Rt[Tt.TILDELOOSE]:Rt[Tt.TILDE];return r.replace(t,(o,s,a,i,n)=>{Le("tilde",r,o,s,a,i,n);let l;return St(s)?l="":St(a)?l=`>=${s}.0.0 <${+s+1}.0.0-0`:St(i)?l=`>=${s}.${a}.0 <${s}.${+a+1}.0-0`:n?(Le("replaceTilde pr",n),l=`>=${s}.${a}.${i}-${n} <${s}.${+a+1}.0-0`):l=`>=${s}.${a}.${i} <${s}.${+a+1}.0-0`,Le("tilde return",l),l})},Hne=(r,e)=>r.trim().split(/\s+/).map(t=>qne(t,e)).join(" "),qne=(r,e)=>{Le("caret",r,e);let t=e.loose?Rt[Tt.CARETLOOSE]:Rt[Tt.CARET],o=e.includePrerelease?"-0":"";return r.replace(t,(s,a,i,n,l)=>{Le("caret",r,s,a,i,n,l);let c;return St(a)?c="":St(i)?c=`>=${a}.0.0${o} <${+a+1}.0.0-0`:St(n)?a==="0"?c=`>=${a}.${i}.0${o} <${a}.${+i+1}.0-0`:c=`>=${a}.${i}.0${o} <${+a+1}.0.0-0`:l?(Le("replaceCaret pr",l),a==="0"?i==="0"?c=`>=${a}.${i}.${n}-${l} <${a}.${i}.${+n+1}-0`:c=`>=${a}.${i}.${n}-${l} <${a}.${+i+1}.0-0`:c=`>=${a}.${i}.${n}-${l} <${+a+1}.0.0-0`):(Le("no pr"),a==="0"?i==="0"?c=`>=${a}.${i}.${n}${o} <${a}.${i}.${+n+1}-0`:c=`>=${a}.${i}.${n}${o} <${a}.${+i+1}.0-0`:c=`>=${a}.${i}.${n} <${+a+1}.0.0-0`),Le("caret return",c),c})},jne=(r,e)=>(Le("replaceXRanges",r,e),r.split(/\s+/).map(t=>Yne(t,e)).join(" ")),Yne=(r,e)=>{r=r.trim();let t=e.loose?Rt[Tt.XRANGELOOSE]:Rt[Tt.XRANGE];return r.replace(t,(o,s,a,i,n,l)=>{Le("xRange",r,o,s,a,i,n,l);let c=St(a),u=c||St(i),f=u||St(n),_=f;return s==="="&&_&&(s=""),l=e.includePrerelease?"-0":"",c?s===">"||s==="<"?o="<0.0.0-0":o="*":s&&_?(u&&(i=0),n=0,s===">"?(s=">=",u?(a=+a+1,i=0,n=0):(i=+i+1,n=0)):s==="<="&&(s="<",u?a=+a+1:i=+i+1),s==="<"&&(l="-0"),o=`${s+a}.${i}.${n}${l}`):u?o=`>=${a}.0.0${l} <${+a+1}.0.0-0`:f&&(o=`>=${a}.${i}.0${l} <${a}.${+i+1}.0-0`),Le("xRange return",o),o})},Kne=(r,e)=>(Le("replaceStars",r,e),r.trim().replace(Rt[Tt.STAR],"")),zne=(r,e)=>(Le("replaceGTE0",r,e),r.trim().replace(Rt[e.includePrerelease?Tt.GTE0PRE:Tt.GTE0],"")),$ne=r=>(e,t,o,s,a,i,n,l,c,u,f,_)=>(St(o)?t="":St(s)?t=`>=${o}.0.0${r?"-0":""}`:St(a)?t=`>=${o}.${s}.0${r?"-0":""}`:i?t=`>=${t}`:t=`>=${t}${r?"-0":""}`,St(c)?l="":St(u)?l=`<${+c+1}.0.0-0`:St(f)?l=`<${c}.${+u+1}.0-0`:_?l=`<=${c}.${u}.${f}-${_}`:r?l=`<${c}.${u}.${+f+1}-0`:l=`<=${l}`,`${t} ${l}`.trim()),Xne=(r,e,t)=>{for(let o=0;o<r.length;o++)if(!r[o].test(e))return!1;if(e.prerelease.length&&!t.includePrerelease){for(let o=0;o<r.length;o++)if(Le(r[o].semver),r[o].semver!==BS.ANY&&r[o].semver.prerelease.length>0){let s=r[o].semver;if(s.major===e.major&&s.minor===e.minor&&s.patch===e.patch)return!0}return!1}return!0}});var Xl=T((ywe,EB)=>{"use strict";var Wl=Symbol("SemVer ANY"),GS=class r{static get ANY(){return Wl}constructor(e,t){if(t=fB(t),e instanceof r){if(e.loose===!!t.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),FS("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===Wl?this.value="":this.value=this.operator+this.semver.version,FS("comp",this)}parse(e){let t=this.options.loose?pB[dB.COMPARATORLOOSE]:pB[dB.COMPARATOR],o=e.match(t);if(!o)throw new TypeError(`Invalid comparator: ${e}`);this.operator=o[1]!==void 0?o[1]:"",this.operator==="="&&(this.operator=""),o[2]?this.semver=new hB(o[2],this.options.loose):this.semver=Wl}toString(){return this.value}test(e){if(FS("Comparator.test",e,this.options.loose),this.semver===Wl||e===Wl)return!0;if(typeof e=="string")try{e=new hB(e,this.options)}catch{return!1}return VS(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof r))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new _B(e.value,t).test(this.value):e.operator===""?e.value===""?!0:new _B(this.value,t).test(e.semver):(t=fB(t),t.includePrerelease&&(this.value==="<0.0.0-0"||e.value==="<0.0.0-0")||!t.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||VS(this.semver,"<",e.semver,t)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||VS(this.semver,">",e.semver,t)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}};EB.exports=GS;var fB=Od(),{safeRe:pB,t:dB}=Us(),VS=DS(),FS=zl(),hB=pt(),_B=Jt()});var Jl=T((Owe,mB)=>{"use strict";var Wne=Jt(),Jne=(r,e,t)=>{try{e=new Wne(e,t)}catch{return!1}return e.test(r)};mB.exports=Jne});var SB=T((Awe,TB)=>{"use strict";var Qne=Jt(),Zne=(r,e)=>new Qne(r,e).set.map(t=>t.map(o=>o.value).join(" ").trim().split(" "));TB.exports=Zne});var vB=T((Rwe,gB)=>{"use strict";var eie=pt(),tie=Jt(),rie=(r,e,t)=>{let o=null,s=null,a=null;try{a=new tie(e,t)}catch{return null}return r.forEach(i=>{a.test(i)&&(!o||s.compare(i)===-1)&&(o=i,s=new eie(o,t))}),o};gB.exports=rie});var OB=T((Nwe,yB)=>{"use strict";var nie=pt(),iie=Jt(),oie=(r,e,t)=>{let o=null,s=null,a=null;try{a=new iie(e,t)}catch{return null}return r.forEach(i=>{a.test(i)&&(!o||s.compare(i)===1)&&(o=i,s=new nie(o,t))}),o};yB.exports=oie});var NB=T((Cwe,RB)=>{"use strict";var HS=pt(),sie=Jt(),AB=$l(),aie=(r,e)=>{r=new sie(r,e);let t=new HS("0.0.0");if(r.test(t)||(t=new HS("0.0.0-0"),r.test(t)))return t;t=null;for(let o=0;o<r.set.length;++o){let s=r.set[o],a=null;s.forEach(i=>{let n=new HS(i.semver.version);switch(i.operator){case">":n.prerelease.length===0?n.patch++:n.prerelease.push(0),n.raw=n.format();case"":case">=":(!a||AB(n,a))&&(a=n);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${i.operator}`)}}),a&&(!t||AB(t,a))&&(t=a)}return t&&r.test(t)?t:null};RB.exports=aie});var PB=T((Pwe,CB)=>{"use strict";var lie=Jt(),cie=(r,e)=>{try{return new lie(r,e).range||"*"}catch{return null}};CB.exports=cie});var wd=T((Iwe,xB)=>{"use strict";var uie=pt(),bB=Xl(),{ANY:fie}=bB,pie=Jt(),die=Jl(),IB=$l(),LB=Id(),hie=bd(),_ie=Ld(),Eie=(r,e,t,o)=>{r=new uie(r,o),e=new pie(e,o);let s,a,i,n,l;switch(t){case">":s=IB,a=hie,i=LB,n=">",l=">=";break;case"<":s=LB,a=_ie,i=IB,n="<",l="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(die(r,e,o))return!1;for(let c=0;c<e.set.length;++c){let u=e.set[c],f=null,_=null;if(u.forEach(m=>{m.semver===fie&&(m=new bB(">=0.0.0")),f=f||m,_=_||m,s(m.semver,f.semver,o)?f=m:i(m.semver,_.semver,o)&&(_=m)}),f.operator===n||f.operator===l||(!_.operator||_.operator===n)&&a(r,_.semver))return!1;if(_.operator===l&&i(r,_.semver))return!1}return!0};xB.exports=Eie});var wB=T((Lwe,MB)=>{"use strict";var mie=wd(),Tie=(r,e,t)=>mie(r,e,">",t);MB.exports=Tie});var UB=T((bwe,DB)=>{"use strict";var Sie=wd(),gie=(r,e,t)=>Sie(r,e,"<",t);DB.exports=gie});var VB=T((xwe,BB)=>{"use strict";var kB=Jt(),vie=(r,e,t)=>(r=new kB(r,t),e=new kB(e,t),r.intersects(e,t));BB.exports=vie});var GB=T((Mwe,FB)=>{"use strict";var yie=Jl(),Oie=Wt();FB.exports=(r,e,t)=>{let o=[],s=null,a=null,i=r.sort((u,f)=>Oie(u,f,t));for(let u of i)yie(u,e,t)?(a=u,s||(s=u)):(a&&o.push([s,a]),a=null,s=null);s&&o.push([s,null]);let n=[];for(let[u,f]of o)u===f?n.push(u):!f&&u===i[0]?n.push("*"):f?u===i[0]?n.push(`<=${f}`):n.push(`${u} - ${f}`):n.push(`>=${u}`);let l=n.join(" || "),c=typeof e.raw=="string"?e.raw:String(e);return l.length<c.length?l:e}});var zB=T((wwe,KB)=>{"use strict";var HB=Jt(),jS=Xl(),{ANY:qS}=jS,Ql=Jl(),YS=Wt(),Aie=(r,e,t={})=>{if(r===e)return!0;r=new HB(r,t),e=new HB(e,t);let o=!1;e:for(let s of r.set){for(let a of e.set){let i=Nie(s,a,t);if(o=o||i!==null,i)continue e}if(o)return!1}return!0},Rie=[new jS(">=0.0.0-0")],qB=[new jS(">=0.0.0")],Nie=(r,e,t)=>{if(r===e)return!0;if(r.length===1&&r[0].semver===qS){if(e.length===1&&e[0].semver===qS)return!0;t.includePrerelease?r=Rie:r=qB}if(e.length===1&&e[0].semver===qS){if(t.includePrerelease)return!0;e=qB}let o=new Set,s,a;for(let m of r)m.operator===">"||m.operator===">="?s=jB(s,m,t):m.operator==="<"||m.operator==="<="?a=YB(a,m,t):o.add(m.semver);if(o.size>1)return null;let i;if(s&&a){if(i=YS(s.semver,a.semver,t),i>0)return null;if(i===0&&(s.operator!==">="||a.operator!=="<="))return null}for(let m of o){if(s&&!Ql(m,String(s),t)||a&&!Ql(m,String(a),t))return null;for(let O of e)if(!Ql(m,String(O),t))return!1;return!0}let n,l,c,u,f=a&&!t.includePrerelease&&a.semver.prerelease.length?a.semver:!1,_=s&&!t.includePrerelease&&s.semver.prerelease.length?s.semver:!1;f&&f.prerelease.length===1&&a.operator==="<"&&f.prerelease[0]===0&&(f=!1);for(let m of e){if(u=u||m.operator===">"||m.operator===">=",c=c||m.operator==="<"||m.operator==="<=",s){if(_&&m.semver.prerelease&&m.semver.prerelease.length&&m.semver.major===_.major&&m.semver.minor===_.minor&&m.semver.patch===_.patch&&(_=!1),m.operator===">"||m.operator===">="){if(n=jB(s,m,t),n===m&&n!==s)return!1}else if(s.operator===">="&&!Ql(s.semver,String(m),t))return!1}if(a){if(f&&m.semver.prerelease&&m.semver.prerelease.length&&m.semver.major===f.major&&m.semver.minor===f.minor&&m.semver.patch===f.patch&&(f=!1),m.operator==="<"||m.operator==="<="){if(l=YB(a,m,t),l===m&&l!==a)return!1}else if(a.operator==="<="&&!Ql(a.semver,String(m),t))return!1}if(!m.operator&&(a||s)&&i!==0)return!1}return!(s&&c&&!a&&i!==0||a&&u&&!s&&i!==0||_||f)},jB=(r,e,t)=>{if(!r)return e;let o=YS(r.semver,e.semver,t);return o>0?r:o<0||e.operator===">"&&r.operator===">="?e:r},YB=(r,e,t)=>{if(!r)return e;let o=YS(r.semver,e.semver,t);return o<0?r:o>0||e.operator==="<"&&r.operator==="<="?e:r};KB.exports=Aie});var zS=T((Dwe,WB)=>{"use strict";var KS=Us(),$B=Kl(),Cie=pt(),XB=bS(),Pie=ji(),Iie=vk(),Lie=Ok(),bie=Nk(),xie=Ik(),Mie=bk(),wie=Mk(),Die=Dk(),Uie=kk(),kie=Wt(),Bie=Gk(),Vie=qk(),Fie=Pd(),Gie=zk(),Hie=Xk(),qie=$l(),jie=Id(),Yie=MS(),Kie=wS(),zie=Ld(),$ie=bd(),Xie=DS(),Wie=iB(),Jie=Xl(),Qie=Jt(),Zie=Jl(),eoe=SB(),toe=vB(),roe=OB(),noe=NB(),ioe=PB(),ooe=wd(),soe=wB(),aoe=UB(),loe=VB(),coe=GB(),uoe=zB();WB.exports={parse:Pie,valid:Iie,clean:Lie,inc:bie,diff:xie,major:Mie,minor:wie,patch:Die,prerelease:Uie,compare:kie,rcompare:Bie,compareLoose:Vie,compareBuild:Fie,sort:Gie,rsort:Hie,gt:qie,lt:jie,eq:Yie,neq:Kie,gte:zie,lte:$ie,cmp:Xie,coerce:Wie,Comparator:Jie,Range:Qie,satisfies:Zie,toComparators:eoe,maxSatisfying:toe,minSatisfying:roe,minVersion:noe,validRange:ioe,outside:ooe,gtr:soe,ltr:aoe,intersects:loe,simplifyRange:coe,subset:uoe,SemVer:Cie,re:KS.re,src:KS.src,tokens:KS.t,SEMVER_SPEC_VERSION:$B.SEMVER_SPEC_VERSION,RELEASE_TYPES:$B.RELEASE_TYPES,compareIdentifiers:XB.compareIdentifiers,rcompareIdentifiers:XB.rcompareIdentifiers}});function poe(r){var e=decodeURIComponent(r).split(":");if(e.length!==4)return null;var t=QB(e,4),o=t[0],s=t[1],a=t[3],i=o.padStart(32,"0"),n=s.padStart(16,"0"),l=foe.test(a)?parseInt(a,16)&1:1;return{traceId:i,spanId:n,isRemote:!0,traceFlags:l}}var JB,QB,$S,Dd,ZB,foe,eV=p(()=>{P();xr();JB=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],o=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&o>=r.length&&(r=void 0),{value:r&&r[o++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},QB=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var o=t.call(r),s,a=[],i;try{for(;(e===void 0||e-- >0)&&!(s=o.next()).done;)a.push(s.value)}catch(n){i={error:n}}finally{try{s&&!s.done&&(t=o.return)&&t.call(o)}finally{if(i)throw i.error}}return a},$S="uber-trace-id",Dd="uberctx",ZB=function(){function r(e){typeof e=="string"?(this._jaegerTraceHeader=e,this._jaegerBaggageHeaderPrefix=Dd):(this._jaegerTraceHeader=(e==null?void 0:e.customTraceHeader)||$S,this._jaegerBaggageHeaderPrefix=(e==null?void 0:e.customBaggageHeaderPrefix)||Dd)}return r.prototype.inject=function(e,t,o){var s,a,i=ie.getSpanContext(e),n=Ue.getBaggage(e);if(i&&At(e)===!1){var l="0"+(i.traceFlags||se.NONE).toString(16);o.set(t,this._jaegerTraceHeader,i.traceId+":"+i.spanId+":0:"+l)}if(n)try{for(var c=JB(n.getAllEntries()),u=c.next();!u.done;u=c.next()){var f=QB(u.value,2),_=f[0],m=f[1];o.set(t,this._jaegerBaggageHeaderPrefix+"-"+_,encodeURIComponent(m.value))}}catch(O){s={error:O}}finally{try{u&&!u.done&&(a=c.return)&&a.call(c)}finally{if(s)throw s.error}}},r.prototype.extract=function(e,t,o){var s,a,i=this,n,l=o.get(t,this._jaegerTraceHeader),c=Array.isArray(l)?l[0]:l,u=o.keys(t).filter(function(I){return I.startsWith(i._jaegerBaggageHeaderPrefix+"-")}).map(function(I){var M=o.get(t,I);return{key:I.substring(i._jaegerBaggageHeaderPrefix.length+1),value:Array.isArray(M)?M[0]:M}}),f=e;if(typeof c=="string"){var _=poe(c);_&&(f=ie.setSpanContext(f,_))}if(u.length===0)return f;var m=(n=Ue.getBaggage(e))!==null&&n!==void 0?n:Ue.createBaggage();try{for(var O=JB(u),y=O.next();!y.done;y=O.next()){var A=y.value;A.value!==void 0&&(m=m.setEntry(A.key,{value:decodeURIComponent(A.value)}))}}catch(I){s={error:I}}finally{try{y&&!y.done&&(a=O.return)&&a.call(O)}finally{if(s)throw s.error}}return f=Ue.setBaggage(f,m),f},r.prototype.fields=function(){return[this._jaegerTraceHeader]},r}(),foe=/^[0-9a-f]{1,2}$/i});var tV={};Ae(tV,{JaegerPropagator:()=>ZB,UBER_BAGGAGE_HEADER_PREFIX:()=>Dd,UBER_TRACE_ID_HEADER:()=>$S});var rV=p(()=>{eV()});var oV=T(Bd=>{"use strict";Object.defineProperty(Bd,"__esModule",{value:!0});Bd.NodeTracerProvider=void 0;var nV=GD(),Ud=(zD(),ee(KD)),iV=(qi(),ee(Ds)),doe=zS(),hoe=(rV(),ee(tV)),kd=class extends iV.BasicTracerProvider{constructor(e={}){super(e)}register(e={}){if(e.contextManager===void 0){let t=doe.gte(process.version,"14.8.0")?nV.AsyncLocalStorageContextManager:nV.AsyncHooksContextManager;e.contextManager=new t,e.contextManager.enable()}super.register(e)}};Bd.NodeTracerProvider=kd;kd._registeredPropagators=new Map([...iV.BasicTracerProvider._registeredPropagators,["b3",()=>new Ud.B3Propagator({injectEncoding:Ud.B3InjectEncoding.SINGLE_HEADER})],["b3multi",()=>new Ud.B3Propagator({injectEncoding:Ud.B3InjectEncoding.MULTI_HEADER})],["jaeger",()=>new hoe.JaegerPropagator]])});var XS=T(fe=>{"use strict";Object.defineProperty(fe,"__esModule",{value:!0});fe.Tracer=fe.TraceIdRatioBasedSampler=fe.Span=fe.SimpleSpanProcessor=fe.SamplingDecision=fe.RandomIdGenerator=fe.ParentBasedSampler=fe.NoopSpanProcessor=fe.InMemorySpanExporter=fe.ForceFlushState=fe.ConsoleSpanExporter=fe.BatchSpanProcessor=fe.BasicTracerProvider=fe.AlwaysOnSampler=fe.AlwaysOffSampler=fe.NodeTracerProvider=void 0;var _oe=oV();Object.defineProperty(fe,"NodeTracerProvider",{enumerable:!0,get:function(){return _oe.NodeTracerProvider}});var gt=(qi(),ee(Ds));Object.defineProperty(fe,"AlwaysOffSampler",{enumerable:!0,get:function(){return gt.AlwaysOffSampler}});Object.defineProperty(fe,"AlwaysOnSampler",{enumerable:!0,get:function(){return gt.AlwaysOnSampler}});Object.defineProperty(fe,"BasicTracerProvider",{enumerable:!0,get:function(){return gt.BasicTracerProvider}});Object.defineProperty(fe,"BatchSpanProcessor",{enumerable:!0,get:function(){return gt.BatchSpanProcessor}});Object.defineProperty(fe,"ConsoleSpanExporter",{enumerable:!0,get:function(){return gt.ConsoleSpanExporter}});Object.defineProperty(fe,"ForceFlushState",{enumerable:!0,get:function(){return gt.ForceFlushState}});Object.defineProperty(fe,"InMemorySpanExporter",{enumerable:!0,get:function(){return gt.InMemorySpanExporter}});Object.defineProperty(fe,"NoopSpanProcessor",{enumerable:!0,get:function(){return gt.NoopSpanProcessor}});Object.defineProperty(fe,"ParentBasedSampler",{enumerable:!0,get:function(){return gt.ParentBasedSampler}});Object.defineProperty(fe,"RandomIdGenerator",{enumerable:!0,get:function(){return gt.RandomIdGenerator}});Object.defineProperty(fe,"SamplingDecision",{enumerable:!0,get:function(){return gt.SamplingDecision}});Object.defineProperty(fe,"SimpleSpanProcessor",{enumerable:!0,get:function(){return gt.SimpleSpanProcessor}});Object.defineProperty(fe,"Span",{enumerable:!0,get:function(){return gt.Span}});Object.defineProperty(fe,"TraceIdRatioBasedSampler",{enumerable:!0,get:function(){return gt.TraceIdRatioBasedSampler}});Object.defineProperty(fe,"Tracer",{enumerable:!0,get:function(){return gt.Tracer}})});function Bs(){return`unknown_service:${process.argv0}`}var sV=p(()=>{});var aV=p(()=>{sV()});var WS=p(()=>{aV()});var Ce,dn=p(()=>{P();Ve();xr();WS();Ce=class r{constructor(e,t){var o;this._attributes=e,this.asyncAttributesPending=t!=null,this._syncAttributes=(o=this._attributes)!==null&&o!==void 0?o:{},this._asyncAttributesPromise=t==null?void 0:t.then(s=>(this._attributes=Object.assign({},this._attributes,s),this.asyncAttributesPending=!1,s),s=>(S.debug("a resource's async attributes promise rejected: %s",s),this.asyncAttributesPending=!1,{}))}static empty(){return r.EMPTY}static default(){return new r({[at]:Bs(),[ge]:Ln[ge],[Se]:Ln[Se],[ve]:Ln[ve]})}get attributes(){var e;return this.asyncAttributesPending&&S.error("Accessing resource attributes before async attributes settled"),(e=this._attributes)!==null&&e!==void 0?e:{}}async waitForAsyncAttributes(){this.asyncAttributesPending&&await this._asyncAttributesPromise}merge(e){var t;if(!e)return this;let o=Object.assign(Object.assign({},this._syncAttributes),(t=e._syncAttributes)!==null&&t!==void 0?t:e.attributes);if(!this._asyncAttributesPromise&&!e._asyncAttributesPromise)return new r(o);let s=Promise.all([this._asyncAttributesPromise,e._asyncAttributesPromise]).then(([a,i])=>{var n;return Object.assign(Object.assign(Object.assign(Object.assign({},this._syncAttributes),a),(n=e._syncAttributes)!==null&&n!==void 0?n:e.attributes),i)});return new r(o,s)}};Ce.EMPTY=new Ce({})});var lV,cV,JS=p(()=>{lV=r=>{switch(r){case"arm":return"arm32";case"ppc":return"ppc32";case"x64":return"amd64";default:return r}},cV=r=>{switch(r){case"sunos":return"solaris";case"win32":return"windows";default:return r}}});import*as uV from"child_process";import*as fV from"util";var Vs,Vd=p(()=>{Vs=fV.promisify(uV.exec)});var pV={};Ae(pV,{getMachineId:()=>Eoe});async function Eoe(){try{let e=(await Vs('ioreg -rd1 -c "IOPlatformExpertDevice"')).stdout.split(`
`).find(o=>o.includes("IOPlatformUUID"));if(!e)return"";let t=e.split('" = "');if(t.length===2)return t[1].slice(0,-1)}catch(r){S.debug(`error reading machine id: ${r}`)}return""}var dV=p(()=>{Vd();P()});var hV={};Ae(hV,{getMachineId:()=>Toe});import{promises as moe}from"fs";async function Toe(){let r=["/etc/machine-id","/var/lib/dbus/machine-id"];for(let e of r)try{return(await moe.readFile(e,{encoding:"utf8"})).trim()}catch(t){S.debug(`error reading machine id: ${t}`)}return""}var _V=p(()=>{P()});var EV={};Ae(EV,{getMachineId:()=>goe});import{promises as Soe}from"fs";async function goe(){try{return(await Soe.readFile("/etc/hostid",{encoding:"utf8"})).trim()}catch(r){S.debug(`error reading machine id: ${r}`)}try{return(await Vs("kenv -q smbios.system.uuid")).stdout.trim()}catch(r){S.debug(`error reading machine id: ${r}`)}return""}var mV=p(()=>{Vd();P()});var TV={};Ae(TV,{getMachineId:()=>voe});import*as Fd from"process";async function voe(){let r="QUERY HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Cryptography /v MachineGuid",e="%windir%\\System32\\REG.exe";Fd.arch==="ia32"&&"PROCESSOR_ARCHITEW6432"in Fd.env&&(e="%windir%\\sysnative\\cmd.exe /c "+e);try{let o=(await Vs(`${e} ${r}`)).stdout.split("REG_SZ");if(o.length===2)return o[1].trim()}catch(t){S.debug(`error reading machine id: ${t}`)}return""}var SV=p(()=>{Vd();P()});var gV={};Ae(gV,{getMachineId:()=>yoe});async function yoe(){return S.debug("could not read machine-id: unsupported platform"),""}var vV=p(()=>{P()});import*as yV from"process";var Yi,OV=p(()=>{switch(yV.platform){case"darwin":({getMachineId:Yi}=(dV(),ee(pV)));break;case"linux":({getMachineId:Yi}=(_V(),ee(hV)));break;case"freebsd":({getMachineId:Yi}=(mV(),ee(EV)));break;case"win32":({getMachineId:Yi}=(SV(),ee(TV)));break;default:({getMachineId:Yi}=(vV(),ee(gV)))}});import{arch as Ooe,hostname as Aoe}from"os";var QS,Ki,ZS=p(()=>{Ve();dn();JS();OV();QS=class{detect(e){let t={[Ym]:Aoe(),[Km]:lV(Ooe())};return new Ce(t,this._getAsyncAttributes())}_getAsyncAttributes(){return Yi().then(e=>{let t={};return e&&(t[jm]=e),t})}},Ki=new QS});var eg,Zl,AV=p(()=>{ZS();eg=class{detect(e){return Promise.resolve(Ki.detect(e))}},Zl=new eg});import{platform as Roe,release as Noe}from"os";var tg,zi,rg=p(()=>{Ve();dn();JS();tg=class{detect(e){let t={[zm]:cV(Roe()),[$m]:Noe()};return new Ce(t)}},zi=new tg});var ng,ec,RV=p(()=>{rg();ng=class{detect(e){return Promise.resolve(zi.detect(e))}},ec=new ng});import*as NV from"os";var ig,$i,og=p(()=>{P();Ve();dn();ig=class{detect(e){let t={[Xm]:process.pid,[Wm]:process.title,[Jm]:process.execPath,[Zm]:[process.argv[0],...process.execArgv,...process.argv.slice(1)],[Fo]:process.versions.node,[st]:"nodejs",[tl]:"Node.js"};process.argv.length>1&&(t[Qm]=process.argv[1]);try{let o=NV.userInfo();t[eT]=o.username}catch(o){S.debug(`error obtaining process owner: ${o}`)}return new Ce(t)}},$i=new ig});var sg,tc,CV=p(()=>{og();sg=class{detect(e){return Promise.resolve($i.detect(e))}},tc=new sg});import{randomUUID as Coe}from"crypto";var ag,rc,PV=p(()=>{Ve();dn();ag=class{detect(e){let t={[tT]:Coe()};return new Ce(t)}},rc=new ag});var IV=p(()=>{AV();ZS();RV();rg();CV();og();PV()});var LV=p(()=>{IV()});var lg,nc,cg=p(()=>{Ve();P();dn();lg=class{detect(e){var t,o,s;if(!(typeof navigator<"u"&&((o=(t=global.process)===null||t===void 0?void 0:t.versions)===null||o===void 0?void 0:o.node)===void 0&&((s=global.Bun)===null||s===void 0?void 0:s.version)===void 0))return Ce.empty();let i={[st]:"browser",[tl]:"Web Browser",[Fo]:navigator.userAgent};return this._getResourceAttributes(i,e)}_getResourceAttributes(e,t){return e[Fo]===""?(S.debug("BrowserDetector failed: Unable to find required browser resources. "),Ce.empty()):new Ce(Object.assign({},e))}},nc=new lg});var ug,fg,bV=p(()=>{cg();ug=class{detect(e){return Promise.resolve(nc.detect(e))}},fg=new ug});var pg,ic,dg=p(()=>{P();xr();Ve();dn();pg=class{constructor(){this._MAX_LENGTH=255,this._COMMA_SEPARATOR=",",this._LABEL_KEY_VALUE_SPLITTER="=",this._ERROR_MESSAGE_INVALID_CHARS="should be a ASCII string with a length greater than 0 and not exceed "+this._MAX_LENGTH+" characters.",this._ERROR_MESSAGE_INVALID_VALUE="should be a ASCII string with a length not exceed "+this._MAX_LENGTH+" characters."}detect(e){let t={},o=jo(),s=o.OTEL_RESOURCE_ATTRIBUTES,a=o.OTEL_SERVICE_NAME;if(s)try{let i=this._parseResourceAttributes(s);Object.assign(t,i)}catch(i){S.debug(`EnvDetector failed: ${i.message}`)}return a&&(t[at]=a),new Ce(t)}_parseResourceAttributes(e){if(!e)return{};let t={},o=e.split(this._COMMA_SEPARATOR,-1);for(let s of o){let a=s.split(this._LABEL_KEY_VALUE_SPLITTER,-1);if(a.length!==2)continue;let[i,n]=a;if(i=i.trim(),n=n.trim().split(/^"|"$/).join(""),!this._isValidAndNotEmpty(i))throw new Error(`Attribute key ${this._ERROR_MESSAGE_INVALID_CHARS}`);if(!this._isValid(n))throw new Error(`Attribute value ${this._ERROR_MESSAGE_INVALID_VALUE}`);t[i]=decodeURIComponent(n)}return t}_isValid(e){return e.length<=this._MAX_LENGTH&&this._isBaggageOctetString(e)}_isBaggageOctetString(e){for(let t=0;t<e.length;t++){let o=e.charCodeAt(t);if(o<33||o===44||o===59||o===92||o>126)return!1}return!0}_isValidAndNotEmpty(e){return e.length>0&&this._isValid(e)}},ic=new pg});var hg,_g,xV=p(()=>{dg();hg=class{detect(e){return Promise.resolve(ic.detect(e))}},_g=new hg});var MV=p(()=>{LV();bV();xV();cg();dg()});var wV,DV=p(()=>{wV=r=>r!==null&&typeof r=="object"&&typeof r.then=="function"});var UV,kV,BV,VV=p(()=>{dn();P();DV();UV=async(r={})=>{let e=await Promise.all((r.detectors||[]).map(async t=>{try{let o=await t.detect(r);return S.debug(`${t.constructor.name} found resource.`,o),o}catch(o){return S.debug(`${t.constructor.name} failed: ${o.message}`),Ce.empty()}}));return BV(e),e.reduce((t,o)=>t.merge(o),Ce.empty())},kV=(r={})=>{var e;let t=((e=r.detectors)!==null&&e!==void 0?e:[]).map(s=>{try{let a=s.detect(r),i;if(wV(a)){let n=async()=>{var l;let c=await a;return await((l=c.waitForAsyncAttributes)===null||l===void 0?void 0:l.call(c)),c.attributes};i=new Ce({},n())}else i=a;return i.waitForAsyncAttributes?i.waitForAsyncAttributes().then(()=>S.debug(`${s.constructor.name} found resource.`,i)):S.debug(`${s.constructor.name} found resource.`,i),i}catch(a){return S.error(`${s.constructor.name} failed: ${a.message}`),Ce.empty()}}),o=t.reduce((s,a)=>s.merge(a),Ce.empty());return o.waitForAsyncAttributes&&o.waitForAsyncAttributes().then(()=>{BV(t)}),o},BV=r=>{r.forEach(e=>{if(Object.keys(e.attributes).length>0){let t=JSON.stringify(e.attributes,null,4);S.verbose(t)}})}});var Gd={};Ae(Gd,{Resource:()=>Ce,browserDetector:()=>fg,browserDetectorSync:()=>nc,defaultServiceName:()=>Bs,detectResources:()=>UV,detectResourcesSync:()=>kV,envDetector:()=>_g,envDetectorSync:()=>ic,hostDetector:()=>Zl,hostDetectorSync:()=>Ki,osDetector:()=>ec,osDetectorSync:()=>zi,processDetector:()=>tc,processDetectorSync:()=>$i,serviceInstanceIdDetectorSync:()=>rc});var Hd=p(()=>{dn();WS();MV();VV()});function FV(r,e,t,o){for(let s=0,a=r.length;s<a;s++){let i=r[s];e&&i.setTracerProvider(e),t&&i.setMeterProvider(t),o&&i.setLoggerProvider&&i.setLoggerProvider(o),i.getConfig().enabled||i.enable()}}function GV(r){r.forEach(e=>e.disable())}var HV=p(()=>{});function qV(r){var e,t;let o=r.tracerProvider||ie.getTracerProvider(),s=r.meterProvider||Oi.getMeterProvider(),a=r.loggerProvider||_l.getLoggerProvider(),i=(t=(e=r.instrumentations)===null||e===void 0?void 0:e.flat())!==null&&t!==void 0?t:[];return FV(i,o,s,a),()=>{GV(i)}}var jV=p(()=>{P();El();HV()});var mg=T((RDe,zV)=>{"use strict";function Eg(r){return typeof r=="function"}var vt=console.error.bind(console);function oc(r,e,t){var o=!!r[e]&&r.propertyIsEnumerable(e);Object.defineProperty(r,e,{configurable:!0,enumerable:o,writable:!0,value:t})}function sc(r){r&&r.logger&&(Eg(r.logger)?vt=r.logger:vt("new logger isn't a function, not replacing"))}function YV(r,e,t){if(!r||!r[e]){vt("no original function "+e+" to wrap");return}if(!t){vt("no wrapper function"),vt(new Error().stack);return}if(!Eg(r[e])||!Eg(t)){vt("original object and wrapper must be functions");return}var o=r[e],s=t(o,e);return oc(s,"__original",o),oc(s,"__unwrap",function(){r[e]===s&&oc(r,e,o)}),oc(s,"__wrapped",!0),oc(r,e,s),s}function Poe(r,e,t){if(r)Array.isArray(r)||(r=[r]);else{vt("must provide one or more modules to patch"),vt(new Error().stack);return}if(!(e&&Array.isArray(e))){vt("must provide one or more functions to wrap on modules");return}r.forEach(function(o){e.forEach(function(s){YV(o,s,t)})})}function KV(r,e){if(!r||!r[e]){vt("no function to unwrap."),vt(new Error().stack);return}if(!r[e].__unwrap)vt("no original to unwrap to -- has "+e+" already been unwrapped?");else return r[e].__unwrap()}function Ioe(r,e){if(r)Array.isArray(r)||(r=[r]);else{vt("must provide one or more modules to patch"),vt(new Error().stack);return}if(!(e&&Array.isArray(e))){vt("must provide one or more functions to unwrap on modules");return}r.forEach(function(t){e.forEach(function(o){KV(t,o)})})}sc.wrap=YV;sc.massWrap=Poe;sc.unwrap=KV;sc.massUnwrap=Ioe;zV.exports=sc});var Kn,qd,$V=p(()=>{P();El();Kn=Nn(mg()),qd=class{constructor(e,t,o){this.instrumentationName=e,this.instrumentationVersion=t,this._config={},this._wrap=Kn.wrap,this._unwrap=Kn.unwrap,this._massWrap=Kn.massWrap,this._massUnwrap=Kn.massUnwrap,this.setConfig(o),this._diag=S.createComponentLogger({namespace:e}),this._tracer=ie.getTracer(e,t),this._meter=Oi.getMeter(e,t),this._logger=_l.getLogger(e,t),this._updateMetricInstruments()}get meter(){return this._meter}setMeterProvider(e){this._meter=e.getMeter(this.instrumentationName,this.instrumentationVersion),this._updateMetricInstruments()}get logger(){return this._logger}setLoggerProvider(e){this._logger=e.getLogger(this.instrumentationName,this.instrumentationVersion)}getModuleDefinitions(){var e;let t=(e=this.init())!==null&&e!==void 0?e:[];return Array.isArray(t)?t:[t]}_updateMetricInstruments(){}getConfig(){return this._config}setConfig(e){this._config=Object.assign({enabled:!0},e)}setTracerProvider(e){this._tracer=e.getTracer(this.instrumentationName,this.instrumentationVersion)}get tracer(){return this._tracer}_runSpanCustomizationHook(e,t,o,s){if(e)try{e(o,s)}catch(a){this._diag.error("Error running span customization hook due to exception in handler",{triggerName:t},a)}}}});var WV=T((IDe,XV)=>{var Fs=1e3,Gs=Fs*60,Hs=Gs*60,Xi=Hs*24,Loe=Xi*7,boe=Xi*365.25;XV.exports=function(r,e){e=e||{};var t=typeof r;if(t==="string"&&r.length>0)return xoe(r);if(t==="number"&&isFinite(r))return e.long?woe(r):Moe(r);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(r))};function xoe(r){if(r=String(r),!(r.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(r);if(e){var t=parseFloat(e[1]),o=(e[2]||"ms").toLowerCase();switch(o){case"years":case"year":case"yrs":case"yr":case"y":return t*boe;case"weeks":case"week":case"w":return t*Loe;case"days":case"day":case"d":return t*Xi;case"hours":case"hour":case"hrs":case"hr":case"h":return t*Hs;case"minutes":case"minute":case"mins":case"min":case"m":return t*Gs;case"seconds":case"second":case"secs":case"sec":case"s":return t*Fs;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return t;default:return}}}}function Moe(r){var e=Math.abs(r);return e>=Xi?Math.round(r/Xi)+"d":e>=Hs?Math.round(r/Hs)+"h":e>=Gs?Math.round(r/Gs)+"m":e>=Fs?Math.round(r/Fs)+"s":r+"ms"}function woe(r){var e=Math.abs(r);return e>=Xi?jd(r,e,Xi,"day"):e>=Hs?jd(r,e,Hs,"hour"):e>=Gs?jd(r,e,Gs,"minute"):e>=Fs?jd(r,e,Fs,"second"):r+" ms"}function jd(r,e,t,o){var s=e>=t*1.5;return Math.round(r/t)+" "+o+(s?"s":"")}});var Tg=T((LDe,JV)=>{function Doe(r){t.debug=t,t.default=t,t.coerce=l,t.disable=i,t.enable=s,t.enabled=n,t.humanize=WV(),t.destroy=c,Object.keys(r).forEach(u=>{t[u]=r[u]}),t.names=[],t.skips=[],t.formatters={};function e(u){let f=0;for(let _=0;_<u.length;_++)f=(f<<5)-f+u.charCodeAt(_),f|=0;return t.colors[Math.abs(f)%t.colors.length]}t.selectColor=e;function t(u){let f,_=null,m,O;function y(...A){if(!y.enabled)return;let I=y,M=Number(new Date),F=M-(f||M);I.diff=F,I.prev=f,I.curr=M,f=M,A[0]=t.coerce(A[0]),typeof A[0]!="string"&&A.unshift("%O");let N=0;A[0]=A[0].replace(/%([a-zA-Z%])/g,(B,G)=>{if(B==="%%")return"%";N++;let te=t.formatters[G];if(typeof te=="function"){let $=A[N];B=te.call(I,$),A.splice(N,1),N--}return B}),t.formatArgs.call(I,A),(I.log||t.log).apply(I,A)}return y.namespace=u,y.useColors=t.useColors(),y.color=t.selectColor(u),y.extend=o,y.destroy=t.destroy,Object.defineProperty(y,"enabled",{enumerable:!0,configurable:!1,get:()=>_!==null?_:(m!==t.namespaces&&(m=t.namespaces,O=t.enabled(u)),O),set:A=>{_=A}}),typeof t.init=="function"&&t.init(y),y}function o(u,f){let _=t(this.namespace+(typeof f>"u"?":":f)+u);return _.log=this.log,_}function s(u){t.save(u),t.namespaces=u,t.names=[],t.skips=[];let f=(typeof u=="string"?u:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(let _ of f)_[0]==="-"?t.skips.push(_.slice(1)):t.names.push(_)}function a(u,f){let _=0,m=0,O=-1,y=0;for(;_<u.length;)if(m<f.length&&(f[m]===u[_]||f[m]==="*"))f[m]==="*"?(O=m,y=_,m++):(_++,m++);else if(O!==-1)m=O+1,y++,_=y;else return!1;for(;m<f.length&&f[m]==="*";)m++;return m===f.length}function i(){let u=[...t.names,...t.skips.map(f=>"-"+f)].join(",");return t.enable(""),u}function n(u){for(let f of t.skips)if(a(u,f))return!1;for(let f of t.names)if(a(u,f))return!0;return!1}function l(u){return u instanceof Error?u.stack||u.message:u}function c(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return t.enable(t.load()),t}JV.exports=Doe});var QV=T((Nt,Yd)=>{Nt.formatArgs=koe;Nt.save=Boe;Nt.load=Voe;Nt.useColors=Uoe;Nt.storage=Foe();Nt.destroy=(()=>{let r=!1;return()=>{r||(r=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();Nt.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function Uoe(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let r;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(r=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(r[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function koe(r){if(r[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+r[0]+(this.useColors?"%c ":" ")+"+"+Yd.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;r.splice(1,0,e,"color: inherit");let t=0,o=0;r[0].replace(/%[a-zA-Z%]/g,s=>{s!=="%%"&&(t++,s==="%c"&&(o=t))}),r.splice(o,0,e)}Nt.log=console.debug||console.log||(()=>{});function Boe(r){try{r?Nt.storage.setItem("debug",r):Nt.storage.removeItem("debug")}catch{}}function Voe(){let r;try{r=Nt.storage.getItem("debug")||Nt.storage.getItem("DEBUG")}catch{}return!r&&typeof process<"u"&&"env"in process&&(r=process.env.DEBUG),r}function Foe(){try{return localStorage}catch{}}Yd.exports=Tg()(Nt);var{formatters:Goe}=Yd.exports;Goe.j=function(r){try{return JSON.stringify(r)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var e2=T((bDe,ZV)=>{"use strict";ZV.exports=(r,e=process.argv)=>{let t=r.startsWith("-")?"":r.length===1?"-":"--",o=e.indexOf(t+r),s=e.indexOf("--");return o!==-1&&(s===-1||o<s)}});var n2=T((xDe,r2)=>{"use strict";var Hoe=V("os"),t2=V("tty"),Qt=e2(),{env:Ze}=process,zn;Qt("no-color")||Qt("no-colors")||Qt("color=false")||Qt("color=never")?zn=0:(Qt("color")||Qt("colors")||Qt("color=true")||Qt("color=always"))&&(zn=1);"FORCE_COLOR"in Ze&&(Ze.FORCE_COLOR==="true"?zn=1:Ze.FORCE_COLOR==="false"?zn=0:zn=Ze.FORCE_COLOR.length===0?1:Math.min(parseInt(Ze.FORCE_COLOR,10),3));function Sg(r){return r===0?!1:{level:r,hasBasic:!0,has256:r>=2,has16m:r>=3}}function gg(r,e){if(zn===0)return 0;if(Qt("color=16m")||Qt("color=full")||Qt("color=truecolor"))return 3;if(Qt("color=256"))return 2;if(r&&!e&&zn===void 0)return 0;let t=zn||0;if(Ze.TERM==="dumb")return t;if(process.platform==="win32"){let o=Hoe.release().split(".");return Number(o[0])>=10&&Number(o[2])>=10586?Number(o[2])>=14931?3:2:1}if("CI"in Ze)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(o=>o in Ze)||Ze.CI_NAME==="codeship"?1:t;if("TEAMCITY_VERSION"in Ze)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(Ze.TEAMCITY_VERSION)?1:0;if(Ze.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in Ze){let o=parseInt((Ze.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(Ze.TERM_PROGRAM){case"iTerm.app":return o>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(Ze.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(Ze.TERM)||"COLORTERM"in Ze?1:t}function qoe(r){let e=gg(r,r&&r.isTTY);return Sg(e)}r2.exports={supportsColor:qoe,stdout:Sg(gg(!0,t2.isatty(1))),stderr:Sg(gg(!0,t2.isatty(2)))}});var o2=T((et,zd)=>{var joe=V("tty"),Kd=V("util");et.init=Joe;et.log=$oe;et.formatArgs=Koe;et.save=Xoe;et.load=Woe;et.useColors=Yoe;et.destroy=Kd.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");et.colors=[6,2,3,4,5,1];try{let r=n2();r&&(r.stderr||r).level>=2&&(et.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}et.inspectOpts=Object.keys(process.env).filter(r=>/^debug_/i.test(r)).reduce((r,e)=>{let t=e.substring(6).toLowerCase().replace(/_([a-z])/g,(s,a)=>a.toUpperCase()),o=process.env[e];return/^(yes|on|true|enabled)$/i.test(o)?o=!0:/^(no|off|false|disabled)$/i.test(o)?o=!1:o==="null"?o=null:o=Number(o),r[t]=o,r},{});function Yoe(){return"colors"in et.inspectOpts?!!et.inspectOpts.colors:joe.isatty(process.stderr.fd)}function Koe(r){let{namespace:e,useColors:t}=this;if(t){let o=this.color,s="\x1B[3"+(o<8?o:"8;5;"+o),a=`  ${s};1m${e} \x1B[0m`;r[0]=a+r[0].split(`
`).join(`
`+a),r.push(s+"m+"+zd.exports.humanize(this.diff)+"\x1B[0m")}else r[0]=zoe()+e+" "+r[0]}function zoe(){return et.inspectOpts.hideDate?"":new Date().toISOString()+" "}function $oe(...r){return process.stderr.write(Kd.formatWithOptions(et.inspectOpts,...r)+`
`)}function Xoe(r){r?process.env.DEBUG=r:delete process.env.DEBUG}function Woe(){return process.env.DEBUG}function Joe(r){r.inspectOpts={};let e=Object.keys(et.inspectOpts);for(let t=0;t<e.length;t++)r.inspectOpts[e[t]]=et.inspectOpts[e[t]]}zd.exports=Tg()(et);var{formatters:i2}=zd.exports;i2.o=function(r){return this.inspectOpts.colors=this.useColors,Kd.inspect(r,this.inspectOpts).split(`
`).map(e=>e.trim()).join(" ")};i2.O=function(r){return this.inspectOpts.colors=this.useColors,Kd.inspect(r,this.inspectOpts)}});var s2=T((MDe,vg)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?vg.exports=QV():vg.exports=o2()});var Og=T((wDe,a2)=>{"use strict";var yg=V("path").sep;a2.exports=function(r){var e=r.split(yg),t=e.lastIndexOf("node_modules");if(t!==-1&&e[t+1]){for(var o=e[t+1][0]==="@",s=o?e[t+1]+"/"+e[t+2]:e[t+1],a=o?3:2,i="",n=t+a-1,l=0;l<=n;l++)l===n?i+=e[l]:i+=e[l]+yg;for(var c="",u=e.length-1,f=t+a;f<=u;f++)f===u?c+=e[f]:c+=e[f]+yg;return{name:s,basedir:i,path:c}}}});var Ag=T((DDe,l2)=>{"use strict";var Qoe=V("os");l2.exports=Qoe.homedir||function(){var e=process.env.HOME,t=process.env.LOGNAME||process.env.USER||process.env.LNAME||process.env.USERNAME;return process.platform==="win32"?process.env.USERPROFILE||process.env.HOMEDRIVE+process.env.HOMEPATH||e||null:process.platform==="darwin"?e||(t?"/Users/"+t:null):process.platform==="linux"?e||(process.getuid()===0?"/root":t?"/home/"+t:null):e||null}});var Rg=T((UDe,c2)=>{c2.exports=function(){var r=Error.prepareStackTrace;Error.prepareStackTrace=function(t,o){return o};var e=new Error().stack;return Error.prepareStackTrace=r,e[2].getFileName()}});var u2=T((kDe,ac)=>{"use strict";var Zoe=process.platform==="win32",ese=/^(((?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?[\\\/]?)(?:[^\\\/]*[\\\/])*)((\.{1,2}|[^\\\/]+?|)(\.[^.\/\\]*|))[\\\/]*$/,Ng={};function tse(r){return ese.exec(r).slice(1)}Ng.parse=function(r){if(typeof r!="string")throw new TypeError("Parameter 'pathString' must be a string, not "+typeof r);var e=tse(r);if(!e||e.length!==5)throw new TypeError("Invalid path '"+r+"'");return{root:e[1],dir:e[0]===e[1]?e[0]:e[0].slice(0,-1),base:e[2],ext:e[4],name:e[3]}};var rse=/^((\/?)(?:[^\/]*\/)*)((\.{1,2}|[^\/]+?|)(\.[^.\/]*|))[\/]*$/,Cg={};function nse(r){return rse.exec(r).slice(1)}Cg.parse=function(r){if(typeof r!="string")throw new TypeError("Parameter 'pathString' must be a string, not "+typeof r);var e=nse(r);if(!e||e.length!==5)throw new TypeError("Invalid path '"+r+"'");return{root:e[1],dir:e[0].slice(0,-1),base:e[2],ext:e[4],name:e[3]}};Zoe?ac.exports=Ng.parse:ac.exports=Cg.parse;ac.exports.posix=Cg.parse;ac.exports.win32=Ng.parse});var Pg=T((BDe,h2)=>{var d2=V("path"),f2=d2.parse||u2(),p2=function(e,t){var o="/";/^([A-Za-z]:)/.test(e)?o="":/^\\\\/.test(e)&&(o="\\\\");for(var s=[e],a=f2(e);a.dir!==s[s.length-1];)s.push(a.dir),a=f2(a.dir);return s.reduce(function(i,n){return i.concat(t.map(function(l){return d2.resolve(o,n,l)}))},[])};h2.exports=function(e,t,o){var s=t&&t.moduleDirectory?[].concat(t.moduleDirectory):["node_modules"];if(t&&typeof t.paths=="function")return t.paths(o,e,function(){return p2(e,s)},t);var a=p2(e,s);return t&&t.paths?a.concat(t.paths):a}});var Ig=T((VDe,_2)=>{_2.exports=function(r,e){return e||{}}});var T2=T((FDe,m2)=>{"use strict";var ise="Function.prototype.bind called on incompatible ",ose=Object.prototype.toString,sse=Math.max,ase="[object Function]",E2=function(e,t){for(var o=[],s=0;s<e.length;s+=1)o[s]=e[s];for(var a=0;a<t.length;a+=1)o[a+e.length]=t[a];return o},lse=function(e,t){for(var o=[],s=t||0,a=0;s<e.length;s+=1,a+=1)o[a]=e[s];return o},cse=function(r,e){for(var t="",o=0;o<r.length;o+=1)t+=r[o],o+1<r.length&&(t+=e);return t};m2.exports=function(e){var t=this;if(typeof t!="function"||ose.apply(t)!==ase)throw new TypeError(ise+t);for(var o=lse(arguments,1),s,a=function(){if(this instanceof s){var u=t.apply(this,E2(o,arguments));return Object(u)===u?u:this}return t.apply(e,E2(o,arguments))},i=sse(0,t.length-o.length),n=[],l=0;l<i;l++)n[l]="$"+l;if(s=Function("binder","return function ("+cse(n,",")+"){ return binder.apply(this,arguments); }")(a),t.prototype){var c=function(){};c.prototype=t.prototype,s.prototype=new c,c.prototype=null}return s}});var g2=T((GDe,S2)=>{"use strict";var use=T2();S2.exports=Function.prototype.bind||use});var y2=T((HDe,v2)=>{"use strict";var fse=Function.prototype.call,pse=Object.prototype.hasOwnProperty,dse=g2();v2.exports=dse.call(fse,pse)});var O2=T((qDe,hse)=>{hse.exports={assert:!0,"node:assert":[">= 14.18 && < 15",">= 16"],"assert/strict":">= 15","node:assert/strict":">= 16",async_hooks:">= 8","node:async_hooks":[">= 14.18 && < 15",">= 16"],buffer_ieee754:">= 0.5 && < 0.9.7",buffer:!0,"node:buffer":[">= 14.18 && < 15",">= 16"],child_process:!0,"node:child_process":[">= 14.18 && < 15",">= 16"],cluster:">= 0.5","node:cluster":[">= 14.18 && < 15",">= 16"],console:!0,"node:console":[">= 14.18 && < 15",">= 16"],constants:!0,"node:constants":[">= 14.18 && < 15",">= 16"],crypto:!0,"node:crypto":[">= 14.18 && < 15",">= 16"],_debug_agent:">= 1 && < 8",_debugger:"< 8",dgram:!0,"node:dgram":[">= 14.18 && < 15",">= 16"],diagnostics_channel:[">= 14.17 && < 15",">= 15.1"],"node:diagnostics_channel":[">= 14.18 && < 15",">= 16"],dns:!0,"node:dns":[">= 14.18 && < 15",">= 16"],"dns/promises":">= 15","node:dns/promises":">= 16",domain:">= 0.7.12","node:domain":[">= 14.18 && < 15",">= 16"],events:!0,"node:events":[">= 14.18 && < 15",">= 16"],freelist:"< 6",fs:!0,"node:fs":[">= 14.18 && < 15",">= 16"],"fs/promises":[">= 10 && < 10.1",">= 14"],"node:fs/promises":[">= 14.18 && < 15",">= 16"],_http_agent:">= 0.11.1","node:_http_agent":[">= 14.18 && < 15",">= 16"],_http_client:">= 0.11.1","node:_http_client":[">= 14.18 && < 15",">= 16"],_http_common:">= 0.11.1","node:_http_common":[">= 14.18 && < 15",">= 16"],_http_incoming:">= 0.11.1","node:_http_incoming":[">= 14.18 && < 15",">= 16"],_http_outgoing:">= 0.11.1","node:_http_outgoing":[">= 14.18 && < 15",">= 16"],_http_server:">= 0.11.1","node:_http_server":[">= 14.18 && < 15",">= 16"],http:!0,"node:http":[">= 14.18 && < 15",">= 16"],http2:">= 8.8","node:http2":[">= 14.18 && < 15",">= 16"],https:!0,"node:https":[">= 14.18 && < 15",">= 16"],inspector:">= 8","node:inspector":[">= 14.18 && < 15",">= 16"],"inspector/promises":[">= 19"],"node:inspector/promises":[">= 19"],_linklist:"< 8",module:!0,"node:module":[">= 14.18 && < 15",">= 16"],net:!0,"node:net":[">= 14.18 && < 15",">= 16"],"node-inspect/lib/_inspect":">= 7.6 && < 12","node-inspect/lib/internal/inspect_client":">= 7.6 && < 12","node-inspect/lib/internal/inspect_repl":">= 7.6 && < 12",os:!0,"node:os":[">= 14.18 && < 15",">= 16"],path:!0,"node:path":[">= 14.18 && < 15",">= 16"],"path/posix":">= 15.3","node:path/posix":">= 16","path/win32":">= 15.3","node:path/win32":">= 16",perf_hooks:">= 8.5","node:perf_hooks":[">= 14.18 && < 15",">= 16"],process:">= 1","node:process":[">= 14.18 && < 15",">= 16"],punycode:">= 0.5","node:punycode":[">= 14.18 && < 15",">= 16"],querystring:!0,"node:querystring":[">= 14.18 && < 15",">= 16"],readline:!0,"node:readline":[">= 14.18 && < 15",">= 16"],"readline/promises":">= 17","node:readline/promises":">= 17",repl:!0,"node:repl":[">= 14.18 && < 15",">= 16"],"node:sea":[">= 20.12 && < 21",">= 21.7"],smalloc:">= 0.11.5 && < 3","node:sqlite":[">= 22.13 && < 23",">= 23.4"],_stream_duplex:">= 0.9.4","node:_stream_duplex":[">= 14.18 && < 15",">= 16"],_stream_transform:">= 0.9.4","node:_stream_transform":[">= 14.18 && < 15",">= 16"],_stream_wrap:">= 1.4.1","node:_stream_wrap":[">= 14.18 && < 15",">= 16"],_stream_passthrough:">= 0.9.4","node:_stream_passthrough":[">= 14.18 && < 15",">= 16"],_stream_readable:">= 0.9.4","node:_stream_readable":[">= 14.18 && < 15",">= 16"],_stream_writable:">= 0.9.4","node:_stream_writable":[">= 14.18 && < 15",">= 16"],stream:!0,"node:stream":[">= 14.18 && < 15",">= 16"],"stream/consumers":">= 16.7","node:stream/consumers":">= 16.7","stream/promises":">= 15","node:stream/promises":">= 16","stream/web":">= 16.5","node:stream/web":">= 16.5",string_decoder:!0,"node:string_decoder":[">= 14.18 && < 15",">= 16"],sys:[">= 0.4 && < 0.7",">= 0.8"],"node:sys":[">= 14.18 && < 15",">= 16"],"test/reporters":">= 19.9 && < 20.2","node:test/reporters":[">= 18.17 && < 19",">= 19.9",">= 20"],"test/mock_loader":">= 22.3 && < 22.7","node:test/mock_loader":">= 22.3 && < 22.7","node:test":[">= 16.17 && < 17",">= 18"],timers:!0,"node:timers":[">= 14.18 && < 15",">= 16"],"timers/promises":">= 15","node:timers/promises":">= 16",_tls_common:">= 0.11.13","node:_tls_common":[">= 14.18 && < 15",">= 16"],_tls_legacy:">= 0.11.3 && < 10",_tls_wrap:">= 0.11.3","node:_tls_wrap":[">= 14.18 && < 15",">= 16"],tls:!0,"node:tls":[">= 14.18 && < 15",">= 16"],trace_events:">= 10","node:trace_events":[">= 14.18 && < 15",">= 16"],tty:!0,"node:tty":[">= 14.18 && < 15",">= 16"],url:!0,"node:url":[">= 14.18 && < 15",">= 16"],util:!0,"node:util":[">= 14.18 && < 15",">= 16"],"util/types":">= 15.3","node:util/types":">= 16","v8/tools/arguments":">= 10 && < 12","v8/tools/codemap":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/consarray":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/csvparser":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/logreader":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/profile_view":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/splaytree":[">= 4.4 && < 5",">= 5.2 && < 12"],v8:">= 1","node:v8":[">= 14.18 && < 15",">= 16"],vm:!0,"node:vm":[">= 14.18 && < 15",">= 16"],wasi:[">= 13.4 && < 13.5",">= 18.17 && < 19",">= 20"],"node:wasi":[">= 18.17 && < 19",">= 20"],worker_threads:">= 11.7","node:worker_threads":[">= 14.18 && < 15",">= 16"],zlib:">= 0.5","node:zlib":[">= 14.18 && < 15",">= 16"]}});var lc=T((jDe,N2)=>{"use strict";var _se=y2();function Ese(r,e){for(var t=r.split("."),o=e.split(" "),s=o.length>1?o[0]:"=",a=(o.length>1?o[1]:o[0]).split("."),i=0;i<3;++i){var n=parseInt(t[i]||0,10),l=parseInt(a[i]||0,10);if(n!==l)return s==="<"?n<l:s===">="?n>=l:!1}return s===">="}function A2(r,e){var t=e.split(/ ?&& ?/);if(t.length===0)return!1;for(var o=0;o<t.length;++o)if(!Ese(r,t[o]))return!1;return!0}function mse(r,e){if(typeof e=="boolean")return e;var t=typeof r>"u"?process.versions&&process.versions.node:r;if(typeof t!="string")throw new TypeError(typeof r>"u"?"Unable to determine current node version":"If provided, a valid node version is required");if(e&&typeof e=="object"){for(var o=0;o<e.length;++o)if(A2(t,e[o]))return!0;return!1}return A2(t,e)}var R2=O2();N2.exports=function(e,t){return _se(R2,e)&&mse(t,R2[e])}});var I2=T((YDe,P2)=>{var Wi=V("fs"),Tse=Ag(),Ke=V("path"),Sse=Rg(),gse=Pg(),vse=Ig(),yse=lc(),Ose=process.platform!=="win32"&&Wi.realpath&&typeof Wi.realpath.native=="function"?Wi.realpath.native:Wi.realpath,C2=Tse(),Ase=function(){return[Ke.join(C2,".node_modules"),Ke.join(C2,".node_libraries")]},Rse=function(e,t){Wi.stat(e,function(o,s){return o?o.code==="ENOENT"||o.code==="ENOTDIR"?t(null,!1):t(o):t(null,s.isFile()||s.isFIFO())})},Nse=function(e,t){Wi.stat(e,function(o,s){return o?o.code==="ENOENT"||o.code==="ENOTDIR"?t(null,!1):t(o):t(null,s.isDirectory())})},Cse=function(e,t){Ose(e,function(o,s){o&&o.code!=="ENOENT"?t(o):t(null,o?e:s)})},cc=function(e,t,o,s){o&&o.preserveSymlinks===!1?e(t,s):s(null,t)},Pse=function(e,t,o){e(t,function(s,a){if(s)o(s);else try{var i=JSON.parse(a);o(null,i)}catch{o(null)}})},Ise=function(e,t,o){for(var s=gse(t,o,e),a=0;a<s.length;a++)s[a]=Ke.join(s[a],e);return s};P2.exports=function(e,t,o){var s=o,a=t;if(typeof t=="function"&&(s=a,a={}),typeof e!="string"){var i=new TypeError("Path must be a string.");return process.nextTick(function(){s(i)})}a=vse(e,a);var n=a.isFile||Rse,l=a.isDirectory||Nse,c=a.readFile||Wi.readFile,u=a.realpath||Cse,f=a.readPackage||Pse;if(a.readFile&&a.readPackage){var _=new TypeError("`readFile` and `readPackage` are mutually exclusive.");return process.nextTick(function(){s(_)})}var m=a.packageIterator,O=a.extensions||[".js"],y=a.includeCoreModules!==!1,A=a.basedir||Ke.dirname(Sse()),I=a.filename||A;a.paths=a.paths||Ase();var M=Ke.resolve(A);cc(u,M,a,function(v,W){v?s(v):N(W)});var F;function N(v){if(/^(?:\.\.?(?:\/|$)|\/|([A-Za-z]:)?[/\\])/.test(e))F=Ke.resolve(v,e),(e==="."||e===".."||e.slice(-1)==="/")&&(F+="/"),/\/$/.test(e)&&F===v?te(F,a.package,K):B(F,a.package,K);else{if(y&&yse(e))return s(null,e);le(e,v,function(W,R,E){if(W)s(W);else{if(R)return cc(u,R,a,function(Q,Y){Q?s(Q):s(null,Y,E)});var C=new Error("Cannot find module '"+e+"' from '"+I+"'");C.code="MODULE_NOT_FOUND",s(C)}})}}function K(v,W,R){v?s(v):W?s(null,W,R):te(F,function(E,C,Q){if(E)s(E);else if(C)cc(u,C,a,function(J,ce){J?s(J):s(null,ce,Q)});else{var Y=new Error("Cannot find module '"+e+"' from '"+I+"'");Y.code="MODULE_NOT_FOUND",s(Y)}})}function B(v,W,R){var E=W,C=R;typeof E=="function"&&(C=E,E=void 0);var Q=[""].concat(O);Y(Q,v,E);function Y(J,ce,Ne){if(J.length===0)return C(null,void 0,Ne);var Me=ce+J[0],Te=Ne;Te?Z(null,Te):G(Ke.dirname(Me),Z);function Z(Ee,we,We){if(Te=we,Ee)return C(Ee);if(We&&Te&&a.pathFilter){var Uo=Ke.relative(We,Me),ko=Uo.slice(0,Uo.length-J[0].length),Ti=a.pathFilter(Te,ce,ko);if(Ti)return Y([""].concat(O.slice()),Ke.resolve(We,Ti),Te)}n(Me,je)}function je(Ee,we){if(Ee)return C(Ee);if(we)return C(null,Me,Te);Y(J.slice(1),ce,Te)}}}function G(v,W){if(v===""||v==="/"||process.platform==="win32"&&/^\w:[/\\]*$/.test(v)||/[/\\]node_modules[/\\]*$/.test(v))return W(null);cc(u,v,a,function(R,E){if(R)return G(Ke.dirname(v),W);var C=Ke.join(E,"package.json");n(C,function(Q,Y){if(!Y)return G(Ke.dirname(v),W);f(c,C,function(J,ce){J&&W(J);var Ne=ce;Ne&&a.packageFilter&&(Ne=a.packageFilter(Ne,C)),W(null,Ne,v)})})})}function te(v,W,R){var E=R,C=W;typeof C=="function"&&(E=C,C=a.package),cc(u,v,a,function(Q,Y){if(Q)return E(Q);var J=Ke.join(Y,"package.json");n(J,function(ce,Ne){if(ce)return E(ce);if(!Ne)return B(Ke.join(v,"index"),C,E);f(c,J,function(Me,Te){if(Me)return E(Me);var Z=Te;if(Z&&a.packageFilter&&(Z=a.packageFilter(Z,J)),Z&&Z.main){if(typeof Z.main!="string"){var je=new TypeError("package \u201C"+Z.name+"\u201D `main` must be a string");return je.code="INVALID_PACKAGE_MAIN",E(je)}(Z.main==="."||Z.main==="./")&&(Z.main="index"),B(Ke.resolve(v,Z.main),Z,function(Ee,we,We){if(Ee)return E(Ee);if(we)return E(null,we,We);if(!We)return B(Ke.join(v,"index"),We,E);var Uo=Ke.resolve(v,We.main);te(Uo,We,function(ko,Ti,Ye){if(ko)return E(ko);if(Ti)return E(null,Ti,Ye);B(Ke.join(v,"index"),Ye,E)})});return}B(Ke.join(v,"/index"),Z,E)})})})}function $(v,W){if(W.length===0)return v(null,void 0);var R=W[0];l(Ke.dirname(R),E);function E(Y,J){if(Y)return v(Y);if(!J)return $(v,W.slice(1));B(R,a.package,C)}function C(Y,J,ce){if(Y)return v(Y);if(J)return v(null,J,ce);te(R,a.package,Q)}function Q(Y,J,ce){if(Y)return v(Y);if(J)return v(null,J,ce);$(v,W.slice(1))}}function le(v,W,R){var E=function(){return Ise(v,W,a)};$(R,m?m(v,W,E,a):E())}}});var L2=T((KDe,Lse)=>{Lse.exports={assert:!0,"node:assert":[">= 14.18 && < 15",">= 16"],"assert/strict":">= 15","node:assert/strict":">= 16",async_hooks:">= 8","node:async_hooks":[">= 14.18 && < 15",">= 16"],buffer_ieee754:">= 0.5 && < 0.9.7",buffer:!0,"node:buffer":[">= 14.18 && < 15",">= 16"],child_process:!0,"node:child_process":[">= 14.18 && < 15",">= 16"],cluster:">= 0.5","node:cluster":[">= 14.18 && < 15",">= 16"],console:!0,"node:console":[">= 14.18 && < 15",">= 16"],constants:!0,"node:constants":[">= 14.18 && < 15",">= 16"],crypto:!0,"node:crypto":[">= 14.18 && < 15",">= 16"],_debug_agent:">= 1 && < 8",_debugger:"< 8",dgram:!0,"node:dgram":[">= 14.18 && < 15",">= 16"],diagnostics_channel:[">= 14.17 && < 15",">= 15.1"],"node:diagnostics_channel":[">= 14.18 && < 15",">= 16"],dns:!0,"node:dns":[">= 14.18 && < 15",">= 16"],"dns/promises":">= 15","node:dns/promises":">= 16",domain:">= 0.7.12","node:domain":[">= 14.18 && < 15",">= 16"],events:!0,"node:events":[">= 14.18 && < 15",">= 16"],freelist:"< 6",fs:!0,"node:fs":[">= 14.18 && < 15",">= 16"],"fs/promises":[">= 10 && < 10.1",">= 14"],"node:fs/promises":[">= 14.18 && < 15",">= 16"],_http_agent:">= 0.11.1","node:_http_agent":[">= 14.18 && < 15",">= 16"],_http_client:">= 0.11.1","node:_http_client":[">= 14.18 && < 15",">= 16"],_http_common:">= 0.11.1","node:_http_common":[">= 14.18 && < 15",">= 16"],_http_incoming:">= 0.11.1","node:_http_incoming":[">= 14.18 && < 15",">= 16"],_http_outgoing:">= 0.11.1","node:_http_outgoing":[">= 14.18 && < 15",">= 16"],_http_server:">= 0.11.1","node:_http_server":[">= 14.18 && < 15",">= 16"],http:!0,"node:http":[">= 14.18 && < 15",">= 16"],http2:">= 8.8","node:http2":[">= 14.18 && < 15",">= 16"],https:!0,"node:https":[">= 14.18 && < 15",">= 16"],inspector:">= 8","node:inspector":[">= 14.18 && < 15",">= 16"],"inspector/promises":[">= 19"],"node:inspector/promises":[">= 19"],_linklist:"< 8",module:!0,"node:module":[">= 14.18 && < 15",">= 16"],net:!0,"node:net":[">= 14.18 && < 15",">= 16"],"node-inspect/lib/_inspect":">= 7.6 && < 12","node-inspect/lib/internal/inspect_client":">= 7.6 && < 12","node-inspect/lib/internal/inspect_repl":">= 7.6 && < 12",os:!0,"node:os":[">= 14.18 && < 15",">= 16"],path:!0,"node:path":[">= 14.18 && < 15",">= 16"],"path/posix":">= 15.3","node:path/posix":">= 16","path/win32":">= 15.3","node:path/win32":">= 16",perf_hooks:">= 8.5","node:perf_hooks":[">= 14.18 && < 15",">= 16"],process:">= 1","node:process":[">= 14.18 && < 15",">= 16"],punycode:">= 0.5","node:punycode":[">= 14.18 && < 15",">= 16"],querystring:!0,"node:querystring":[">= 14.18 && < 15",">= 16"],readline:!0,"node:readline":[">= 14.18 && < 15",">= 16"],"readline/promises":">= 17","node:readline/promises":">= 17",repl:!0,"node:repl":[">= 14.18 && < 15",">= 16"],"node:sea":[">= 20.12 && < 21",">= 21.7"],smalloc:">= 0.11.5 && < 3","node:sqlite":">= 23.4",_stream_duplex:">= 0.9.4","node:_stream_duplex":[">= 14.18 && < 15",">= 16"],_stream_transform:">= 0.9.4","node:_stream_transform":[">= 14.18 && < 15",">= 16"],_stream_wrap:">= 1.4.1","node:_stream_wrap":[">= 14.18 && < 15",">= 16"],_stream_passthrough:">= 0.9.4","node:_stream_passthrough":[">= 14.18 && < 15",">= 16"],_stream_readable:">= 0.9.4","node:_stream_readable":[">= 14.18 && < 15",">= 16"],_stream_writable:">= 0.9.4","node:_stream_writable":[">= 14.18 && < 15",">= 16"],stream:!0,"node:stream":[">= 14.18 && < 15",">= 16"],"stream/consumers":">= 16.7","node:stream/consumers":">= 16.7","stream/promises":">= 15","node:stream/promises":">= 16","stream/web":">= 16.5","node:stream/web":">= 16.5",string_decoder:!0,"node:string_decoder":[">= 14.18 && < 15",">= 16"],sys:[">= 0.4 && < 0.7",">= 0.8"],"node:sys":[">= 14.18 && < 15",">= 16"],"test/reporters":">= 19.9 && < 20.2","node:test/reporters":[">= 18.17 && < 19",">= 19.9",">= 20"],"test/mock_loader":">= 22.3 && < 22.7","node:test/mock_loader":">= 22.3 && < 22.7","node:test":[">= 16.17 && < 17",">= 18"],timers:!0,"node:timers":[">= 14.18 && < 15",">= 16"],"timers/promises":">= 15","node:timers/promises":">= 16",_tls_common:">= 0.11.13","node:_tls_common":[">= 14.18 && < 15",">= 16"],_tls_legacy:">= 0.11.3 && < 10",_tls_wrap:">= 0.11.3","node:_tls_wrap":[">= 14.18 && < 15",">= 16"],tls:!0,"node:tls":[">= 14.18 && < 15",">= 16"],trace_events:">= 10","node:trace_events":[">= 14.18 && < 15",">= 16"],tty:!0,"node:tty":[">= 14.18 && < 15",">= 16"],url:!0,"node:url":[">= 14.18 && < 15",">= 16"],util:!0,"node:util":[">= 14.18 && < 15",">= 16"],"util/types":">= 15.3","node:util/types":">= 16","v8/tools/arguments":">= 10 && < 12","v8/tools/codemap":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/consarray":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/csvparser":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/logreader":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/profile_view":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/splaytree":[">= 4.4 && < 5",">= 5.2 && < 12"],v8:">= 1","node:v8":[">= 14.18 && < 15",">= 16"],vm:!0,"node:vm":[">= 14.18 && < 15",">= 16"],wasi:[">= 13.4 && < 13.5",">= 18.17 && < 19",">= 20"],"node:wasi":[">= 18.17 && < 19",">= 20"],worker_threads:">= 11.7","node:worker_threads":[">= 14.18 && < 15",">= 16"],zlib:">= 0.5","node:zlib":[">= 14.18 && < 15",">= 16"]}});var w2=T((zDe,M2)=>{"use strict";var bse=lc(),b2=L2(),x2={};for($d in b2)Object.prototype.hasOwnProperty.call(b2,$d)&&(x2[$d]=bse($d));var $d;M2.exports=x2});var U2=T(($De,D2)=>{var xse=lc();D2.exports=function(e){return xse(e)}});var V2=T((XDe,B2)=>{var Mse=lc(),Ji=V("fs"),dt=V("path"),wse=Ag(),Dse=Rg(),Use=Pg(),kse=Ig(),Bse=process.platform!=="win32"&&Ji.realpathSync&&typeof Ji.realpathSync.native=="function"?Ji.realpathSync.native:Ji.realpathSync,k2=wse(),Vse=function(){return[dt.join(k2,".node_modules"),dt.join(k2,".node_libraries")]},Fse=function(e){try{var t=Ji.statSync(e,{throwIfNoEntry:!1})}catch(o){if(o&&(o.code==="ENOENT"||o.code==="ENOTDIR"))return!1;throw o}return!!t&&(t.isFile()||t.isFIFO())},Gse=function(e){try{var t=Ji.statSync(e,{throwIfNoEntry:!1})}catch(o){if(o&&(o.code==="ENOENT"||o.code==="ENOTDIR"))return!1;throw o}return!!t&&t.isDirectory()},Hse=function(e){try{return Bse(e)}catch(t){if(t.code!=="ENOENT")throw t}return e},uc=function(e,t,o){return o&&o.preserveSymlinks===!1?e(t):t},qse=function(e,t){var o=e(t);try{var s=JSON.parse(o);return s}catch{}},jse=function(e,t,o){for(var s=Use(t,o,e),a=0;a<s.length;a++)s[a]=dt.join(s[a],e);return s};B2.exports=function(e,t){if(typeof e!="string")throw new TypeError("Path must be a string.");var o=kse(e,t),s=o.isFile||Fse,a=o.readFileSync||Ji.readFileSync,i=o.isDirectory||Gse,n=o.realpathSync||Hse,l=o.readPackageSync||qse;if(o.readFileSync&&o.readPackageSync)throw new TypeError("`readFileSync` and `readPackageSync` are mutually exclusive.");var c=o.packageIterator,u=o.extensions||[".js"],f=o.includeCoreModules!==!1,_=o.basedir||dt.dirname(Dse()),m=o.filename||_;o.paths=o.paths||Vse();var O=uc(n,dt.resolve(_),o);if(/^(?:\.\.?(?:\/|$)|\/|([A-Za-z]:)?[/\\])/.test(e)){var y=dt.resolve(O,e);(e==="."||e===".."||e.slice(-1)==="/")&&(y+="/");var A=F(y)||K(y);if(A)return uc(n,A,o)}else{if(f&&Mse(e))return e;var I=B(e,O);if(I)return uc(n,I,o)}var M=new Error("Cannot find module '"+e+"' from '"+m+"'");throw M.code="MODULE_NOT_FOUND",M;function F(G){var te=N(dt.dirname(G));if(te&&te.dir&&te.pkg&&o.pathFilter){var $=dt.relative(te.dir,G),le=o.pathFilter(te.pkg,G,$);le&&(G=dt.resolve(te.dir,le))}if(s(G))return G;for(var v=0;v<u.length;v++){var W=G+u[v];if(s(W))return W}}function N(G){if(!(G===""||G==="/")&&!(process.platform==="win32"&&/^\w:[/\\]*$/.test(G))&&!/[/\\]node_modules[/\\]*$/.test(G)){var te=dt.join(uc(n,G,o),"package.json");if(!s(te))return N(dt.dirname(G));var $=l(a,te);return $&&o.packageFilter&&($=o.packageFilter($,G)),{pkg:$,dir:G}}}function K(G){var te=dt.join(uc(n,G,o),"/package.json");if(s(te)){try{var $=l(a,te)}catch{}if($&&o.packageFilter&&($=o.packageFilter($,G)),$&&$.main){if(typeof $.main!="string"){var le=new TypeError("package \u201C"+$.name+"\u201D `main` must be a string");throw le.code="INVALID_PACKAGE_MAIN",le}($.main==="."||$.main==="./")&&($.main="index");try{var v=F(dt.resolve(G,$.main));if(v)return v;var W=K(dt.resolve(G,$.main));if(W)return W}catch{}}}return F(dt.join(G,"/index"))}function B(G,te){for(var $=function(){return jse(G,te,o)},le=c?c(G,te,$,o):$(),v=0;v<le.length;v++){var W=le[v];if(i(dt.dirname(W))){var R=F(W);if(R)return R;var E=K(W);if(E)return E}}}}});var Lg=T((WDe,F2)=>{var Xd=I2();Xd.core=w2();Xd.isCore=U2();Xd.sync=V2();F2.exports=Xd});var G2=T((JDe,Yse)=>{Yse.exports={name:"require-in-the-middle",version:"7.5.2",description:"Module to hook into the Node.js require function",main:"index.js",types:"types/index.d.ts",dependencies:{debug:"^4.3.5","module-details-from-path":"^1.0.3",resolve:"^1.22.8"},devDependencies:{"@babel/core":"^7.9.0","@babel/preset-env":"^7.9.5","@babel/preset-typescript":"^7.9.0","@babel/register":"^7.9.0","ipp-printer":"^1.0.0",patterns:"^1.0.3",roundround:"^0.2.0",semver:"^6.3.0",standard:"^14.3.1",tape:"^4.11.0"},scripts:{test:"npm run test:lint && npm run test:tape && npm run test:babel","test:lint":"standard","test:tape":"tape test/*.js","test:babel":"node test/babel/babel-register.js"},repository:{type:"git",url:"git+https://github.com/nodejs/require-in-the-middle.git"},keywords:["require","hook","shim","shimmer","shimming","patch","monkey","monkeypatch","module","load"],files:["types"],author:"Thomas Watson Steen <w@tson.dk> (https://twitter.com/wa7son)",license:"MIT",bugs:{url:"https://github.com/nodejs/require-in-the-middle/issues"},homepage:"https://github.com/nodejs/require-in-the-middle#readme",engines:{node:">=8.6.0"}}});var wg=T((QDe,Mg)=>{"use strict";var js=V("path"),hr=V("module"),Fe=s2()("require-in-the-middle"),Kse=Og();Mg.exports=fc;Mg.exports.Hook=fc;var bg,qs;if(hr.isBuiltin)qs=hr.isBuiltin;else if(hr.builtinModules)qs=r=>r.startsWith("node:")?!0:(bg===void 0&&(bg=new Set(hr.builtinModules)),bg.has(r));else{let r=Lg(),[e,t]=process.versions.node.split(".").map(Number);e===8&&t<8?qs=o=>o==="http2"?!0:!!r.core[o]:qs=o=>!!r.core[o]}var Wd;function zse(r,e){if(!Wd)if(V.resolve&&V.resolve.paths)Wd=function(t,o){return V.resolve(t,{paths:[o]})};else{let t=Lg();Wd=function(o,s){return t.sync(o,{basedir:s})}}return Wd(r,e)}var $se=/([/\\]index)?(\.js)?$/,xg=class{constructor(){this._localCache=new Map,this._kRitmExports=Symbol("RitmExports")}has(e,t){if(this._localCache.has(e))return!0;if(t)return!1;{let o=V.cache[e];return!!(o&&this._kRitmExports in o)}}get(e,t){let o=this._localCache.get(e);if(o!==void 0)return o;if(!t){let s=V.cache[e];return s&&s[this._kRitmExports]}}set(e,t,o){o?this._localCache.set(e,t):e in V.cache?V.cache[e][this._kRitmExports]=t:(Fe('non-core module is unexpectedly not in require.cache: "%s"',e),this._localCache.set(e,t))}};function fc(r,e,t){if(!(this instanceof fc))return new fc(r,e,t);if(typeof r=="function"?(t=r,r=null,e=null):typeof e=="function"&&(t=e,e=null),typeof hr._resolveFilename!="function"){console.error("Error: Expected Module._resolveFilename to be a function (was: %s) - aborting!",typeof hr._resolveFilename),console.error("Please report this error as an issue related to Node.js %s at %s",process.version,G2().bugs.url);return}this._cache=new xg,this._unhooked=!1,this._origRequire=hr.prototype.require;let o=this,s=new Set,a=e?e.internals===!0:!1,i=Array.isArray(r);Fe("registering require hook"),this._require=hr.prototype.require=function(l){return o._unhooked===!0?(Fe("ignoring require call - module is soft-unhooked"),o._origRequire.apply(this,arguments)):n.call(this,arguments,!1)},typeof process.getBuiltinModule=="function"&&(this._origGetBuiltinModule=process.getBuiltinModule,this._getBuiltinModule=process.getBuiltinModule=function(l){return o._unhooked===!0?(Fe("ignoring process.getBuiltinModule call - module is soft-unhooked"),o._origGetBuiltinModule.apply(this,arguments)):n.call(this,arguments,!0)});function n(l,c){let u=l[0],f=qs(u),_;if(f){if(_=u,u.startsWith("node:")){let M=u.slice(5);qs(M)&&(_=M)}}else{if(c)return Fe("call to process.getBuiltinModule with unknown built-in id"),o._origGetBuiltinModule.apply(this,l);try{_=hr._resolveFilename(u,this)}catch(M){return Fe('Module._resolveFilename("%s") threw %j, calling original Module.require',u,M.message),o._origRequire.apply(this,l)}}let m,O;if(Fe("processing %s module require('%s'): %s",f===!0?"core":"non-core",u,_),o._cache.has(_,f)===!0)return Fe("returning already patched cached module: %s",_),o._cache.get(_,f);let y=s.has(_);y===!1&&s.add(_);let A=c?o._origGetBuiltinModule.apply(this,l):o._origRequire.apply(this,l);if(y===!0)return Fe("module is in the process of being patched already - ignoring: %s",_),A;if(s.delete(_),f===!0){if(i===!0&&r.includes(_)===!1)return Fe("ignoring core module not on whitelist: %s",_),A;m=_}else if(i===!0&&r.includes(_)){let M=js.parse(_);m=M.name,O=M.dir}else{let M=Kse(_);if(M===void 0)return Fe("could not parse filename: %s",_),A;m=M.name,O=M.basedir;let F=Xse(M);Fe("resolved filename to module: %s (id: %s, resolved: %s, basedir: %s)",m,u,F,O);let N=!1;if(i){if(!u.startsWith(".")&&r.includes(u)&&(m=u,N=!0),!r.includes(m)&&!r.includes(F))return A;r.includes(F)&&F!==m&&(m=F,N=!0)}if(!N){let K;try{K=zse(m,O)}catch{return Fe("could not resolve module: %s",m),o._cache.set(_,A,f),A}if(K!==_)if(a===!0)m=m+js.sep+js.relative(O,_),Fe("preparing to process require of internal file: %s",m);else return Fe("ignoring require of non-main module file: %s",K),o._cache.set(_,A,f),A}}o._cache.set(_,A,f),Fe("calling require hook: %s",m);let I=t(A,m,O);return o._cache.set(_,I,f),Fe("returning module: %s",m),I}}fc.prototype.unhook=function(){this._unhooked=!0,this._require===hr.prototype.require?(hr.prototype.require=this._origRequire,Fe("require unhook successful")):Fe("require unhook unsuccessful"),process.getBuiltinModule!==void 0&&(this._getBuiltinModule===process.getBuiltinModule?(process.getBuiltinModule=this._origGetBuiltinModule,Fe("process.getBuiltinModule unhook successful")):Fe("process.getBuiltinModule unhook unsuccessful"))};function Xse(r){let e=js.sep!=="/"?r.path.split(js.sep).join("/"):r.path;return js.posix.join(r.name,e).replace($se,"")}});var pc,Jd,Qd,H2=p(()=>{pc="/",Jd=class{constructor(){this.hooks=[],this.children=new Map}},Qd=class{constructor(){this._trie=new Jd,this._counter=0}insert(e){let t=this._trie;for(let o of e.moduleName.split(pc)){let s=t.children.get(o);s||(s=new Jd,t.children.set(o,s)),t=s}t.hooks.push({hook:e,insertedId:this._counter++})}search(e,{maintainInsertionOrder:t,fullOnly:o}={}){let s=this._trie,a=[],i=!0;for(let n of e.split(pc)){let l=s.children.get(n);if(!l){i=!1;break}o||a.push(...l.hooks),s=l}return o&&i&&a.push(...s.hooks),a.length===0?[]:a.length===1?[a[0].hook]:(t&&a.sort((n,l)=>n.insertedId-l.insertedId),a.map(({hook:n})=>n))}}});import*as Dg from"path";function Jse(r){return Dg.sep!==pc?r.split(Dg.sep).join(pc):r}var q2,Wse,Zd,j2=p(()=>{q2=Nn(wg());H2();Wse=["afterEach","after","beforeEach","before","describe","it"].every(r=>typeof global[r]=="function"),Zd=class r{constructor(){this._moduleNameTrie=new Qd,this._initialize()}_initialize(){new q2.Hook(null,{internals:!0},(e,t,o)=>{let s=Jse(t),a=this._moduleNameTrie.search(s,{maintainInsertionOrder:!0,fullOnly:o===void 0});for(let{onRequire:i}of a)e=i(e,t,o);return e})}register(e,t){let o={moduleName:e,onRequire:t};return this._moduleNameTrie.insert(o),o}static getInstance(){var e;return Wse?new r:this._instance=(e=this._instance)!==null&&e!==void 0?e:new r}}});var W2=T(Qi=>{var Y2=[],Ug=new WeakMap,K2=new WeakMap,z2=new Map,$2=[],Qse={set(r,e,t){return Ug.get(r)[e](t)},get(r,e){if(e===Symbol.toStringTag)return"Module";let t=K2.get(r)[e];if(typeof t=="function")return t()},defineProperty(r,e,t){if(!("value"in t))throw new Error("Getters/setters are not supported for exports property descriptors.");return Ug.get(r)[e](t.value)}};function Zse(r,e,t,o,s){z2.set(r,s),Ug.set(e,t),K2.set(e,o);let a=new Proxy(e,Qse);Y2.forEach(i=>i(r,a)),$2.push([r,a])}var X2=!1;function eae(){return X2}function tae(r){X2=r}Qi.register=Zse;Qi.importHooks=Y2;Qi.specifiers=z2;Qi.toHook=$2;Qi.getExperimentalPatchInternals=eae;Qi.setExperimentalPatchInternals=tae});var rF=T((iUe,Ys)=>{var J2=V("path"),rae=Og(),{fileURLToPath:Q2}=V("url"),{MessageChannel:nae}=V("worker_threads"),{importHooks:kg,specifiers:iae,toHook:oae,getExperimentalPatchInternals:sae}=W2();function eF(r){kg.push(r),oae.forEach(([e,t])=>r(e,t))}function tF(r){let e=kg.indexOf(r);e>-1&&kg.splice(e,1)}function Z2(r,e,t,o){let s=r(e,t,o);s&&s!==e&&(e.default=s)}var Bg;function aae(){let{port1:r,port2:e}=new nae,t=0,o;Bg=n=>{t++,r.postMessage(n)},r.on("message",()=>{t--,o&&t<=0&&o()}).unref();function s(){let n=setInterval(()=>{},1e3),l=new Promise(c=>{o=c}).then(()=>{clearInterval(n)});return t===0&&o(),l}let a=e;return{registerOptions:{data:{addHookMessagePort:a,include:[]},transferList:[a]},addHookMessagePort:a,waitForAllMessagesAcknowledged:s}}function dc(r,e,t){if(!(this instanceof dc))return new dc(r,e,t);typeof r=="function"?(t=r,r=null,e=null):typeof e=="function"&&(t=e,e=null);let o=e?e.internals===!0:!1;Bg&&Array.isArray(r)&&Bg(r),this._iitmHook=(s,a)=>{let i=s,n=s.startsWith("node:"),l;if(n)s=s.replace(/^node:/,"");else{if(s.startsWith("file://"))try{s=Q2(s)}catch{}let c=rae(s);c&&(s=c.name,l=c.basedir)}if(r){for(let c of r)if(c===s){if(l){if(o)s=s+J2.sep+J2.relative(l,Q2(i));else if(!sae()&&!l.endsWith(iae.get(i)))continue}Z2(t,a,s,l)}}else Z2(t,a,s,l)},eF(this._iitmHook)}dc.prototype.unhook=function(){tF(this._iitmHook)};Ys.exports=dc;Ys.exports.Hook=dc;Ys.exports.addHook=eF;Ys.exports.removeHook=tF;Ys.exports.createAddHookMessageChannel=aae});function nF(r,e,t){let o,s;try{s=r()}catch(a){o=a}finally{if(e(o,s),o&&!t)throw o;return s}}async function iF(r,e,t){let o,s;try{s=await r()}catch(a){o=a}finally{if(e(o,s),o&&!t)throw o;return s}}function eh(r){return typeof r=="function"&&typeof r.__original=="function"&&typeof r.__unwrap=="function"&&r.__wrapped===!0}var Vg=p(()=>{});import*as hn from"path";import{types as oF}from"util";import{readFileSync as lae}from"fs";function sF(r,e,t){return typeof e>"u"?r.includes("*"):r.some(o=>(0,aF.satisfies)(e,o,{includePrerelease:t}))}var aF,hc,lF,cF,Ks,uF=p(()=>{aF=Nn(zS()),hc=Nn(mg());$V();j2();lF=Nn(rF());P();cF=Nn(wg());Vg();Ks=class extends qd{constructor(e,t,o){super(e,t,o),this._hooks=[],this._requireInTheMiddleSingleton=Zd.getInstance(),this._enabled=!1,this._wrap=(a,i,n)=>{if(eh(a[i])&&this._unwrap(a,i),oF.isProxy(a)){let l=(0,hc.wrap)(Object.assign({},a),i,n);return Object.defineProperty(a,i,{value:l}),l}else return(0,hc.wrap)(a,i,n)},this._unwrap=(a,i)=>oF.isProxy(a)?Object.defineProperty(a,i,{value:a[i]}):(0,hc.unwrap)(a,i),this._massWrap=(a,i,n)=>{if(a)Array.isArray(a)||(a=[a]);else{S.error("must provide one or more modules to patch");return}if(!(i&&Array.isArray(i))){S.error("must provide one or more functions to wrap on modules");return}a.forEach(l=>{i.forEach(c=>{this._wrap(l,c,n)})})},this._massUnwrap=(a,i)=>{if(a)Array.isArray(a)||(a=[a]);else{S.error("must provide one or more modules to patch");return}if(!(i&&Array.isArray(i))){S.error("must provide one or more functions to wrap on modules");return}a.forEach(n=>{i.forEach(l=>{this._unwrap(n,l)})})};let s=this.init();s&&!Array.isArray(s)&&(s=[s]),this._modules=s||[],this._config.enabled&&this.enable()}_warnOnPreloadedModules(){this._modules.forEach(e=>{let{name:t}=e;try{let o=V.resolve(t);V.cache[o]&&this._diag.warn(`Module ${t} has been loaded before ${this.instrumentationName} so it might not work, please initialize it before requiring ${t}`)}catch{}})}_extractPackageVersion(e){try{let t=lae(hn.join(e,"package.json"),{encoding:"utf8"}),o=JSON.parse(t).version;return typeof o=="string"?o:void 0}catch{S.warn("Failed extracting version",e)}}_onRequire(e,t,o,s){var a;if(!s)return typeof e.patch=="function"&&(e.moduleExports=t,this._enabled)?(this._diag.debug("Applying instrumentation patch for nodejs core module on require hook",{module:e.name}),e.patch(t)):t;let i=this._extractPackageVersion(s);if(e.moduleVersion=i,e.name===o)return sF(e.supportedVersions,i,e.includePrerelease)&&typeof e.patch=="function"&&(e.moduleExports=t,this._enabled)?(this._diag.debug("Applying instrumentation patch for module on require hook",{module:e.name,version:e.moduleVersion,baseDir:s}),e.patch(t,e.moduleVersion)):t;let n=(a=e.files)!==null&&a!==void 0?a:[],l=hn.normalize(o);return n.filter(u=>u.name===l).filter(u=>sF(u.supportedVersions,i,e.includePrerelease)).reduce((u,f)=>(f.moduleExports=u,this._enabled?(this._diag.debug("Applying instrumentation patch for nodejs module file on require hook",{module:e.name,version:e.moduleVersion,fileName:f.name,baseDir:s}),f.patch(u,e.moduleVersion)):u),t)}enable(){if(!this._enabled){if(this._enabled=!0,this._hooks.length>0){for(let e of this._modules){typeof e.patch=="function"&&e.moduleExports&&(this._diag.debug("Applying instrumentation patch for nodejs module on instrumentation enabled",{module:e.name,version:e.moduleVersion}),e.patch(e.moduleExports,e.moduleVersion));for(let t of e.files)t.moduleExports&&(this._diag.debug("Applying instrumentation patch for nodejs module file on instrumentation enabled",{module:e.name,version:e.moduleVersion,fileName:t.name}),t.patch(t.moduleExports,e.moduleVersion))}return}this._warnOnPreloadedModules();for(let e of this._modules){let t=(i,n,l)=>{if(!l&&hn.isAbsolute(n)){let c=hn.parse(n);n=c.name,l=c.dir}return this._onRequire(e,i,n,l)},o=(i,n,l)=>this._onRequire(e,i,n,l),s=hn.isAbsolute(e.name)?new cF.Hook([e.name],{internals:!0},o):this._requireInTheMiddleSingleton.register(e.name,o);this._hooks.push(s);let a=new lF.Hook([e.name],{internals:!1},t);this._hooks.push(a)}}}disable(){if(this._enabled){this._enabled=!1;for(let e of this._modules){typeof e.unpatch=="function"&&e.moduleExports&&(this._diag.debug("Removing instrumentation patch for nodejs module on instrumentation disabled",{module:e.name,version:e.moduleVersion}),e.unpatch(e.moduleExports,e.moduleVersion));for(let t of e.files)t.moduleExports&&(this._diag.debug("Removing instrumentation patch for nodejs module file on instrumentation disabled",{module:e.name,version:e.moduleVersion,fileName:t.name}),t.unpatch(t.moduleExports,e.moduleVersion))}}}isEnabled(){return this._enabled}}});import{normalize as th}from"path";var fF=p(()=>{});var pF=p(()=>{uF();fF()});var Fg=p(()=>{pF()});var rh,dF=p(()=>{rh=class{constructor(e,t,o,s,a){this.name=e,this.supportedVersions=t,this.patch=o,this.unpatch=s,this.files=a||[]}}});var nh,hF=p(()=>{Fg();nh=class{constructor(e,t,o,s){this.supportedVersions=t,this.patch=o,this.unpatch=s,this.name=th(e)}}});var _F={};Ae(_F,{InstrumentationBase:()=>Ks,InstrumentationNodeModuleDefinition:()=>rh,InstrumentationNodeModuleFile:()=>nh,isWrapped:()=>eh,registerInstrumentations:()=>qV,safeExecuteInTheMiddle:()=>nF,safeExecuteInTheMiddleAsync:()=>iF});var EF=p(()=>{jV();Fg();dF();hF();Vg()});var Br,mF=p(()=>{Br=function(){function r(e){this._delegate=e}return r.prototype.export=function(e,t){this._delegate.export(e,t)},r.prototype.forceFlush=function(){return this._delegate.forceFlush()},r.prototype.shutdown=function(){return this._delegate.shutdown()},r}()});var cae,Zi,ih=p(()=>{cae=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(o[a]=s[a])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}}(),Zi=function(r){cae(e,r);function e(t,o,s){var a=r.call(this,t)||this;return a.name="OTLPExporterError",a.data=s,a.code=o,a}return e}(Error)});function uae(r){if(!Number.isNaN(r)&&Number.isFinite(r)&&r>0)return r;throw new Error("Configuration: timeoutMillis is invalid, expected number greater than 0 (actual: '"+r+"')")}function oh(r){if(r!=null)return function(){return r}}function sh(r,e,t){var o,s,a,i,n,l;return{timeoutMillis:uae((s=(o=r.timeoutMillis)!==null&&o!==void 0?o:e.timeoutMillis)!==null&&s!==void 0?s:t.timeoutMillis),concurrencyLimit:(i=(a=r.concurrencyLimit)!==null&&a!==void 0?a:e.concurrencyLimit)!==null&&i!==void 0?i:t.concurrencyLimit,compression:(l=(n=r.compression)!==null&&n!==void 0?n:e.compression)!==null&&l!==void 0?l:t.compression}}function ah(){return{timeoutMillis:1e4,concurrencyLimit:30,compression:"none"}}var _c=p(()=>{});var lh,TF=p(()=>{(function(r){r.NONE="none",r.GZIP="gzip"})(lh||(lh={}))});function ch(r){return new dae(r.concurrencyLimit)}var fae,pae,dae,Gg=p(()=>{fae=function(r,e,t,o){function s(a){return a instanceof t?a:new t(function(i){i(a)})}return new(t||(t=Promise))(function(a,i){function n(u){try{c(o.next(u))}catch(f){i(f)}}function l(u){try{c(o.throw(u))}catch(f){i(f)}}function c(u){u.done?a(u.value):s(u.value).then(n,l)}c((o=o.apply(r,e||[])).next())})},pae=function(r,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},o,s,a,i;return i={next:n(0),throw:n(1),return:n(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function n(c){return function(u){return l([c,u])}}function l(c){if(o)throw new TypeError("Generator is already executing.");for(;t;)try{if(o=1,s&&(a=c[0]&2?s.return:c[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,c[1])).done)return a;switch(s=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,s=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){t.label=c[1];break}if(c[0]===6&&t.label<a[1]){t.label=a[1],a=c;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(c);break}a[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(r,t)}catch(u){c=[6,u],s=0}finally{o=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},dae=function(){function r(e){this._sendingPromises=[],this._concurrencyLimit=e}return r.prototype.pushPromise=function(e){var t=this;if(this.hasReachedLimit())throw new Error("Concurrency Limit reached");this._sendingPromises.push(e);var o=function(){var s=t._sendingPromises.indexOf(e);t._sendingPromises.splice(s,1)};e.then(o,o)},r.prototype.hasReachedLimit=function(){return this._sendingPromises.length>=this._concurrencyLimit},r.prototype.awaitAll=function(){return fae(this,void 0,void 0,function(){return pae(this,function(e){switch(e.label){case 0:return[4,Promise.all(this._sendingPromises)];case 1:return e.sent(),[2]}})})},r}()});var SF,uh,Hg,gF=p(()=>{SF="=",uh=";",Hg=","});function vF(r){return r.reduce((e,t)=>{let o=`${e}${e!==""?Hg:""}${t}`;return o.length>8192?e:o},"")}function yF(r){return r.getAllEntries().map(([e,t])=>{let o=`${encodeURIComponent(e)}=${encodeURIComponent(t.value)}`;return t.metadata!==void 0&&(o+=uh+t.metadata.toString()),o})}function qg(r){let e=r.split(uh);if(e.length<=0)return;let t=e.shift();if(!t)return;let o=t.indexOf(SF);if(o<=0)return;let s=decodeURIComponent(t.substring(0,o).trim()),a=decodeURIComponent(t.substring(o+1).trim()),i;return e.length>0&&(i=Lr(e.join(uh))),{key:s,value:a,metadata:i}}function OF(r){return typeof r!="string"||r.length===0?{}:r.split(Hg).map(e=>qg(e)).filter(e=>e!==void 0&&e.value.length>0).reduce((e,t)=>(e[t.key]=t.value,e),{})}var AF=p(()=>{P();gF()});var _r,RF=p(()=>{(function(r){r[r.SUCCESS=0]="SUCCESS",r[r.FAILED=1]="FAILED"})(_r||(_r={}))});var Ec,jg=p(()=>{RF();AF();Ec={getKeyPairs:yF,serializeKeyPairs:vF,parseKeyPairsIntoRecord:OF,parsePairKeyValue:qg}});function _ae(r){return Object.prototype.hasOwnProperty.call(r,"partialSuccess")}function NF(){return{handleResponse:function(r){r==null||!_ae(r)||r.partialSuccess==null||Object.keys(r.partialSuccess).length===0||S.warn("Received Partial Success response:",JSON.stringify(r.partialSuccess))}}}var CF=p(()=>{P()});function fh(r,e){return new Tae(r.transport,r.serializer,NF(),r.promiseHandler,e.timeout)}var Eae,mae,Tae,Yg=p(()=>{jg();ih();CF();P();Eae=function(r,e,t,o){function s(a){return a instanceof t?a:new t(function(i){i(a)})}return new(t||(t=Promise))(function(a,i){function n(u){try{c(o.next(u))}catch(f){i(f)}}function l(u){try{c(o.throw(u))}catch(f){i(f)}}function c(u){u.done?a(u.value):s(u.value).then(n,l)}c((o=o.apply(r,e||[])).next())})},mae=function(r,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},o,s,a,i;return i={next:n(0),throw:n(1),return:n(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function n(c){return function(u){return l([c,u])}}function l(c){if(o)throw new TypeError("Generator is already executing.");for(;t;)try{if(o=1,s&&(a=c[0]&2?s.return:c[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,c[1])).done)return a;switch(s=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,s=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){t.label=c[1];break}if(c[0]===6&&t.label<a[1]){t.label=a[1],a=c;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(c);break}a[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(r,t)}catch(u){c=[6,u],s=0}finally{o=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},Tae=function(){function r(e,t,o,s,a){this._transport=e,this._serializer=t,this._responseHandler=o,this._promiseQueue=s,this._timeout=a,this._diagLogger=S.createComponentLogger({namespace:"OTLPExportDelegate"})}return r.prototype.export=function(e,t){var o=this;if(this._diagLogger.debug("items to be sent",e),this._promiseQueue.hasReachedLimit()){t({code:_r.FAILED,error:new Error("Concurrent export limit reached")});return}var s=this._serializer.serializeRequest(e);if(s==null){t({code:_r.FAILED,error:new Error("Nothing to send")});return}this._promiseQueue.pushPromise(this._transport.send(s,this._timeout).then(function(a){if(a.status==="success"){if(a.data!=null)try{o._responseHandler.handleResponse(o._serializer.deserializeResponse(a.data))}catch(i){o._diagLogger.warn("Export succeeded but could not deserialize response - is the response specification compliant?",i,a.data)}t({code:_r.SUCCESS});return}else if(a.status==="failure"&&a.error){t({code:_r.FAILED,error:a.error});return}else a.status==="retryable"?t({code:_r.FAILED,error:new Zi("Export failed with retryable status")}):t({code:_r.FAILED,error:new Zi("Export failed with unknown error")})},function(a){return t({code:_r.FAILED,error:a})}))},r.prototype.forceFlush=function(){return this._promiseQueue.awaitAll()},r.prototype.shutdown=function(){return Eae(this,void 0,void 0,function(){return mae(this,function(e){switch(e.label){case 0:return this._diagLogger.debug("shutdown started"),[4,this.forceFlush()];case 1:return e.sent(),this._transport.shutdown(),[2]}})})},r}()});function PF(r,e,t){return fh({transport:t,serializer:e,promiseHandler:ch(r)},{timeout:r.timeoutMillis})}var IF=p(()=>{Gg();Yg()});var mc={};Ae(mc,{CompressionAlgorithm:()=>lh,OTLPExporterBase:()=>Br,OTLPExporterError:()=>Zi,createOtlpNetworkExportDelegate:()=>PF,getSharedConfigurationDefaults:()=>ah,mergeOtlpSharedConfigurationWithDefaults:()=>sh});var _n=p(()=>{mF();ih();_c();TF();IF()});function LF(r){return r>=48&&r<=57?r-48:r>=97&&r<=102?r-87:r-55}function Tc(r){let e=new Uint8Array(r.length/2),t=0;for(let o=0;o<r.length;o+=2){let s=LF(r.charCodeAt(o)),a=LF(r.charCodeAt(o+1));e[t++]=s<<4|a}return e}var bF=p(()=>{});function Kg(r){return r[0]*vae+r[1]}var Sae,gae,ike,vae,xF=p(()=>{Sae=9,gae=6,ike=Math.pow(10,gae),vae=Math.pow(10,Sae)});var MF=p(()=>{xF();bF()});function ph(r){let e=BigInt(1e9);return BigInt(r[0])*e+BigInt(r[1])}function zg(r){let e=Number(BigInt.asUintN(32,r)),t=Number(BigInt.asUintN(32,r>>BigInt(32)));return{low:e,high:t}}function dh(r){let e=ph(r);return zg(e)}function $g(r){return ph(r).toString()}function wF(r){return r}function DF(r){if(r!==void 0)return Tc(r)}function $n(r){var e,t;if(r===void 0)return Oae;let o=(e=r.useLongBits)!==null&&e!==void 0?e:!0,s=(t=r.useHex)!==null&&t!==void 0?t:!1;return{encodeHrTime:o?dh:yae,encodeSpanContext:s?wF:Tc,encodeOptionalSpanContext:s?wF:DF}}var yae,Oae,Sc=p(()=>{MF();yae=typeof BigInt<"u"?$g:Kg;Oae={encodeHrTime:dh,encodeSpanContext:Tc,encodeOptionalSpanContext:DF}});var hh,UF=p(()=>{(function(r){r[r.SPAN_KIND_UNSPECIFIED=0]="SPAN_KIND_UNSPECIFIED",r[r.SPAN_KIND_INTERNAL=1]="SPAN_KIND_INTERNAL",r[r.SPAN_KIND_SERVER=2]="SPAN_KIND_SERVER",r[r.SPAN_KIND_CLIENT=3]="SPAN_KIND_CLIENT",r[r.SPAN_KIND_PRODUCER=4]="SPAN_KIND_PRODUCER",r[r.SPAN_KIND_CONSUMER=5]="SPAN_KIND_CONSUMER"})(hh||(hh={}))});function zs(r){return{name:r.name,version:r.version}}function Vr(r){return Object.keys(r).map(e=>_h(e,r[e]))}function _h(r,e){return{key:r,value:Eh(e)}}function Eh(r){let e=typeof r;return e==="string"?{stringValue:r}:e==="number"?Number.isInteger(r)?{intValue:r}:{doubleValue:r}:e==="boolean"?{boolValue:r}:r instanceof Uint8Array?{bytesValue:r}:Array.isArray(r)?{arrayValue:{values:r.map(Eh)}}:e==="object"&&r!=null?{kvlistValue:{values:Object.entries(r).map(([t,o])=>_h(t,o))}}:{}}var $s=p(()=>{});function kF(r,e){var t;let o=r.spanContext(),s=r.status;return{traceId:e.encodeSpanContext(o.traceId),spanId:e.encodeSpanContext(o.spanId),parentSpanId:e.encodeOptionalSpanContext(r.parentSpanId),traceState:(t=o.traceState)===null||t===void 0?void 0:t.serialize(),name:r.name,kind:r.kind==null?0:r.kind+1,startTimeUnixNano:e.encodeHrTime(r.startTime),endTimeUnixNano:e.encodeHrTime(r.endTime),attributes:Vr(r.attributes),droppedAttributesCount:r.droppedAttributesCount,events:r.events.map(a=>Rae(a,e)),droppedEventsCount:r.droppedEventsCount,status:{code:s.code,message:s.message},links:r.links.map(a=>Aae(a,e)),droppedLinksCount:r.droppedLinksCount}}function Aae(r,e){var t;return{attributes:r.attributes?Vr(r.attributes):[],spanId:e.encodeSpanContext(r.context.spanId),traceId:e.encodeSpanContext(r.context.traceId),traceState:(t=r.context.traceState)===null||t===void 0?void 0:t.serialize(),droppedAttributesCount:r.droppedAttributesCount||0}}function Rae(r,e){return{attributes:r.attributes?Vr(r.attributes):[],name:r.name,timeUnixNano:e.encodeHrTime(r.time),droppedAttributesCount:r.droppedAttributesCount||0}}var BF=p(()=>{$s()});function Xs(r){return{attributes:Vr(r.attributes),droppedAttributesCount:0}}var mh=p(()=>{$s()});function Xn(r,e){let t=$n(e);return{resourceSpans:Cae(r,t)}}function Nae(r){let e=new Map;for(let t of r){let o=e.get(t.resource);o||(o=new Map,e.set(t.resource,o));let s=`${t.instrumentationLibrary.name}@${t.instrumentationLibrary.version||""}:${t.instrumentationLibrary.schemaUrl||""}`,a=o.get(s);a||(a=[],o.set(s,a)),a.push(t)}return e}function Cae(r,e){let t=Nae(r),o=[],s=t.entries(),a=s.next();for(;!a.done;){let[i,n]=a.value,l=[],c=n.values(),u=c.next();for(;!u.done;){let _=u.value;if(_.length>0){let m=_.map(O=>kF(O,e));l.push({scope:zs(_[0].instrumentationLibrary),spans:m,schemaUrl:_[0].instrumentationLibrary.schemaUrl})}u=c.next()}let f={resource:Xs(i),scopeSpans:l,schemaUrl:void 0};o.push(f),a=s.next()}return o}var Th=p(()=>{BF();Sc();$s();mh()});function FF(r,e){let t=$n(e);return{resource:Xs(r.resource),schemaUrl:void 0,scopeMetrics:Pae(r.scopeMetrics,t)}}function Pae(r,e){return Array.from(r.map(t=>({scope:zs(t.scope),metrics:t.metrics.map(o=>Iae(o,e)),schemaUrl:t.scope.schemaUrl})))}function Iae(r,e){let t={name:r.descriptor.name,description:r.descriptor.description,unit:r.descriptor.unit},o=Mae(r.aggregationTemporality);switch(r.dataPointType){case lt.SUM:t.sum={aggregationTemporality:o,isMonotonic:r.isMonotonic,dataPoints:VF(r,e)};break;case lt.GAUGE:t.gauge={dataPoints:VF(r,e)};break;case lt.HISTOGRAM:t.histogram={aggregationTemporality:o,dataPoints:bae(r,e)};break;case lt.EXPONENTIAL_HISTOGRAM:t.exponentialHistogram={aggregationTemporality:o,dataPoints:xae(r,e)};break}return t}function Lae(r,e,t){let o={attributes:Vr(r.attributes),startTimeUnixNano:t.encodeHrTime(r.startTime),timeUnixNano:t.encodeHrTime(r.endTime)};switch(e){case Ot.INT:o.asInt=r.value;break;case Ot.DOUBLE:o.asDouble=r.value;break}return o}function VF(r,e){return r.dataPoints.map(t=>Lae(t,r.descriptor.valueType,e))}function bae(r,e){return r.dataPoints.map(t=>{let o=t.value;return{attributes:Vr(t.attributes),bucketCounts:o.buckets.counts,explicitBounds:o.buckets.boundaries,count:o.count,sum:o.sum,min:o.min,max:o.max,startTimeUnixNano:e.encodeHrTime(t.startTime),timeUnixNano:e.encodeHrTime(t.endTime)}})}function xae(r,e){return r.dataPoints.map(t=>{let o=t.value;return{attributes:Vr(t.attributes),count:o.count,min:o.min,max:o.max,sum:o.sum,positive:{offset:o.positive.offset,bucketCounts:o.positive.bucketCounts},negative:{offset:o.negative.offset,bucketCounts:o.negative.bucketCounts},scale:o.scale,zeroCount:o.zeroCount,startTimeUnixNano:e.encodeHrTime(t.startTime),timeUnixNano:e.encodeHrTime(t.endTime)}})}function Mae(r){switch(r){case cr.DELTA:return 1;case cr.CUMULATIVE:return 2}}var GF=p(()=>{P();Hp();Sc();$s();mh()});function Ws(r,e){return{resourceMetrics:r.map(t=>FF(t,e))}}var Sh=p(()=>{GF()});function Js(r,e){let t=$n(e);return{resourceLogs:Dae(r,t)}}function wae(r){let e=new Map;for(let t of r){let{resource:o,instrumentationScope:{name:s,version:a="",schemaUrl:i=""}}=t,n=e.get(o);n||(n=new Map,e.set(o,n));let l=`${s}@${a}:${i}`,c=n.get(l);c||(c=[],n.set(l,c)),c.push(t)}return e}function Dae(r,e){let t=wae(r);return Array.from(t,([o,s])=>({resource:Xs(o),scopeLogs:Array.from(s,([,a])=>({scope:zs(a[0].instrumentationScope),logRecords:a.map(i=>Uae(i,e)),schemaUrl:a[0].instrumentationScope.schemaUrl})),schemaUrl:void 0}))}function Uae(r,e){var t,o,s;return{timeUnixNano:e.encodeHrTime(r.hrTime),observedTimeUnixNano:e.encodeHrTime(r.hrTimeObserved),severityNumber:r.severityNumber,severityText:r.severityText,body:Eh(r.body),attributes:kae(r.attributes),droppedAttributesCount:r.droppedAttributesCount,flags:(t=r.spanContext)===null||t===void 0?void 0:t.traceFlags,traceId:e.encodeOptionalSpanContext((o=r.spanContext)===null||o===void 0?void 0:o.traceId),spanId:e.encodeOptionalSpanContext((s=r.spanContext)===null||s===void 0?void 0:s.spanId)}}function kae(r){return Object.keys(r).map(e=>_h(e,r[e]))}var gh=p(()=>{Sc();$s();mh()});var Xg=T((Yke,HF)=>{"use strict";HF.exports=Bae;function Bae(r,e){for(var t=new Array(arguments.length-1),o=0,s=2,a=!0;s<arguments.length;)t[o++]=arguments[s++];return new Promise(function(n,l){t[o]=function(u){if(a)if(a=!1,u)l(u);else{for(var f=new Array(arguments.length-1),_=0;_<f.length;)f[_++]=arguments[_];n.apply(null,f)}};try{r.apply(e||null,t)}catch(c){a&&(a=!1,l(c))}})}});var KF=T(YF=>{"use strict";var vh=YF;vh.length=function(e){var t=e.length;if(!t)return 0;for(var o=0;--t%4>1&&e.charAt(t)==="=";)++o;return Math.ceil(e.length*3)/4-o};var Qs=new Array(64),jF=new Array(123);for(Er=0;Er<64;)jF[Qs[Er]=Er<26?Er+65:Er<52?Er+71:Er<62?Er-4:Er-59|43]=Er++;var Er;vh.encode=function(e,t,o){for(var s=null,a=[],i=0,n=0,l;t<o;){var c=e[t++];switch(n){case 0:a[i++]=Qs[c>>2],l=(c&3)<<4,n=1;break;case 1:a[i++]=Qs[l|c>>4],l=(c&15)<<2,n=2;break;case 2:a[i++]=Qs[l|c>>6],a[i++]=Qs[c&63],n=0;break}i>8191&&((s||(s=[])).push(String.fromCharCode.apply(String,a)),i=0)}return n&&(a[i++]=Qs[l],a[i++]=61,n===1&&(a[i++]=61)),s?(i&&s.push(String.fromCharCode.apply(String,a.slice(0,i))),s.join("")):String.fromCharCode.apply(String,a.slice(0,i))};var qF="invalid encoding";vh.decode=function(e,t,o){for(var s=o,a=0,i,n=0;n<e.length;){var l=e.charCodeAt(n++);if(l===61&&a>1)break;if((l=jF[l])===void 0)throw Error(qF);switch(a){case 0:i=l,a=1;break;case 1:t[o++]=i<<2|(l&48)>>4,i=l,a=2;break;case 2:t[o++]=(i&15)<<4|(l&60)>>2,i=l,a=3;break;case 3:t[o++]=(i&3)<<6|l,a=0;break}}if(a===1)throw Error(qF);return o-s};vh.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}});var $F=T((zke,zF)=>{"use strict";zF.exports=yh;function yh(){this._listeners={}}yh.prototype.on=function(e,t,o){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:o||this}),this};yh.prototype.off=function(e,t){if(e===void 0)this._listeners={};else if(t===void 0)this._listeners[e]=[];else for(var o=this._listeners[e],s=0;s<o.length;)o[s].fn===t?o.splice(s,1):++s;return this};yh.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var o=[],s=1;s<arguments.length;)o.push(arguments[s++]);for(s=0;s<t.length;)t[s].fn.apply(t[s++].ctx,o)}return this}});var tG=T(($ke,eG)=>{"use strict";eG.exports=XF(XF);function XF(r){return typeof Float32Array<"u"?function(){var e=new Float32Array([-0]),t=new Uint8Array(e.buffer),o=t[3]===128;function s(l,c,u){e[0]=l,c[u]=t[0],c[u+1]=t[1],c[u+2]=t[2],c[u+3]=t[3]}function a(l,c,u){e[0]=l,c[u]=t[3],c[u+1]=t[2],c[u+2]=t[1],c[u+3]=t[0]}r.writeFloatLE=o?s:a,r.writeFloatBE=o?a:s;function i(l,c){return t[0]=l[c],t[1]=l[c+1],t[2]=l[c+2],t[3]=l[c+3],e[0]}function n(l,c){return t[3]=l[c],t[2]=l[c+1],t[1]=l[c+2],t[0]=l[c+3],e[0]}r.readFloatLE=o?i:n,r.readFloatBE=o?n:i}():function(){function e(o,s,a,i){var n=s<0?1:0;if(n&&(s=-s),s===0)o(1/s>0?0:2147483648,a,i);else if(isNaN(s))o(2143289344,a,i);else if(s>34028234663852886e22)o((n<<31|2139095040)>>>0,a,i);else if(s<11754943508222875e-54)o((n<<31|Math.round(s/1401298464324817e-60))>>>0,a,i);else{var l=Math.floor(Math.log(s)/Math.LN2),c=Math.round(s*Math.pow(2,-l)*8388608)&8388607;o((n<<31|l+127<<23|c)>>>0,a,i)}}r.writeFloatLE=e.bind(null,WF),r.writeFloatBE=e.bind(null,JF);function t(o,s,a){var i=o(s,a),n=(i>>31)*2+1,l=i>>>23&255,c=i&8388607;return l===255?c?NaN:n*(1/0):l===0?n*1401298464324817e-60*c:n*Math.pow(2,l-150)*(c+8388608)}r.readFloatLE=t.bind(null,QF),r.readFloatBE=t.bind(null,ZF)}(),typeof Float64Array<"u"?function(){var e=new Float64Array([-0]),t=new Uint8Array(e.buffer),o=t[7]===128;function s(l,c,u){e[0]=l,c[u]=t[0],c[u+1]=t[1],c[u+2]=t[2],c[u+3]=t[3],c[u+4]=t[4],c[u+5]=t[5],c[u+6]=t[6],c[u+7]=t[7]}function a(l,c,u){e[0]=l,c[u]=t[7],c[u+1]=t[6],c[u+2]=t[5],c[u+3]=t[4],c[u+4]=t[3],c[u+5]=t[2],c[u+6]=t[1],c[u+7]=t[0]}r.writeDoubleLE=o?s:a,r.writeDoubleBE=o?a:s;function i(l,c){return t[0]=l[c],t[1]=l[c+1],t[2]=l[c+2],t[3]=l[c+3],t[4]=l[c+4],t[5]=l[c+5],t[6]=l[c+6],t[7]=l[c+7],e[0]}function n(l,c){return t[7]=l[c],t[6]=l[c+1],t[5]=l[c+2],t[4]=l[c+3],t[3]=l[c+4],t[2]=l[c+5],t[1]=l[c+6],t[0]=l[c+7],e[0]}r.readDoubleLE=o?i:n,r.readDoubleBE=o?n:i}():function(){function e(o,s,a,i,n,l){var c=i<0?1:0;if(c&&(i=-i),i===0)o(0,n,l+s),o(1/i>0?0:2147483648,n,l+a);else if(isNaN(i))o(0,n,l+s),o(2146959360,n,l+a);else if(i>17976931348623157e292)o(0,n,l+s),o((c<<31|2146435072)>>>0,n,l+a);else{var u;if(i<22250738585072014e-324)u=i/5e-324,o(u>>>0,n,l+s),o((c<<31|u/4294967296)>>>0,n,l+a);else{var f=Math.floor(Math.log(i)/Math.LN2);f===1024&&(f=1023),u=i*Math.pow(2,-f),o(u*4503599627370496>>>0,n,l+s),o((c<<31|f+1023<<20|u*1048576&1048575)>>>0,n,l+a)}}}r.writeDoubleLE=e.bind(null,WF,0,4),r.writeDoubleBE=e.bind(null,JF,4,0);function t(o,s,a,i,n){var l=o(i,n+s),c=o(i,n+a),u=(c>>31)*2+1,f=c>>>20&2047,_=4294967296*(c&1048575)+l;return f===2047?_?NaN:u*(1/0):f===0?u*5e-324*_:u*Math.pow(2,f-1075)*(_+4503599627370496)}r.readDoubleLE=t.bind(null,QF,0,4),r.readDoubleBE=t.bind(null,ZF,4,0)}(),r}function WF(r,e,t){e[t]=r&255,e[t+1]=r>>>8&255,e[t+2]=r>>>16&255,e[t+3]=r>>>24}function JF(r,e,t){e[t]=r>>>24,e[t+1]=r>>>16&255,e[t+2]=r>>>8&255,e[t+3]=r&255}function QF(r,e){return(r[e]|r[e+1]<<8|r[e+2]<<16|r[e+3]<<24)>>>0}function ZF(r,e){return(r[e]<<24|r[e+1]<<16|r[e+2]<<8|r[e+3])>>>0}});var Wg=T((exports,module)=>{"use strict";module.exports=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(r){}return null}});var nG=T(rG=>{"use strict";var Jg=rG;Jg.length=function(e){for(var t=0,o=0,s=0;s<e.length;++s)o=e.charCodeAt(s),o<128?t+=1:o<2048?t+=2:(o&64512)===55296&&(e.charCodeAt(s+1)&64512)===56320?(++s,t+=4):t+=3;return t};Jg.read=function(e,t,o){var s=o-t;if(s<1)return"";for(var a=null,i=[],n=0,l;t<o;)l=e[t++],l<128?i[n++]=l:l>191&&l<224?i[n++]=(l&31)<<6|e[t++]&63:l>239&&l<365?(l=((l&7)<<18|(e[t++]&63)<<12|(e[t++]&63)<<6|e[t++]&63)-65536,i[n++]=55296+(l>>10),i[n++]=56320+(l&1023)):i[n++]=(l&15)<<12|(e[t++]&63)<<6|e[t++]&63,n>8191&&((a||(a=[])).push(String.fromCharCode.apply(String,i)),n=0);return a?(n&&a.push(String.fromCharCode.apply(String,i.slice(0,n))),a.join("")):String.fromCharCode.apply(String,i.slice(0,n))};Jg.write=function(e,t,o){for(var s=o,a,i,n=0;n<e.length;++n)a=e.charCodeAt(n),a<128?t[o++]=a:a<2048?(t[o++]=a>>6|192,t[o++]=a&63|128):(a&64512)===55296&&((i=e.charCodeAt(n+1))&64512)===56320?(a=65536+((a&1023)<<10)+(i&1023),++n,t[o++]=a>>18|240,t[o++]=a>>12&63|128,t[o++]=a>>6&63|128,t[o++]=a&63|128):(t[o++]=a>>12|224,t[o++]=a>>6&63|128,t[o++]=a&63|128);return o-s}});var oG=T((Wke,iG)=>{"use strict";iG.exports=Vae;function Vae(r,e,t){var o=t||8192,s=o>>>1,a=null,i=o;return function(l){if(l<1||l>s)return r(l);i+l>o&&(a=r(o),i=0);var c=e.call(a,i,i+=l);return i&7&&(i=(i|7)+1),c}}});var aG=T((Jke,sG)=>{"use strict";sG.exports=tt;var gc=Fr();function tt(r,e){this.lo=r>>>0,this.hi=e>>>0}var eo=tt.zero=new tt(0,0);eo.toNumber=function(){return 0};eo.zzEncode=eo.zzDecode=function(){return this};eo.length=function(){return 1};var Fae=tt.zeroHash="\0\0\0\0\0\0\0\0";tt.fromNumber=function(e){if(e===0)return eo;var t=e<0;t&&(e=-e);var o=e>>>0,s=(e-o)/4294967296>>>0;return t&&(s=~s>>>0,o=~o>>>0,++o>4294967295&&(o=0,++s>4294967295&&(s=0))),new tt(o,s)};tt.from=function(e){if(typeof e=="number")return tt.fromNumber(e);if(gc.isString(e))if(gc.Long)e=gc.Long.fromString(e);else return tt.fromNumber(parseInt(e,10));return e.low||e.high?new tt(e.low>>>0,e.high>>>0):eo};tt.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=~this.lo+1>>>0,o=~this.hi>>>0;return t||(o=o+1>>>0),-(t+o*4294967296)}return this.lo+this.hi*4294967296};tt.prototype.toLong=function(e){return gc.Long?new gc.Long(this.lo|0,this.hi|0,!!e):{low:this.lo|0,high:this.hi|0,unsigned:!!e}};var Wn=String.prototype.charCodeAt;tt.fromHash=function(e){return e===Fae?eo:new tt((Wn.call(e,0)|Wn.call(e,1)<<8|Wn.call(e,2)<<16|Wn.call(e,3)<<24)>>>0,(Wn.call(e,4)|Wn.call(e,5)<<8|Wn.call(e,6)<<16|Wn.call(e,7)<<24)>>>0)};tt.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)};tt.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this};tt.prototype.zzDecode=function(){var e=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this};tt.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,o=this.hi>>>24;return o===0?t===0?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:o<128?9:10}});var Fr=T(Qg=>{"use strict";var z=Qg;z.asPromise=Xg();z.base64=KF();z.EventEmitter=$F();z.float=tG();z.inquire=Wg();z.utf8=nG();z.pool=oG();z.LongBits=aG();z.isNode=!!(typeof global<"u"&&global&&global.process&&global.process.versions&&global.process.versions.node);z.global=z.isNode&&global||typeof window<"u"&&window||typeof self<"u"&&self||Qg;z.emptyArray=Object.freeze?Object.freeze([]):[];z.emptyObject=Object.freeze?Object.freeze({}):{};z.isInteger=Number.isInteger||function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e};z.isString=function(e){return typeof e=="string"||e instanceof String};z.isObject=function(e){return e&&typeof e=="object"};z.isset=z.isSet=function(e,t){var o=e[t];return o!=null&&e.hasOwnProperty(t)?typeof o!="object"||(Array.isArray(o)?o.length:Object.keys(o).length)>0:!1};z.Buffer=function(){try{var r=z.inquire("buffer").Buffer;return r.prototype.utf8Write?r:null}catch{return null}}();z._Buffer_from=null;z._Buffer_allocUnsafe=null;z.newBuffer=function(e){return typeof e=="number"?z.Buffer?z._Buffer_allocUnsafe(e):new z.Array(e):z.Buffer?z._Buffer_from(e):typeof Uint8Array>"u"?e:new Uint8Array(e)};z.Array=typeof Uint8Array<"u"?Uint8Array:Array;z.Long=z.global.dcodeIO&&z.global.dcodeIO.Long||z.global.Long||z.inquire("long");z.key2Re=/^true|false|0|1$/;z.key32Re=/^-?(?:0|[1-9][0-9]*)$/;z.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/;z.longToHash=function(e){return e?z.LongBits.from(e).toHash():z.LongBits.zeroHash};z.longFromHash=function(e,t){var o=z.LongBits.fromHash(e);return z.Long?z.Long.fromBits(o.lo,o.hi,t):o.toNumber(!!t)};function lG(r,e,t){for(var o=Object.keys(e),s=0;s<o.length;++s)(r[o[s]]===void 0||!t)&&(r[o[s]]=e[o[s]]);return r}z.merge=lG;z.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)};function cG(r){function e(t,o){if(!(this instanceof e))return new e(t,o);Object.defineProperty(this,"message",{get:function(){return t}}),Error.captureStackTrace?Error.captureStackTrace(this,e):Object.defineProperty(this,"stack",{value:new Error().stack||""}),o&&lG(this,o)}return e.prototype=Object.create(Error.prototype,{constructor:{value:e,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return r},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),e}z.newError=cG;z.ProtocolError=cG("ProtocolError");z.oneOfGetter=function(e){for(var t={},o=0;o<e.length;++o)t[e[o]]=1;return function(){for(var s=Object.keys(this),a=s.length-1;a>-1;--a)if(t[s[a]]===1&&this[s[a]]!==void 0&&this[s[a]]!==null)return s[a]}};z.oneOfSetter=function(e){return function(t){for(var o=0;o<e.length;++o)e[o]!==t&&delete this[e[o]]}};z.toJSONOptions={longs:String,enums:String,bytes:String,json:!0};z._configure=function(){var r=z.Buffer;if(!r){z._Buffer_from=z._Buffer_allocUnsafe=null;return}z._Buffer_from=r.from!==Uint8Array.from&&r.from||function(t,o){return new r(t,o)},z._Buffer_allocUnsafe=r.allocUnsafe||function(t){return new r(t)}}});var Ah=T((Zke,dG)=>{"use strict";dG.exports=_e;var Zt=Fr(),Zg,Oh=Zt.LongBits,uG=Zt.base64,fG=Zt.utf8;function vc(r,e,t){this.fn=r,this.len=e,this.next=void 0,this.val=t}function tv(){}function Gae(r){this.head=r.head,this.tail=r.tail,this.len=r.len,this.next=r.states}function _e(){this.len=0,this.head=new vc(tv,0,0),this.tail=this.head,this.states=null}var pG=function(){return Zt.Buffer?function(){return(_e.create=function(){return new Zg})()}:function(){return new _e}};_e.create=pG();_e.alloc=function(e){return new Zt.Array(e)};Zt.Array!==Array&&(_e.alloc=Zt.pool(_e.alloc,Zt.Array.prototype.subarray));_e.prototype._push=function(e,t,o){return this.tail=this.tail.next=new vc(e,t,o),this.len+=t,this};function rv(r,e,t){e[t]=r&255}function Hae(r,e,t){for(;r>127;)e[t++]=r&127|128,r>>>=7;e[t]=r}function nv(r,e){this.len=r,this.next=void 0,this.val=e}nv.prototype=Object.create(vc.prototype);nv.prototype.fn=Hae;_e.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new nv((e=e>>>0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this};_e.prototype.int32=function(e){return e<0?this._push(iv,10,Oh.fromNumber(e)):this.uint32(e)};_e.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)};function iv(r,e,t){for(;r.hi;)e[t++]=r.lo&127|128,r.lo=(r.lo>>>7|r.hi<<25)>>>0,r.hi>>>=7;for(;r.lo>127;)e[t++]=r.lo&127|128,r.lo=r.lo>>>7;e[t++]=r.lo}_e.prototype.uint64=function(e){var t=Oh.from(e);return this._push(iv,t.length(),t)};_e.prototype.int64=_e.prototype.uint64;_e.prototype.sint64=function(e){var t=Oh.from(e).zzEncode();return this._push(iv,t.length(),t)};_e.prototype.bool=function(e){return this._push(rv,1,e?1:0)};function ev(r,e,t){e[t]=r&255,e[t+1]=r>>>8&255,e[t+2]=r>>>16&255,e[t+3]=r>>>24}_e.prototype.fixed32=function(e){return this._push(ev,4,e>>>0)};_e.prototype.sfixed32=_e.prototype.fixed32;_e.prototype.fixed64=function(e){var t=Oh.from(e);return this._push(ev,4,t.lo)._push(ev,4,t.hi)};_e.prototype.sfixed64=_e.prototype.fixed64;_e.prototype.float=function(e){return this._push(Zt.float.writeFloatLE,4,e)};_e.prototype.double=function(e){return this._push(Zt.float.writeDoubleLE,8,e)};var qae=Zt.Array.prototype.set?function(e,t,o){t.set(e,o)}:function(e,t,o){for(var s=0;s<e.length;++s)t[o+s]=e[s]};_e.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(rv,1,0);if(Zt.isString(e)){var o=_e.alloc(t=uG.length(e));uG.decode(e,o,0),e=o}return this.uint32(t)._push(qae,t,e)};_e.prototype.string=function(e){var t=fG.length(e);return t?this.uint32(t)._push(fG.write,t,e):this._push(rv,1,0)};_e.prototype.fork=function(){return this.states=new Gae(this),this.head=this.tail=new vc(tv,0,0),this.len=0,this};_e.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new vc(tv,0,0),this.len=0),this};_e.prototype.ldelim=function(){var e=this.head,t=this.tail,o=this.len;return this.reset().uint32(o),o&&(this.tail.next=e.next,this.tail=t,this.len+=o),this};_e.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),o=0;e;)e.fn(e.val,t,o),o+=e.len,e=e.next;return t};_e._configure=function(r){Zg=r,_e.create=pG(),Zg._configure()}});var EG=T((eBe,_G)=>{"use strict";_G.exports=Gr;var hG=Ah();(Gr.prototype=Object.create(hG.prototype)).constructor=Gr;var Jn=Fr();function Gr(){hG.call(this)}Gr._configure=function(){Gr.alloc=Jn._Buffer_allocUnsafe,Gr.writeBytesBuffer=Jn.Buffer&&Jn.Buffer.prototype instanceof Uint8Array&&Jn.Buffer.prototype.set.name==="set"?function(e,t,o){t.set(e,o)}:function(e,t,o){if(e.copy)e.copy(t,o,0,e.length);else for(var s=0;s<e.length;)t[o++]=e[s++]}};Gr.prototype.bytes=function(e){Jn.isString(e)&&(e=Jn._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(Gr.writeBytesBuffer,t,e),this};function jae(r,e,t){r.length<40?Jn.utf8.write(r,e,t):e.utf8Write?e.utf8Write(r,t):e.write(r,t)}Gr.prototype.string=function(e){var t=Jn.Buffer.byteLength(e);return this.uint32(t),t&&this._push(jae,t,e),this};Gr._configure()});var Nh=T((tBe,vG)=>{"use strict";vG.exports=Ge;var mr=Fr(),sv,SG=mr.LongBits,Yae=mr.utf8;function Tr(r,e){return RangeError("index out of range: "+r.pos+" + "+(e||1)+" > "+r.len)}function Ge(r){this.buf=r,this.pos=0,this.len=r.length}var mG=typeof Uint8Array<"u"?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new Ge(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new Ge(e);throw Error("illegal buffer")},gG=function(){return mr.Buffer?function(t){return(Ge.create=function(s){return mr.Buffer.isBuffer(s)?new sv(s):mG(s)})(t)}:mG};Ge.create=gG();Ge.prototype._slice=mr.Array.prototype.subarray||mr.Array.prototype.slice;Ge.prototype.uint32=function(){var e=4294967295;return function(){if(e=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(e=(e|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return e;if((this.pos+=5)>this.len)throw this.pos=this.len,Tr(this,10);return e}}();Ge.prototype.int32=function(){return this.uint32()|0};Ge.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(e&1)|0};function ov(){var r=new SG(0,0),e=0;if(this.len-this.pos>4){for(;e<4;++e)if(r.lo=(r.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return r;if(r.lo=(r.lo|(this.buf[this.pos]&127)<<28)>>>0,r.hi=(r.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return r;e=0}else{for(;e<3;++e){if(this.pos>=this.len)throw Tr(this);if(r.lo=(r.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return r}return r.lo=(r.lo|(this.buf[this.pos++]&127)<<e*7)>>>0,r}if(this.len-this.pos>4){for(;e<5;++e)if(r.hi=(r.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return r}else for(;e<5;++e){if(this.pos>=this.len)throw Tr(this);if(r.hi=(r.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return r}throw Error("invalid varint encoding")}Ge.prototype.bool=function(){return this.uint32()!==0};function Rh(r,e){return(r[e-4]|r[e-3]<<8|r[e-2]<<16|r[e-1]<<24)>>>0}Ge.prototype.fixed32=function(){if(this.pos+4>this.len)throw Tr(this,4);return Rh(this.buf,this.pos+=4)};Ge.prototype.sfixed32=function(){if(this.pos+4>this.len)throw Tr(this,4);return Rh(this.buf,this.pos+=4)|0};function TG(){if(this.pos+8>this.len)throw Tr(this,8);return new SG(Rh(this.buf,this.pos+=4),Rh(this.buf,this.pos+=4))}Ge.prototype.float=function(){if(this.pos+4>this.len)throw Tr(this,4);var e=mr.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e};Ge.prototype.double=function(){if(this.pos+8>this.len)throw Tr(this,4);var e=mr.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e};Ge.prototype.bytes=function(){var e=this.uint32(),t=this.pos,o=this.pos+e;if(o>this.len)throw Tr(this,e);if(this.pos+=e,Array.isArray(this.buf))return this.buf.slice(t,o);if(t===o){var s=mr.Buffer;return s?s.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,t,o)};Ge.prototype.string=function(){var e=this.bytes();return Yae.read(e,0,e.length)};Ge.prototype.skip=function(e){if(typeof e=="number"){if(this.pos+e>this.len)throw Tr(this,e);this.pos+=e}else do if(this.pos>=this.len)throw Tr(this);while(this.buf[this.pos++]&128);return this};Ge.prototype.skipType=function(r){switch(r){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(r=this.uint32()&7)!==4;)this.skipType(r);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+r+" at offset "+this.pos)}return this};Ge._configure=function(r){sv=r,Ge.create=gG(),sv._configure();var e=mr.Long?"toLong":"toNumber";mr.merge(Ge.prototype,{int64:function(){return ov.call(this)[e](!1)},uint64:function(){return ov.call(this)[e](!0)},sint64:function(){return ov.call(this).zzDecode()[e](!1)},fixed64:function(){return TG.call(this)[e](!0)},sfixed64:function(){return TG.call(this)[e](!1)}})}});var RG=T((rBe,AG)=>{"use strict";AG.exports=to;var OG=Nh();(to.prototype=Object.create(OG.prototype)).constructor=to;var yG=Fr();function to(r){OG.call(this,r)}to._configure=function(){yG.Buffer&&(to.prototype._slice=yG.Buffer.prototype.slice)};to.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))};to._configure()});var CG=T((nBe,NG)=>{"use strict";NG.exports=yc;var av=Fr();(yc.prototype=Object.create(av.EventEmitter.prototype)).constructor=yc;function yc(r,e,t){if(typeof r!="function")throw TypeError("rpcImpl must be a function");av.EventEmitter.call(this),this.rpcImpl=r,this.requestDelimited=!!e,this.responseDelimited=!!t}yc.prototype.rpcCall=function r(e,t,o,s,a){if(!s)throw TypeError("request must be specified");var i=this;if(!a)return av.asPromise(r,i,e,t,o,s);if(!i.rpcImpl){setTimeout(function(){a(Error("already ended"))},0);return}try{return i.rpcImpl(e,t[i.requestDelimited?"encodeDelimited":"encode"](s).finish(),function(l,c){if(l)return i.emit("error",l,e),a(l);if(c===null){i.end(!0);return}if(!(c instanceof o))try{c=o[i.responseDelimited?"decodeDelimited":"decode"](c)}catch(u){return i.emit("error",u,e),a(u)}return i.emit("data",c,e),a(null,c)})}catch(n){i.emit("error",n,e),setTimeout(function(){a(n)},0);return}};yc.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}});var lv=T(PG=>{"use strict";var Kae=PG;Kae.Service=CG()});var cv=T((oBe,IG)=>{"use strict";IG.exports={}});var uv=T(bG=>{"use strict";var Ct=bG;Ct.build="minimal";Ct.Writer=Ah();Ct.BufferWriter=EG();Ct.Reader=Nh();Ct.BufferReader=RG();Ct.util=Fr();Ct.rpc=lv();Ct.roots=cv();Ct.configure=LG;function LG(){Ct.util._configure(),Ct.Writer._configure(Ct.BufferWriter),Ct.Reader._configure(Ct.BufferReader)}LG()});var MG=T((aBe,xG)=>{"use strict";xG.exports=uv()});var DG=T((lBe,wG)=>{"use strict";var X=MG(),g=X.Reader,oe=X.Writer,h=X.util,d=X.roots.default||(X.roots.default={});d.opentelemetry=function(){var r={};return r.proto=function(){var e={};return e.common=function(){var t={};return t.v1=function(){var o={};return o.AnyValue=function(){function s(i){if(i)for(var n=Object.keys(i),l=0;l<n.length;++l)i[n[l]]!=null&&(this[n[l]]=i[n[l]])}s.prototype.stringValue=null,s.prototype.boolValue=null,s.prototype.intValue=null,s.prototype.doubleValue=null,s.prototype.arrayValue=null,s.prototype.kvlistValue=null,s.prototype.bytesValue=null;var a;return Object.defineProperty(s.prototype,"value",{get:h.oneOfGetter(a=["stringValue","boolValue","intValue","doubleValue","arrayValue","kvlistValue","bytesValue"]),set:h.oneOfSetter(a)}),s.create=function(n){return new s(n)},s.encode=function(n,l){return l||(l=oe.create()),n.stringValue!=null&&Object.hasOwnProperty.call(n,"stringValue")&&l.uint32(10).string(n.stringValue),n.boolValue!=null&&Object.hasOwnProperty.call(n,"boolValue")&&l.uint32(16).bool(n.boolValue),n.intValue!=null&&Object.hasOwnProperty.call(n,"intValue")&&l.uint32(24).int64(n.intValue),n.doubleValue!=null&&Object.hasOwnProperty.call(n,"doubleValue")&&l.uint32(33).double(n.doubleValue),n.arrayValue!=null&&Object.hasOwnProperty.call(n,"arrayValue")&&d.opentelemetry.proto.common.v1.ArrayValue.encode(n.arrayValue,l.uint32(42).fork()).ldelim(),n.kvlistValue!=null&&Object.hasOwnProperty.call(n,"kvlistValue")&&d.opentelemetry.proto.common.v1.KeyValueList.encode(n.kvlistValue,l.uint32(50).fork()).ldelim(),n.bytesValue!=null&&Object.hasOwnProperty.call(n,"bytesValue")&&l.uint32(58).bytes(n.bytesValue),l},s.encodeDelimited=function(n,l){return this.encode(n,l).ldelim()},s.decode=function(n,l){n instanceof g||(n=g.create(n));for(var c=l===void 0?n.len:n.pos+l,u=new d.opentelemetry.proto.common.v1.AnyValue;n.pos<c;){var f=n.uint32();switch(f>>>3){case 1:{u.stringValue=n.string();break}case 2:{u.boolValue=n.bool();break}case 3:{u.intValue=n.int64();break}case 4:{u.doubleValue=n.double();break}case 5:{u.arrayValue=d.opentelemetry.proto.common.v1.ArrayValue.decode(n,n.uint32());break}case 6:{u.kvlistValue=d.opentelemetry.proto.common.v1.KeyValueList.decode(n,n.uint32());break}case 7:{u.bytesValue=n.bytes();break}default:n.skipType(f&7);break}}return u},s.decodeDelimited=function(n){return n instanceof g||(n=new g(n)),this.decode(n,n.uint32())},s.verify=function(n){if(typeof n!="object"||n===null)return"object expected";var l={};if(n.stringValue!=null&&n.hasOwnProperty("stringValue")&&(l.value=1,!h.isString(n.stringValue)))return"stringValue: string expected";if(n.boolValue!=null&&n.hasOwnProperty("boolValue")){if(l.value===1)return"value: multiple values";if(l.value=1,typeof n.boolValue!="boolean")return"boolValue: boolean expected"}if(n.intValue!=null&&n.hasOwnProperty("intValue")){if(l.value===1)return"value: multiple values";if(l.value=1,!h.isInteger(n.intValue)&&!(n.intValue&&h.isInteger(n.intValue.low)&&h.isInteger(n.intValue.high)))return"intValue: integer|Long expected"}if(n.doubleValue!=null&&n.hasOwnProperty("doubleValue")){if(l.value===1)return"value: multiple values";if(l.value=1,typeof n.doubleValue!="number")return"doubleValue: number expected"}if(n.arrayValue!=null&&n.hasOwnProperty("arrayValue")){if(l.value===1)return"value: multiple values";l.value=1;{var c=d.opentelemetry.proto.common.v1.ArrayValue.verify(n.arrayValue);if(c)return"arrayValue."+c}}if(n.kvlistValue!=null&&n.hasOwnProperty("kvlistValue")){if(l.value===1)return"value: multiple values";l.value=1;{var c=d.opentelemetry.proto.common.v1.KeyValueList.verify(n.kvlistValue);if(c)return"kvlistValue."+c}}if(n.bytesValue!=null&&n.hasOwnProperty("bytesValue")){if(l.value===1)return"value: multiple values";if(l.value=1,!(n.bytesValue&&typeof n.bytesValue.length=="number"||h.isString(n.bytesValue)))return"bytesValue: buffer expected"}return null},s.fromObject=function(n){if(n instanceof d.opentelemetry.proto.common.v1.AnyValue)return n;var l=new d.opentelemetry.proto.common.v1.AnyValue;if(n.stringValue!=null&&(l.stringValue=String(n.stringValue)),n.boolValue!=null&&(l.boolValue=!!n.boolValue),n.intValue!=null&&(h.Long?(l.intValue=h.Long.fromValue(n.intValue)).unsigned=!1:typeof n.intValue=="string"?l.intValue=parseInt(n.intValue,10):typeof n.intValue=="number"?l.intValue=n.intValue:typeof n.intValue=="object"&&(l.intValue=new h.LongBits(n.intValue.low>>>0,n.intValue.high>>>0).toNumber())),n.doubleValue!=null&&(l.doubleValue=Number(n.doubleValue)),n.arrayValue!=null){if(typeof n.arrayValue!="object")throw TypeError(".opentelemetry.proto.common.v1.AnyValue.arrayValue: object expected");l.arrayValue=d.opentelemetry.proto.common.v1.ArrayValue.fromObject(n.arrayValue)}if(n.kvlistValue!=null){if(typeof n.kvlistValue!="object")throw TypeError(".opentelemetry.proto.common.v1.AnyValue.kvlistValue: object expected");l.kvlistValue=d.opentelemetry.proto.common.v1.KeyValueList.fromObject(n.kvlistValue)}return n.bytesValue!=null&&(typeof n.bytesValue=="string"?h.base64.decode(n.bytesValue,l.bytesValue=h.newBuffer(h.base64.length(n.bytesValue)),0):n.bytesValue.length>=0&&(l.bytesValue=n.bytesValue)),l},s.toObject=function(n,l){l||(l={});var c={};return n.stringValue!=null&&n.hasOwnProperty("stringValue")&&(c.stringValue=n.stringValue,l.oneofs&&(c.value="stringValue")),n.boolValue!=null&&n.hasOwnProperty("boolValue")&&(c.boolValue=n.boolValue,l.oneofs&&(c.value="boolValue")),n.intValue!=null&&n.hasOwnProperty("intValue")&&(typeof n.intValue=="number"?c.intValue=l.longs===String?String(n.intValue):n.intValue:c.intValue=l.longs===String?h.Long.prototype.toString.call(n.intValue):l.longs===Number?new h.LongBits(n.intValue.low>>>0,n.intValue.high>>>0).toNumber():n.intValue,l.oneofs&&(c.value="intValue")),n.doubleValue!=null&&n.hasOwnProperty("doubleValue")&&(c.doubleValue=l.json&&!isFinite(n.doubleValue)?String(n.doubleValue):n.doubleValue,l.oneofs&&(c.value="doubleValue")),n.arrayValue!=null&&n.hasOwnProperty("arrayValue")&&(c.arrayValue=d.opentelemetry.proto.common.v1.ArrayValue.toObject(n.arrayValue,l),l.oneofs&&(c.value="arrayValue")),n.kvlistValue!=null&&n.hasOwnProperty("kvlistValue")&&(c.kvlistValue=d.opentelemetry.proto.common.v1.KeyValueList.toObject(n.kvlistValue,l),l.oneofs&&(c.value="kvlistValue")),n.bytesValue!=null&&n.hasOwnProperty("bytesValue")&&(c.bytesValue=l.bytes===String?h.base64.encode(n.bytesValue,0,n.bytesValue.length):l.bytes===Array?Array.prototype.slice.call(n.bytesValue):n.bytesValue,l.oneofs&&(c.value="bytesValue")),c},s.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},s.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/opentelemetry.proto.common.v1.AnyValue"},s}(),o.ArrayValue=function(){function s(a){if(this.values=[],a)for(var i=Object.keys(a),n=0;n<i.length;++n)a[i[n]]!=null&&(this[i[n]]=a[i[n]])}return s.prototype.values=h.emptyArray,s.create=function(i){return new s(i)},s.encode=function(i,n){if(n||(n=oe.create()),i.values!=null&&i.values.length)for(var l=0;l<i.values.length;++l)d.opentelemetry.proto.common.v1.AnyValue.encode(i.values[l],n.uint32(10).fork()).ldelim();return n},s.encodeDelimited=function(i,n){return this.encode(i,n).ldelim()},s.decode=function(i,n){i instanceof g||(i=g.create(i));for(var l=n===void 0?i.len:i.pos+n,c=new d.opentelemetry.proto.common.v1.ArrayValue;i.pos<l;){var u=i.uint32();switch(u>>>3){case 1:{c.values&&c.values.length||(c.values=[]),c.values.push(d.opentelemetry.proto.common.v1.AnyValue.decode(i,i.uint32()));break}default:i.skipType(u&7);break}}return c},s.decodeDelimited=function(i){return i instanceof g||(i=new g(i)),this.decode(i,i.uint32())},s.verify=function(i){if(typeof i!="object"||i===null)return"object expected";if(i.values!=null&&i.hasOwnProperty("values")){if(!Array.isArray(i.values))return"values: array expected";for(var n=0;n<i.values.length;++n){var l=d.opentelemetry.proto.common.v1.AnyValue.verify(i.values[n]);if(l)return"values."+l}}return null},s.fromObject=function(i){if(i instanceof d.opentelemetry.proto.common.v1.ArrayValue)return i;var n=new d.opentelemetry.proto.common.v1.ArrayValue;if(i.values){if(!Array.isArray(i.values))throw TypeError(".opentelemetry.proto.common.v1.ArrayValue.values: array expected");n.values=[];for(var l=0;l<i.values.length;++l){if(typeof i.values[l]!="object")throw TypeError(".opentelemetry.proto.common.v1.ArrayValue.values: object expected");n.values[l]=d.opentelemetry.proto.common.v1.AnyValue.fromObject(i.values[l])}}return n},s.toObject=function(i,n){n||(n={});var l={};if((n.arrays||n.defaults)&&(l.values=[]),i.values&&i.values.length){l.values=[];for(var c=0;c<i.values.length;++c)l.values[c]=d.opentelemetry.proto.common.v1.AnyValue.toObject(i.values[c],n)}return l},s.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},s.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/opentelemetry.proto.common.v1.ArrayValue"},s}(),o.KeyValueList=function(){function s(a){if(this.values=[],a)for(var i=Object.keys(a),n=0;n<i.length;++n)a[i[n]]!=null&&(this[i[n]]=a[i[n]])}return s.prototype.values=h.emptyArray,s.create=function(i){return new s(i)},s.encode=function(i,n){if(n||(n=oe.create()),i.values!=null&&i.values.length)for(var l=0;l<i.values.length;++l)d.opentelemetry.proto.common.v1.KeyValue.encode(i.values[l],n.uint32(10).fork()).ldelim();return n},s.encodeDelimited=function(i,n){return this.encode(i,n).ldelim()},s.decode=function(i,n){i instanceof g||(i=g.create(i));for(var l=n===void 0?i.len:i.pos+n,c=new d.opentelemetry.proto.common.v1.KeyValueList;i.pos<l;){var u=i.uint32();switch(u>>>3){case 1:{c.values&&c.values.length||(c.values=[]),c.values.push(d.opentelemetry.proto.common.v1.KeyValue.decode(i,i.uint32()));break}default:i.skipType(u&7);break}}return c},s.decodeDelimited=function(i){return i instanceof g||(i=new g(i)),this.decode(i,i.uint32())},s.verify=function(i){if(typeof i!="object"||i===null)return"object expected";if(i.values!=null&&i.hasOwnProperty("values")){if(!Array.isArray(i.values))return"values: array expected";for(var n=0;n<i.values.length;++n){var l=d.opentelemetry.proto.common.v1.KeyValue.verify(i.values[n]);if(l)return"values."+l}}return null},s.fromObject=function(i){if(i instanceof d.opentelemetry.proto.common.v1.KeyValueList)return i;var n=new d.opentelemetry.proto.common.v1.KeyValueList;if(i.values){if(!Array.isArray(i.values))throw TypeError(".opentelemetry.proto.common.v1.KeyValueList.values: array expected");n.values=[];for(var l=0;l<i.values.length;++l){if(typeof i.values[l]!="object")throw TypeError(".opentelemetry.proto.common.v1.KeyValueList.values: object expected");n.values[l]=d.opentelemetry.proto.common.v1.KeyValue.fromObject(i.values[l])}}return n},s.toObject=function(i,n){n||(n={});var l={};if((n.arrays||n.defaults)&&(l.values=[]),i.values&&i.values.length){l.values=[];for(var c=0;c<i.values.length;++c)l.values[c]=d.opentelemetry.proto.common.v1.KeyValue.toObject(i.values[c],n)}return l},s.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},s.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/opentelemetry.proto.common.v1.KeyValueList"},s}(),o.KeyValue=function(){function s(a){if(a)for(var i=Object.keys(a),n=0;n<i.length;++n)a[i[n]]!=null&&(this[i[n]]=a[i[n]])}return s.prototype.key=null,s.prototype.value=null,s.create=function(i){return new s(i)},s.encode=function(i,n){return n||(n=oe.create()),i.key!=null&&Object.hasOwnProperty.call(i,"key")&&n.uint32(10).string(i.key),i.value!=null&&Object.hasOwnProperty.call(i,"value")&&d.opentelemetry.proto.common.v1.AnyValue.encode(i.value,n.uint32(18).fork()).ldelim(),n},s.encodeDelimited=function(i,n){return this.encode(i,n).ldelim()},s.decode=function(i,n){i instanceof g||(i=g.create(i));for(var l=n===void 0?i.len:i.pos+n,c=new d.opentelemetry.proto.common.v1.KeyValue;i.pos<l;){var u=i.uint32();switch(u>>>3){case 1:{c.key=i.string();break}case 2:{c.value=d.opentelemetry.proto.common.v1.AnyValue.decode(i,i.uint32());break}default:i.skipType(u&7);break}}return c},s.decodeDelimited=function(i){return i instanceof g||(i=new g(i)),this.decode(i,i.uint32())},s.verify=function(i){if(typeof i!="object"||i===null)return"object expected";if(i.key!=null&&i.hasOwnProperty("key")&&!h.isString(i.key))return"key: string expected";if(i.value!=null&&i.hasOwnProperty("value")){var n=d.opentelemetry.proto.common.v1.AnyValue.verify(i.value);if(n)return"value."+n}return null},s.fromObject=function(i){if(i instanceof d.opentelemetry.proto.common.v1.KeyValue)return i;var n=new d.opentelemetry.proto.common.v1.KeyValue;if(i.key!=null&&(n.key=String(i.key)),i.value!=null){if(typeof i.value!="object")throw TypeError(".opentelemetry.proto.common.v1.KeyValue.value: object expected");n.value=d.opentelemetry.proto.common.v1.AnyValue.fromObject(i.value)}return n},s.toObject=function(i,n){n||(n={});var l={};return n.defaults&&(l.key="",l.value=null),i.key!=null&&i.hasOwnProperty("key")&&(l.key=i.key),i.value!=null&&i.hasOwnProperty("value")&&(l.value=d.opentelemetry.proto.common.v1.AnyValue.toObject(i.value,n)),l},s.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},s.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/opentelemetry.proto.common.v1.KeyValue"},s}(),o.InstrumentationScope=function(){function s(a){if(this.attributes=[],a)for(var i=Object.keys(a),n=0;n<i.length;++n)a[i[n]]!=null&&(this[i[n]]=a[i[n]])}return s.prototype.name=null,s.prototype.version=null,s.prototype.attributes=h.emptyArray,s.prototype.droppedAttributesCount=null,s.create=function(i){return new s(i)},s.encode=function(i,n){if(n||(n=oe.create()),i.name!=null&&Object.hasOwnProperty.call(i,"name")&&n.uint32(10).string(i.name),i.version!=null&&Object.hasOwnProperty.call(i,"version")&&n.uint32(18).string(i.version),i.attributes!=null&&i.attributes.length)for(var l=0;l<i.attributes.length;++l)d.opentelemetry.proto.common.v1.KeyValue.encode(i.attributes[l],n.uint32(26).fork()).ldelim();return i.droppedAttributesCount!=null&&Object.hasOwnProperty.call(i,"droppedAttributesCount")&&n.uint32(32).uint32(i.droppedAttributesCount),n},s.encodeDelimited=function(i,n){return this.encode(i,n).ldelim()},s.decode=function(i,n){i instanceof g||(i=g.create(i));for(var l=n===void 0?i.len:i.pos+n,c=new d.opentelemetry.proto.common.v1.InstrumentationScope;i.pos<l;){var u=i.uint32();switch(u>>>3){case 1:{c.name=i.string();break}case 2:{c.version=i.string();break}case 3:{c.attributes&&c.attributes.length||(c.attributes=[]),c.attributes.push(d.opentelemetry.proto.common.v1.KeyValue.decode(i,i.uint32()));break}case 4:{c.droppedAttributesCount=i.uint32();break}default:i.skipType(u&7);break}}return c},s.decodeDelimited=function(i){return i instanceof g||(i=new g(i)),this.decode(i,i.uint32())},s.verify=function(i){if(typeof i!="object"||i===null)return"object expected";if(i.name!=null&&i.hasOwnProperty("name")&&!h.isString(i.name))return"name: string expected";if(i.version!=null&&i.hasOwnProperty("version")&&!h.isString(i.version))return"version: string expected";if(i.attributes!=null&&i.hasOwnProperty("attributes")){if(!Array.isArray(i.attributes))return"attributes: array expected";for(var n=0;n<i.attributes.length;++n){var l=d.opentelemetry.proto.common.v1.KeyValue.verify(i.attributes[n]);if(l)return"attributes."+l}}return i.droppedAttributesCount!=null&&i.hasOwnProperty("droppedAttributesCount")&&!h.isInteger(i.droppedAttributesCount)?"droppedAttributesCount: integer expected":null},s.fromObject=function(i){if(i instanceof d.opentelemetry.proto.common.v1.InstrumentationScope)return i;var n=new d.opentelemetry.proto.common.v1.InstrumentationScope;if(i.name!=null&&(n.name=String(i.name)),i.version!=null&&(n.version=String(i.version)),i.attributes){if(!Array.isArray(i.attributes))throw TypeError(".opentelemetry.proto.common.v1.InstrumentationScope.attributes: array expected");n.attributes=[];for(var l=0;l<i.attributes.length;++l){if(typeof i.attributes[l]!="object")throw TypeError(".opentelemetry.proto.common.v1.InstrumentationScope.attributes: object expected");n.attributes[l]=d.opentelemetry.proto.common.v1.KeyValue.fromObject(i.attributes[l])}}return i.droppedAttributesCount!=null&&(n.droppedAttributesCount=i.droppedAttributesCount>>>0),n},s.toObject=function(i,n){n||(n={});var l={};if((n.arrays||n.defaults)&&(l.attributes=[]),n.defaults&&(l.name="",l.version="",l.droppedAttributesCount=0),i.name!=null&&i.hasOwnProperty("name")&&(l.name=i.name),i.version!=null&&i.hasOwnProperty("version")&&(l.version=i.version),i.attributes&&i.attributes.length){l.attributes=[];for(var c=0;c<i.attributes.length;++c)l.attributes[c]=d.opentelemetry.proto.common.v1.KeyValue.toObject(i.attributes[c],n)}return i.droppedAttributesCount!=null&&i.hasOwnProperty("droppedAttributesCount")&&(l.droppedAttributesCount=i.droppedAttributesCount),l},s.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},s.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/opentelemetry.proto.common.v1.InstrumentationScope"},s}(),o}(),t}(),e.resource=function(){var t={};return t.v1=function(){var o={};return o.Resource=function(){function s(a){if(this.attributes=[],a)for(var i=Object.keys(a),n=0;n<i.length;++n)a[i[n]]!=null&&(this[i[n]]=a[i[n]])}return s.prototype.attributes=h.emptyArray,s.prototype.droppedAttributesCount=null,s.create=function(i){return new s(i)},s.encode=function(i,n){if(n||(n=oe.create()),i.attributes!=null&&i.attributes.length)for(var l=0;l<i.attributes.length;++l)d.opentelemetry.proto.common.v1.KeyValue.encode(i.attributes[l],n.uint32(10).fork()).ldelim();return i.droppedAttributesCount!=null&&Object.hasOwnProperty.call(i,"droppedAttributesCount")&&n.uint32(16).uint32(i.droppedAttributesCount),n},s.encodeDelimited=function(i,n){return this.encode(i,n).ldelim()},s.decode=function(i,n){i instanceof g||(i=g.create(i));for(var l=n===void 0?i.len:i.pos+n,c=new d.opentelemetry.proto.resource.v1.Resource;i.pos<l;){var u=i.uint32();switch(u>>>3){case 1:{c.attributes&&c.attributes.length||(c.attributes=[]),c.attributes.push(d.opentelemetry.proto.common.v1.KeyValue.decode(i,i.uint32()));break}case 2:{c.droppedAttributesCount=i.uint32();break}default:i.skipType(u&7);break}}return c},s.decodeDelimited=function(i){return i instanceof g||(i=new g(i)),this.decode(i,i.uint32())},s.verify=function(i){if(typeof i!="object"||i===null)return"object expected";if(i.attributes!=null&&i.hasOwnProperty("attributes")){if(!Array.isArray(i.attributes))return"attributes: array expected";for(var n=0;n<i.attributes.length;++n){var l=d.opentelemetry.proto.common.v1.KeyValue.verify(i.attributes[n]);if(l)return"attributes."+l}}return i.droppedAttributesCount!=null&&i.hasOwnProperty("droppedAttributesCount")&&!h.isInteger(i.droppedAttributesCount)?"droppedAttributesCount: integer expected":null},s.fromObject=function(i){if(i instanceof d.opentelemetry.proto.resource.v1.Resource)return i;var n=new d.opentelemetry.proto.resource.v1.Resource;if(i.attributes){if(!Array.isArray(i.attributes))throw TypeError(".opentelemetry.proto.resource.v1.Resource.attributes: array expected");n.attributes=[];for(var l=0;l<i.attributes.length;++l){if(typeof i.attributes[l]!="object")throw TypeError(".opentelemetry.proto.resource.v1.Resource.attributes: object expected");n.attributes[l]=d.opentelemetry.proto.common.v1.KeyValue.fromObject(i.attributes[l])}}return i.droppedAttributesCount!=null&&(n.droppedAttributesCount=i.droppedAttributesCount>>>0),n},s.toObject=function(i,n){n||(n={});var l={};if((n.arrays||n.defaults)&&(l.attributes=[]),n.defaults&&(l.droppedAttributesCount=0),i.attributes&&i.attributes.length){l.attributes=[];for(var c=0;c<i.attributes.length;++c)l.attributes[c]=d.opentelemetry.proto.common.v1.KeyValue.toObject(i.attributes[c],n)}return i.droppedAttributesCount!=null&&i.hasOwnProperty("droppedAttributesCount")&&(l.droppedAttributesCount=i.droppedAttributesCount),l},s.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},s.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/opentelemetry.proto.resource.v1.Resource"},s}(),o}(),t}(),e.trace=function(){var t={};return t.v1=function(){var o={};return o.TracesData=function(){function s(a){if(this.resourceSpans=[],a)for(var i=Object.keys(a),n=0;n<i.length;++n)a[i[n]]!=null&&(this[i[n]]=a[i[n]])}return s.prototype.resourceSpans=h.emptyArray,s.create=function(i){return new s(i)},s.encode=function(i,n){if(n||(n=oe.create()),i.resourceSpans!=null&&i.resourceSpans.length)for(var l=0;l<i.resourceSpans.length;++l)d.opentelemetry.proto.trace.v1.ResourceSpans.encode(i.resourceSpans[l],n.uint32(10).fork()).ldelim();return n},s.encodeDelimited=function(i,n){return this.encode(i,n).ldelim()},s.decode=function(i,n){i instanceof g||(i=g.create(i));for(var l=n===void 0?i.len:i.pos+n,c=new d.opentelemetry.proto.trace.v1.TracesData;i.pos<l;){var u=i.uint32();switch(u>>>3){case 1:{c.resourceSpans&&c.resourceSpans.length||(c.resourceSpans=[]),c.resourceSpans.push(d.opentelemetry.proto.trace.v1.ResourceSpans.decode(i,i.uint32()));break}default:i.skipType(u&7);break}}return c},s.decodeDelimited=function(i){return i instanceof g||(i=new g(i)),this.decode(i,i.uint32())},s.verify=function(i){if(typeof i!="object"||i===null)return"object expected";if(i.resourceSpans!=null&&i.hasOwnProperty("resourceSpans")){if(!Array.isArray(i.resourceSpans))return"resourceSpans: array expected";for(var n=0;n<i.resourceSpans.length;++n){var l=d.opentelemetry.proto.trace.v1.ResourceSpans.verify(i.resourceSpans[n]);if(l)return"resourceSpans."+l}}return null},s.fromObject=function(i){if(i instanceof d.opentelemetry.proto.trace.v1.TracesData)return i;var n=new d.opentelemetry.proto.trace.v1.TracesData;if(i.resourceSpans){if(!Array.isArray(i.resourceSpans))throw TypeError(".opentelemetry.proto.trace.v1.TracesData.resourceSpans: array expected");n.resourceSpans=[];for(var l=0;l<i.resourceSpans.length;++l){if(typeof i.resourceSpans[l]!="object")throw TypeError(".opentelemetry.proto.trace.v1.TracesData.resourceSpans: object expected");n.resourceSpans[l]=d.opentelemetry.proto.trace.v1.ResourceSpans.fromObject(i.resourceSpans[l])}}return n},s.toObject=function(i,n){n||(n={});var l={};if((n.arrays||n.defaults)&&(l.resourceSpans=[]),i.resourceSpans&&i.resourceSpans.length){l.resourceSpans=[];for(var c=0;c<i.resourceSpans.length;++c)l.resourceSpans[c]=d.opentelemetry.proto.trace.v1.ResourceSpans.toObject(i.resourceSpans[c],n)}return l},s.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},s.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/opentelemetry.proto.trace.v1.TracesData"},s}(),o.ResourceSpans=function(){function s(a){if(this.scopeSpans=[],a)for(var i=Object.keys(a),n=0;n<i.length;++n)a[i[n]]!=null&&(this[i[n]]=a[i[n]])}return s.prototype.resource=null,s.prototype.scopeSpans=h.emptyArray,s.prototype.schemaUrl=null,s.create=function(i){return new s(i)},s.encode=function(i,n){if(n||(n=oe.create()),i.resource!=null&&Object.hasOwnProperty.call(i,"resource")&&d.opentelemetry.proto.resource.v1.Resource.encode(i.resource,n.uint32(10).fork()).ldelim(),i.scopeSpans!=null&&i.scopeSpans.length)for(var l=0;l<i.scopeSpans.length;++l)d.opentelemetry.proto.trace.v1.ScopeSpans.encode(i.scopeSpans[l],n.uint32(18).fork()).ldelim();return i.schemaUrl!=null&&Object.hasOwnProperty.call(i,"schemaUrl")&&n.uint32(26).string(i.schemaUrl),n},s.encodeDelimited=function(i,n){return this.encode(i,n).ldelim()},s.decode=function(i,n){i instanceof g||(i=g.create(i));for(var l=n===void 0?i.len:i.pos+n,c=new d.opentelemetry.proto.trace.v1.ResourceSpans;i.pos<l;){var u=i.uint32();switch(u>>>3){case 1:{c.resource=d.opentelemetry.proto.resource.v1.Resource.decode(i,i.uint32());break}case 2:{c.scopeSpans&&c.scopeSpans.length||(c.scopeSpans=[]),c.scopeSpans.push(d.opentelemetry.proto.trace.v1.ScopeSpans.decode(i,i.uint32()));break}case 3:{c.schemaUrl=i.string();break}default:i.skipType(u&7);break}}return c},s.decodeDelimited=function(i){return i instanceof g||(i=new g(i)),this.decode(i,i.uint32())},s.verify=function(i){if(typeof i!="object"||i===null)return"object expected";if(i.resource!=null&&i.hasOwnProperty("resource")){var n=d.opentelemetry.proto.resource.v1.Resource.verify(i.resource);if(n)return"resource."+n}if(i.scopeSpans!=null&&i.hasOwnProperty("scopeSpans")){if(!Array.isArray(i.scopeSpans))return"scopeSpans: array expected";for(var l=0;l<i.scopeSpans.length;++l){var n=d.opentelemetry.proto.trace.v1.ScopeSpans.verify(i.scopeSpans[l]);if(n)return"scopeSpans."+n}}return i.schemaUrl!=null&&i.hasOwnProperty("schemaUrl")&&!h.isString(i.schemaUrl)?"schemaUrl: string expected":null},s.fromObject=function(i){if(i instanceof d.opentelemetry.proto.trace.v1.ResourceSpans)return i;var n=new d.opentelemetry.proto.trace.v1.ResourceSpans;if(i.resource!=null){if(typeof i.resource!="object")throw TypeError(".opentelemetry.proto.trace.v1.ResourceSpans.resource: object expected");n.resource=d.opentelemetry.proto.resource.v1.Resource.fromObject(i.resource)}if(i.scopeSpans){if(!Array.isArray(i.scopeSpans))throw TypeError(".opentelemetry.proto.trace.v1.ResourceSpans.scopeSpans: array expected");n.scopeSpans=[];for(var l=0;l<i.scopeSpans.length;++l){if(typeof i.scopeSpans[l]!="object")throw TypeError(".opentelemetry.proto.trace.v1.ResourceSpans.scopeSpans: object expected");n.scopeSpans[l]=d.opentelemetry.proto.trace.v1.ScopeSpans.fromObject(i.scopeSpans[l])}}return i.schemaUrl!=null&&(n.schemaUrl=String(i.schemaUrl)),n},s.toObject=function(i,n){n||(n={});var l={};if((n.arrays||n.defaults)&&(l.scopeSpans=[]),n.defaults&&(l.resource=null,l.schemaUrl=""),i.resource!=null&&i.hasOwnProperty("resource")&&(l.resource=d.opentelemetry.proto.resource.v1.Resource.toObject(i.resource,n)),i.scopeSpans&&i.scopeSpans.length){l.scopeSpans=[];for(var c=0;c<i.scopeSpans.length;++c)l.scopeSpans[c]=d.opentelemetry.proto.trace.v1.ScopeSpans.toObject(i.scopeSpans[c],n)}return i.schemaUrl!=null&&i.hasOwnProperty("schemaUrl")&&(l.schemaUrl=i.schemaUrl),l},s.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},s.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/opentelemetry.proto.trace.v1.ResourceSpans"},s}(),o.ScopeSpans=function(){function s(a){if(this.spans=[],a)for(var i=Object.keys(a),n=0;n<i.length;++n)a[i[n]]!=null&&(this[i[n]]=a[i[n]])}return s.prototype.scope=null,s.prototype.spans=h.emptyArray,s.prototype.schemaUrl=null,s.create=function(i){return new s(i)},s.encode=function(i,n){if(n||(n=oe.create()),i.scope!=null&&Object.hasOwnProperty.call(i,"scope")&&d.opentelemetry.proto.common.v1.InstrumentationScope.encode(i.scope,n.uint32(10).fork()).ldelim(),i.spans!=null&&i.spans.length)for(var l=0;l<i.spans.length;++l)d.opentelemetry.proto.trace.v1.Span.encode(i.spans[l],n.uint32(18).fork()).ldelim();return i.schemaUrl!=null&&Object.hasOwnProperty.call(i,"schemaUrl")&&n.uint32(26).string(i.schemaUrl),n},s.encodeDelimited=function(i,n){return this.encode(i,n).ldelim()},s.decode=function(i,n){i instanceof g||(i=g.create(i));for(var l=n===void 0?i.len:i.pos+n,c=new d.opentelemetry.proto.trace.v1.ScopeSpans;i.pos<l;){var u=i.uint32();switch(u>>>3){case 1:{c.scope=d.opentelemetry.proto.common.v1.InstrumentationScope.decode(i,i.uint32());break}case 2:{c.spans&&c.spans.length||(c.spans=[]),c.spans.push(d.opentelemetry.proto.trace.v1.Span.decode(i,i.uint32()));break}case 3:{c.schemaUrl=i.string();break}default:i.skipType(u&7);break}}return c},s.decodeDelimited=function(i){return i instanceof g||(i=new g(i)),this.decode(i,i.uint32())},s.verify=function(i){if(typeof i!="object"||i===null)return"object expected";if(i.scope!=null&&i.hasOwnProperty("scope")){var n=d.opentelemetry.proto.common.v1.InstrumentationScope.verify(i.scope);if(n)return"scope."+n}if(i.spans!=null&&i.hasOwnProperty("spans")){if(!Array.isArray(i.spans))return"spans: array expected";for(var l=0;l<i.spans.length;++l){var n=d.opentelemetry.proto.trace.v1.Span.verify(i.spans[l]);if(n)return"spans."+n}}return i.schemaUrl!=null&&i.hasOwnProperty("schemaUrl")&&!h.isString(i.schemaUrl)?"schemaUrl: string expected":null},s.fromObject=function(i){if(i instanceof d.opentelemetry.proto.trace.v1.ScopeSpans)return i;var n=new d.opentelemetry.proto.trace.v1.ScopeSpans;if(i.scope!=null){if(typeof i.scope!="object")throw TypeError(".opentelemetry.proto.trace.v1.ScopeSpans.scope: object expected");n.scope=d.opentelemetry.proto.common.v1.InstrumentationScope.fromObject(i.scope)}if(i.spans){if(!Array.isArray(i.spans))throw TypeError(".opentelemetry.proto.trace.v1.ScopeSpans.spans: array expected");n.spans=[];for(var l=0;l<i.spans.length;++l){if(typeof i.spans[l]!="object")throw TypeError(".opentelemetry.proto.trace.v1.ScopeSpans.spans: object expected");n.spans[l]=d.opentelemetry.proto.trace.v1.Span.fromObject(i.spans[l])}}return i.schemaUrl!=null&&(n.schemaUrl=String(i.schemaUrl)),n},s.toObject=function(i,n){n||(n={});var l={};if((n.arrays||n.defaults)&&(l.spans=[]),n.defaults&&(l.scope=null,l.schemaUrl=""),i.scope!=null&&i.hasOwnProperty("scope")&&(l.scope=d.opentelemetry.proto.common.v1.InstrumentationScope.toObject(i.scope,n)),i.spans&&i.spans.length){l.spans=[];for(var c=0;c<i.spans.length;++c)l.spans[c]=d.opentelemetry.proto.trace.v1.Span.toObject(i.spans[c],n)}return i.schemaUrl!=null&&i.hasOwnProperty("schemaUrl")&&(l.schemaUrl=i.schemaUrl),l},s.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},s.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/opentelemetry.proto.trace.v1.ScopeSpans"},s}(),o.Span=function(){function s(a){if(this.attributes=[],this.events=[],this.links=[],a)for(var i=Object.keys(a),n=0;n<i.length;++n)a[i[n]]!=null&&(this[i[n]]=a[i[n]])}return s.prototype.traceId=null,s.prototype.spanId=null,s.prototype.traceState=null,s.prototype.parentSpanId=null,s.prototype.name=null,s.prototype.kind=null,s.prototype.startTimeUnixNano=null,s.prototype.endTimeUnixNano=null,s.prototype.attributes=h.emptyArray,s.prototype.droppedAttributesCount=null,s.prototype.events=h.emptyArray,s.prototype.droppedEventsCount=null,s.prototype.links=h.emptyArray,s.prototype.droppedLinksCount=null,s.prototype.status=null,s.create=function(i){return new s(i)},s.encode=function(i,n){if(n||(n=oe.create()),i.traceId!=null&&Object.hasOwnProperty.call(i,"traceId")&&n.uint32(10).bytes(i.traceId),i.spanId!=null&&Object.hasOwnProperty.call(i,"spanId")&&n.uint32(18).bytes(i.spanId),i.traceState!=null&&Object.hasOwnProperty.call(i,"traceState")&&n.uint32(26).string(i.traceState),i.parentSpanId!=null&&Object.hasOwnProperty.call(i,"parentSpanId")&&n.uint32(34).bytes(i.parentSpanId),i.name!=null&&Object.hasOwnProperty.call(i,"name")&&n.uint32(42).string(i.name),i.kind!=null&&Object.hasOwnProperty.call(i,"kind")&&n.uint32(48).int32(i.kind),i.startTimeUnixNano!=null&&Object.hasOwnProperty.call(i,"startTimeUnixNano")&&n.uint32(57).fixed64(i.startTimeUnixNano),i.endTimeUnixNano!=null&&Object.hasOwnProperty.call(i,"endTimeUnixNano")&&n.uint32(65).fixed64(i.endTimeUnixNano),i.attributes!=null&&i.attributes.length)for(var l=0;l<i.attributes.length;++l)d.opentelemetry.proto.common.v1.KeyValue.encode(i.attributes[l],n.uint32(74).fork()).ldelim();if(i.droppedAttributesCount!=null&&Object.hasOwnProperty.call(i,"droppedAttributesCount")&&n.uint32(80).uint32(i.droppedAttributesCount),i.events!=null&&i.events.length)for(var l=0;l<i.events.length;++l)d.opentelemetry.proto.trace.v1.Span.Event.encode(i.events[l],n.uint32(90).fork()).ldelim();if(i.droppedEventsCount!=null&&Object.hasOwnProperty.call(i,"droppedEventsCount")&&n.uint32(96).uint32(i.droppedEventsCount),i.links!=null&&i.links.length)for(var l=0;l<i.links.length;++l)d.opentelemetry.proto.trace.v1.Span.Link.encode(i.links[l],n.uint32(106).fork()).ldelim();return i.droppedLinksCount!=null&&Object.hasOwnProperty.call(i,"droppedLinksCount")&&n.uint32(112).uint32(i.droppedLinksCount),i.status!=null&&Object.hasOwnProperty.call(i,"status")&&d.opentelemetry.proto.trace.v1.Status.encode(i.status,n.uint32(122).fork()).ldelim(),n},s.encodeDelimited=function(i,n){return this.encode(i,n).ldelim()},s.decode=function(i,n){i instanceof g||(i=g.create(i));for(var l=n===void 0?i.len:i.pos+n,c=new d.opentelemetry.proto.trace.v1.Span;i.pos<l;){var u=i.uint32();switch(u>>>3){case 1:{c.traceId=i.bytes();break}case 2:{c.spanId=i.bytes();break}case 3:{c.traceState=i.string();break}case 4:{c.parentSpanId=i.bytes();break}case 5:{c.name=i.string();break}case 6:{c.kind=i.int32();break}case 7:{c.startTimeUnixNano=i.fixed64();break}case 8:{c.endTimeUnixNano=i.fixed64();break}case 9:{c.attributes&&c.attributes.length||(c.attributes=[]),c.attributes.push(d.opentelemetry.proto.common.v1.KeyValue.decode(i,i.uint32()));break}case 10:{c.droppedAttributesCount=i.uint32();break}case 11:{c.events&&c.events.length||(c.events=[]),c.events.push(d.opentelemetry.proto.trace.v1.Span.Event.decode(i,i.uint32()));break}case 12:{c.droppedEventsCount=i.uint32();break}case 13:{c.links&&c.links.length||(c.links=[]),c.links.push(d.opentelemetry.proto.trace.v1.Span.Link.decode(i,i.uint32()));break}case 14:{c.droppedLinksCount=i.uint32();break}case 15:{c.status=d.opentelemetry.proto.trace.v1.Status.decode(i,i.uint32());break}default:i.skipType(u&7);break}}return c},s.decodeDelimited=function(i){return i instanceof g||(i=new g(i)),this.decode(i,i.uint32())},s.verify=function(i){if(typeof i!="object"||i===null)return"object expected";if(i.traceId!=null&&i.hasOwnProperty("traceId")&&!(i.traceId&&typeof i.traceId.length=="number"||h.isString(i.traceId)))return"traceId: buffer expected";if(i.spanId!=null&&i.hasOwnProperty("spanId")&&!(i.spanId&&typeof i.spanId.length=="number"||h.isString(i.spanId)))return"spanId: buffer expected";if(i.traceState!=null&&i.hasOwnProperty("traceState")&&!h.isString(i.traceState))return"traceState: string expected";if(i.parentSpanId!=null&&i.hasOwnProperty("parentSpanId")&&!(i.parentSpanId&&typeof i.parentSpanId.length=="number"||h.isString(i.parentSpanId)))return"parentSpanId: buffer expected";if(i.name!=null&&i.hasOwnProperty("name")&&!h.isString(i.name))return"name: string expected";if(i.kind!=null&&i.hasOwnProperty("kind"))switch(i.kind){default:return"kind: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:break}if(i.startTimeUnixNano!=null&&i.hasOwnProperty("startTimeUnixNano")&&!h.isInteger(i.startTimeUnixNano)&&!(i.startTimeUnixNano&&h.isInteger(i.startTimeUnixNano.low)&&h.isInteger(i.startTimeUnixNano.high)))return"startTimeUnixNano: integer|Long expected";if(i.endTimeUnixNano!=null&&i.hasOwnProperty("endTimeUnixNano")&&!h.isInteger(i.endTimeUnixNano)&&!(i.endTimeUnixNano&&h.isInteger(i.endTimeUnixNano.low)&&h.isInteger(i.endTimeUnixNano.high)))return"endTimeUnixNano: integer|Long expected";if(i.attributes!=null&&i.hasOwnProperty("attributes")){if(!Array.isArray(i.attributes))return"attributes: array expected";for(var n=0;n<i.attributes.length;++n){var l=d.opentelemetry.proto.common.v1.KeyValue.verify(i.attributes[n]);if(l)return"attributes."+l}}if(i.droppedAttributesCount!=null&&i.hasOwnProperty("droppedAttributesCount")&&!h.isInteger(i.droppedAttributesCount))return"droppedAttributesCount: integer expected";if(i.events!=null&&i.hasOwnProperty("events")){if(!Array.isArray(i.events))return"events: array expected";for(var n=0;n<i.events.length;++n){var l=d.opentelemetry.proto.trace.v1.Span.Event.verify(i.events[n]);if(l)return"events."+l}}if(i.droppedEventsCount!=null&&i.hasOwnProperty("droppedEventsCount")&&!h.isInteger(i.droppedEventsCount))return"droppedEventsCount: integer expected";if(i.links!=null&&i.hasOwnProperty("links")){if(!Array.isArray(i.links))return"links: array expected";for(var n=0;n<i.links.length;++n){var l=d.opentelemetry.proto.trace.v1.Span.Link.verify(i.links[n]);if(l)return"links."+l}}if(i.droppedLinksCount!=null&&i.hasOwnProperty("droppedLinksCount")&&!h.isInteger(i.droppedLinksCount))return"droppedLinksCount: integer expected";if(i.status!=null&&i.hasOwnProperty("status")){var l=d.opentelemetry.proto.trace.v1.Status.verify(i.status);if(l)return"status."+l}return null},s.fromObject=function(i){if(i instanceof d.opentelemetry.proto.trace.v1.Span)return i;var n=new d.opentelemetry.proto.trace.v1.Span;switch(i.traceId!=null&&(typeof i.traceId=="string"?h.base64.decode(i.traceId,n.traceId=h.newBuffer(h.base64.length(i.traceId)),0):i.traceId.length>=0&&(n.traceId=i.traceId)),i.spanId!=null&&(typeof i.spanId=="string"?h.base64.decode(i.spanId,n.spanId=h.newBuffer(h.base64.length(i.spanId)),0):i.spanId.length>=0&&(n.spanId=i.spanId)),i.traceState!=null&&(n.traceState=String(i.traceState)),i.parentSpanId!=null&&(typeof i.parentSpanId=="string"?h.base64.decode(i.parentSpanId,n.parentSpanId=h.newBuffer(h.base64.length(i.parentSpanId)),0):i.parentSpanId.length>=0&&(n.parentSpanId=i.parentSpanId)),i.name!=null&&(n.name=String(i.name)),i.kind){default:if(typeof i.kind=="number"){n.kind=i.kind;break}break;case"SPAN_KIND_UNSPECIFIED":case 0:n.kind=0;break;case"SPAN_KIND_INTERNAL":case 1:n.kind=1;break;case"SPAN_KIND_SERVER":case 2:n.kind=2;break;case"SPAN_KIND_CLIENT":case 3:n.kind=3;break;case"SPAN_KIND_PRODUCER":case 4:n.kind=4;break;case"SPAN_KIND_CONSUMER":case 5:n.kind=5;break}if(i.startTimeUnixNano!=null&&(h.Long?(n.startTimeUnixNano=h.Long.fromValue(i.startTimeUnixNano)).unsigned=!1:typeof i.startTimeUnixNano=="string"?n.startTimeUnixNano=parseInt(i.startTimeUnixNano,10):typeof i.startTimeUnixNano=="number"?n.startTimeUnixNano=i.startTimeUnixNano:typeof i.startTimeUnixNano=="object"&&(n.startTimeUnixNano=new h.LongBits(i.startTimeUnixNano.low>>>0,i.startTimeUnixNano.high>>>0).toNumber())),i.endTimeUnixNano!=null&&(h.Long?(n.endTimeUnixNano=h.Long.fromValue(i.endTimeUnixNano)).unsigned=!1:typeof i.endTimeUnixNano=="string"?n.endTimeUnixNano=parseInt(i.endTimeUnixNano,10):typeof i.endTimeUnixNano=="number"?n.endTimeUnixNano=i.endTimeUnixNano:typeof i.endTimeUnixNano=="object"&&(n.endTimeUnixNano=new h.LongBits(i.endTimeUnixNano.low>>>0,i.endTimeUnixNano.high>>>0).toNumber())),i.attributes){if(!Array.isArray(i.attributes))throw TypeError(".opentelemetry.proto.trace.v1.Span.attributes: array expected");n.attributes=[];for(var l=0;l<i.attributes.length;++l){if(typeof i.attributes[l]!="object")throw TypeError(".opentelemetry.proto.trace.v1.Span.attributes: object expected");n.attributes[l]=d.opentelemetry.proto.common.v1.KeyValue.fromObject(i.attributes[l])}}if(i.droppedAttributesCount!=null&&(n.droppedAttributesCount=i.droppedAttributesCount>>>0),i.events){if(!Array.isArray(i.events))throw TypeError(".opentelemetry.proto.trace.v1.Span.events: array expected");n.events=[];for(var l=0;l<i.events.length;++l){if(typeof i.events[l]!="object")throw TypeError(".opentelemetry.proto.trace.v1.Span.events: object expected");n.events[l]=d.opentelemetry.proto.trace.v1.Span.Event.fromObject(i.events[l])}}if(i.droppedEventsCount!=null&&(n.droppedEventsCount=i.droppedEventsCount>>>0),i.links){if(!Array.isArray(i.links))throw TypeError(".opentelemetry.proto.trace.v1.Span.links: array expected");n.links=[];for(var l=0;l<i.links.length;++l){if(typeof i.links[l]!="object")throw TypeError(".opentelemetry.proto.trace.v1.Span.links: object expected");n.links[l]=d.opentelemetry.proto.trace.v1.Span.Link.fromObject(i.links[l])}}if(i.droppedLinksCount!=null&&(n.droppedLinksCount=i.droppedLinksCount>>>0),i.status!=null){if(typeof i.status!="object")throw TypeError(".opentelemetry.proto.trace.v1.Span.status: object expected");n.status=d.opentelemetry.proto.trace.v1.Status.fromObject(i.status)}return n},s.toObject=function(i,n){n||(n={});var l={};if((n.arrays||n.defaults)&&(l.attributes=[],l.events=[],l.links=[]),n.defaults){if(n.bytes===String?l.traceId="":(l.traceId=[],n.bytes!==Array&&(l.traceId=h.newBuffer(l.traceId))),n.bytes===String?l.spanId="":(l.spanId=[],n.bytes!==Array&&(l.spanId=h.newBuffer(l.spanId))),l.traceState="",n.bytes===String?l.parentSpanId="":(l.parentSpanId=[],n.bytes!==Array&&(l.parentSpanId=h.newBuffer(l.parentSpanId))),l.name="",l.kind=n.enums===String?"SPAN_KIND_UNSPECIFIED":0,h.Long){var c=new h.Long(0,0,!1);l.startTimeUnixNano=n.longs===String?c.toString():n.longs===Number?c.toNumber():c}else l.startTimeUnixNano=n.longs===String?"0":0;if(h.Long){var c=new h.Long(0,0,!1);l.endTimeUnixNano=n.longs===String?c.toString():n.longs===Number?c.toNumber():c}else l.endTimeUnixNano=n.longs===String?"0":0;l.droppedAttributesCount=0,l.droppedEventsCount=0,l.droppedLinksCount=0,l.status=null}if(i.traceId!=null&&i.hasOwnProperty("traceId")&&(l.traceId=n.bytes===String?h.base64.encode(i.traceId,0,i.traceId.length):n.bytes===Array?Array.prototype.slice.call(i.traceId):i.traceId),i.spanId!=null&&i.hasOwnProperty("spanId")&&(l.spanId=n.bytes===String?h.base64.encode(i.spanId,0,i.spanId.length):n.bytes===Array?Array.prototype.slice.call(i.spanId):i.spanId),i.traceState!=null&&i.hasOwnProperty("traceState")&&(l.traceState=i.traceState),i.parentSpanId!=null&&i.hasOwnProperty("parentSpanId")&&(l.parentSpanId=n.bytes===String?h.base64.encode(i.parentSpanId,0,i.parentSpanId.length):n.bytes===Array?Array.prototype.slice.call(i.parentSpanId):i.parentSpanId),i.name!=null&&i.hasOwnProperty("name")&&(l.name=i.name),i.kind!=null&&i.hasOwnProperty("kind")&&(l.kind=n.enums===String?d.opentelemetry.proto.trace.v1.Span.SpanKind[i.kind]===void 0?i.kind:d.opentelemetry.proto.trace.v1.Span.SpanKind[i.kind]:i.kind),i.startTimeUnixNano!=null&&i.hasOwnProperty("startTimeUnixNano")&&(typeof i.startTimeUnixNano=="number"?l.startTimeUnixNano=n.longs===String?String(i.startTimeUnixNano):i.startTimeUnixNano:l.startTimeUnixNano=n.longs===String?h.Long.prototype.toString.call(i.startTimeUnixNano):n.longs===Number?new h.LongBits(i.startTimeUnixNano.low>>>0,i.startTimeUnixNano.high>>>0).toNumber():i.startTimeUnixNano),i.endTimeUnixNano!=null&&i.hasOwnProperty("endTimeUnixNano")&&(typeof i.endTimeUnixNano=="number"?l.endTimeUnixNano=n.longs===String?String(i.endTimeUnixNano):i.endTimeUnixNano:l.endTimeUnixNano=n.longs===String?h.Long.prototype.toString.call(i.endTimeUnixNano):n.longs===Number?new h.LongBits(i.endTimeUnixNano.low>>>0,i.endTimeUnixNano.high>>>0).toNumber():i.endTimeUnixNano),i.attributes&&i.attributes.length){l.attributes=[];for(var u=0;u<i.attributes.length;++u)l.attributes[u]=d.opentelemetry.proto.common.v1.KeyValue.toObject(i.attributes[u],n)}if(i.droppedAttributesCount!=null&&i.hasOwnProperty("droppedAttributesCount")&&(l.droppedAttributesCount=i.droppedAttributesCount),i.events&&i.events.length){l.events=[];for(var u=0;u<i.events.length;++u)l.events[u]=d.opentelemetry.proto.trace.v1.Span.Event.toObject(i.events[u],n)}if(i.droppedEventsCount!=null&&i.hasOwnProperty("droppedEventsCount")&&(l.droppedEventsCount=i.droppedEventsCount),i.links&&i.links.length){l.links=[];for(var u=0;u<i.links.length;++u)l.links[u]=d.opentelemetry.proto.trace.v1.Span.Link.toObject(i.links[u],n)}return i.droppedLinksCount!=null&&i.hasOwnProperty("droppedLinksCount")&&(l.droppedLinksCount=i.droppedLinksCount),i.status!=null&&i.hasOwnProperty("status")&&(l.status=d.opentelemetry.proto.trace.v1.Status.toObject(i.status,n)),l},s.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},s.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/opentelemetry.proto.trace.v1.Span"},s.SpanKind=function(){var a={},i=Object.create(a);return i[a[0]="SPAN_KIND_UNSPECIFIED"]=0,i[a[1]="SPAN_KIND_INTERNAL"]=1,i[a[2]="SPAN_KIND_SERVER"]=2,i[a[3]="SPAN_KIND_CLIENT"]=3,i[a[4]="SPAN_KIND_PRODUCER"]=4,i[a[5]="SPAN_KIND_CONSUMER"]=5,i}(),s.Event=function(){function a(i){if(this.attributes=[],i)for(var n=Object.keys(i),l=0;l<n.length;++l)i[n[l]]!=null&&(this[n[l]]=i[n[l]])}return a.prototype.timeUnixNano=null,a.prototype.name=null,a.prototype.attributes=h.emptyArray,a.prototype.droppedAttributesCount=null,a.create=function(n){return new a(n)},a.encode=function(n,l){if(l||(l=oe.create()),n.timeUnixNano!=null&&Object.hasOwnProperty.call(n,"timeUnixNano")&&l.uint32(9).fixed64(n.timeUnixNano),n.name!=null&&Object.hasOwnProperty.call(n,"name")&&l.uint32(18).string(n.name),n.attributes!=null&&n.attributes.length)for(var c=0;c<n.attributes.length;++c)d.opentelemetry.proto.common.v1.KeyValue.encode(n.attributes[c],l.uint32(26).fork()).ldelim();return n.droppedAttributesCount!=null&&Object.hasOwnProperty.call(n,"droppedAttributesCount")&&l.uint32(32).uint32(n.droppedAttributesCount),l},a.encodeDelimited=function(n,l){return this.encode(n,l).ldelim()},a.decode=function(n,l){n instanceof g||(n=g.create(n));for(var c=l===void 0?n.len:n.pos+l,u=new d.opentelemetry.proto.trace.v1.Span.Event;n.pos<c;){var f=n.uint32();switch(f>>>3){case 1:{u.timeUnixNano=n.fixed64();break}case 2:{u.name=n.string();break}case 3:{u.attributes&&u.attributes.length||(u.attributes=[]),u.attributes.push(d.opentelemetry.proto.common.v1.KeyValue.decode(n,n.uint32()));break}case 4:{u.droppedAttributesCount=n.uint32();break}default:n.skipType(f&7);break}}return u},a.decodeDelimited=function(n){return n instanceof g||(n=new g(n)),this.decode(n,n.uint32())},a.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.timeUnixNano!=null&&n.hasOwnProperty("timeUnixNano")&&!h.isInteger(n.timeUnixNano)&&!(n.timeUnixNano&&h.isInteger(n.timeUnixNano.low)&&h.isInteger(n.timeUnixNano.high)))return"timeUnixNano: integer|Long expected";if(n.name!=null&&n.hasOwnProperty("name")&&!h.isString(n.name))return"name: string expected";if(n.attributes!=null&&n.hasOwnProperty("attributes")){if(!Array.isArray(n.attributes))return"attributes: array expected";for(var l=0;l<n.attributes.length;++l){var c=d.opentelemetry.proto.common.v1.KeyValue.verify(n.attributes[l]);if(c)return"attributes."+c}}return n.droppedAttributesCount!=null&&n.hasOwnProperty("droppedAttributesCount")&&!h.isInteger(n.droppedAttributesCount)?"droppedAttributesCount: integer expected":null},a.fromObject=function(n){if(n instanceof d.opentelemetry.proto.trace.v1.Span.Event)return n;var l=new d.opentelemetry.proto.trace.v1.Span.Event;if(n.timeUnixNano!=null&&(h.Long?(l.timeUnixNano=h.Long.fromValue(n.timeUnixNano)).unsigned=!1:typeof n.timeUnixNano=="string"?l.timeUnixNano=parseInt(n.timeUnixNano,10):typeof n.timeUnixNano=="number"?l.timeUnixNano=n.timeUnixNano:typeof n.timeUnixNano=="object"&&(l.timeUnixNano=new h.LongBits(n.timeUnixNano.low>>>0,n.timeUnixNano.high>>>0).toNumber())),n.name!=null&&(l.name=String(n.name)),n.attributes){if(!Array.isArray(n.attributes))throw TypeError(".opentelemetry.proto.trace.v1.Span.Event.attributes: array expected");l.attributes=[];for(var c=0;c<n.attributes.length;++c){if(typeof n.attributes[c]!="object")throw TypeError(".opentelemetry.proto.trace.v1.Span.Event.attributes: object expected");l.attributes[c]=d.opentelemetry.proto.common.v1.KeyValue.fromObject(n.attributes[c])}}return n.droppedAttributesCount!=null&&(l.droppedAttributesCount=n.droppedAttributesCount>>>0),l},a.toObject=function(n,l){l||(l={});var c={};if((l.arrays||l.defaults)&&(c.attributes=[]),l.defaults){if(h.Long){var u=new h.Long(0,0,!1);c.timeUnixNano=l.longs===String?u.toString():l.longs===Number?u.toNumber():u}else c.timeUnixNano=l.longs===String?"0":0;c.name="",c.droppedAttributesCount=0}if(n.timeUnixNano!=null&&n.hasOwnProperty("timeUnixNano")&&(typeof n.timeUnixNano=="number"?c.timeUnixNano=l.longs===String?String(n.timeUnixNano):n.timeUnixNano:c.timeUnixNano=l.longs===String?h.Long.prototype.toString.call(n.timeUnixNano):l.longs===Number?new h.LongBits(n.timeUnixNano.low>>>0,n.timeUnixNano.high>>>0).toNumber():n.timeUnixNano),n.name!=null&&n.hasOwnProperty("name")&&(c.name=n.name),n.attributes&&n.attributes.length){c.attributes=[];for(var f=0;f<n.attributes.length;++f)c.attributes[f]=d.opentelemetry.proto.common.v1.KeyValue.toObject(n.attributes[f],l)}return n.droppedAttributesCount!=null&&n.hasOwnProperty("droppedAttributesCount")&&(c.droppedAttributesCount=n.droppedAttributesCount),c},a.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},a.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/opentelemetry.proto.trace.v1.Span.Event"},a}(),s.Link=function(){function a(i){if(this.attributes=[],i)for(var n=Object.keys(i),l=0;l<n.length;++l)i[n[l]]!=null&&(this[n[l]]=i[n[l]])}return a.prototype.traceId=null,a.prototype.spanId=null,a.prototype.traceState=null,a.prototype.attributes=h.emptyArray,a.prototype.droppedAttributesCount=null,a.create=function(n){return new a(n)},a.encode=function(n,l){if(l||(l=oe.create()),n.traceId!=null&&Object.hasOwnProperty.call(n,"traceId")&&l.uint32(10).bytes(n.traceId),n.spanId!=null&&Object.hasOwnProperty.call(n,"spanId")&&l.uint32(18).bytes(n.spanId),n.traceState!=null&&Object.hasOwnProperty.call(n,"traceState")&&l.uint32(26).string(n.traceState),n.attributes!=null&&n.attributes.length)for(var c=0;c<n.attributes.length;++c)d.opentelemetry.proto.common.v1.KeyValue.encode(n.attributes[c],l.uint32(34).fork()).ldelim();return n.droppedAttributesCount!=null&&Object.hasOwnProperty.call(n,"droppedAttributesCount")&&l.uint32(40).uint32(n.droppedAttributesCount),l},a.encodeDelimited=function(n,l){return this.encode(n,l).ldelim()},a.decode=function(n,l){n instanceof g||(n=g.create(n));for(var c=l===void 0?n.len:n.pos+l,u=new d.opentelemetry.proto.trace.v1.Span.Link;n.pos<c;){var f=n.uint32();switch(f>>>3){case 1:{u.traceId=n.bytes();break}case 2:{u.spanId=n.bytes();break}case 3:{u.traceState=n.string();break}case 4:{u.attributes&&u.attributes.length||(u.attributes=[]),u.attributes.push(d.opentelemetry.proto.common.v1.KeyValue.decode(n,n.uint32()));break}case 5:{u.droppedAttributesCount=n.uint32();break}default:n.skipType(f&7);break}}return u},a.decodeDelimited=function(n){return n instanceof g||(n=new g(n)),this.decode(n,n.uint32())},a.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.traceId!=null&&n.hasOwnProperty("traceId")&&!(n.traceId&&typeof n.traceId.length=="number"||h.isString(n.traceId)))return"traceId: buffer expected";if(n.spanId!=null&&n.hasOwnProperty("spanId")&&!(n.spanId&&typeof n.spanId.length=="number"||h.isString(n.spanId)))return"spanId: buffer expected";if(n.traceState!=null&&n.hasOwnProperty("traceState")&&!h.isString(n.traceState))return"traceState: string expected";if(n.attributes!=null&&n.hasOwnProperty("attributes")){if(!Array.isArray(n.attributes))return"attributes: array expected";for(var l=0;l<n.attributes.length;++l){var c=d.opentelemetry.proto.common.v1.KeyValue.verify(n.attributes[l]);if(c)return"attributes."+c}}return n.droppedAttributesCount!=null&&n.hasOwnProperty("droppedAttributesCount")&&!h.isInteger(n.droppedAttributesCount)?"droppedAttributesCount: integer expected":null},a.fromObject=function(n){if(n instanceof d.opentelemetry.proto.trace.v1.Span.Link)return n;var l=new d.opentelemetry.proto.trace.v1.Span.Link;if(n.traceId!=null&&(typeof n.traceId=="string"?h.base64.decode(n.traceId,l.traceId=h.newBuffer(h.base64.length(n.traceId)),0):n.traceId.length>=0&&(l.traceId=n.traceId)),n.spanId!=null&&(typeof n.spanId=="string"?h.base64.decode(n.spanId,l.spanId=h.newBuffer(h.base64.length(n.spanId)),0):n.spanId.length>=0&&(l.spanId=n.spanId)),n.traceState!=null&&(l.traceState=String(n.traceState)),n.attributes){if(!Array.isArray(n.attributes))throw TypeError(".opentelemetry.proto.trace.v1.Span.Link.attributes: array expected");l.attributes=[];for(var c=0;c<n.attributes.length;++c){if(typeof n.attributes[c]!="object")throw TypeError(".opentelemetry.proto.trace.v1.Span.Link.attributes: object expected");l.attributes[c]=d.opentelemetry.proto.common.v1.KeyValue.fromObject(n.attributes[c])}}return n.droppedAttributesCount!=null&&(l.droppedAttributesCount=n.droppedAttributesCount>>>0),l},a.toObject=function(n,l){l||(l={});var c={};if((l.arrays||l.defaults)&&(c.attributes=[]),l.defaults&&(l.bytes===String?c.traceId="":(c.traceId=[],l.bytes!==Array&&(c.traceId=h.newBuffer(c.traceId))),l.bytes===String?c.spanId="":(c.spanId=[],l.bytes!==Array&&(c.spanId=h.newBuffer(c.spanId))),c.traceState="",c.droppedAttributesCount=0),n.traceId!=null&&n.hasOwnProperty("traceId")&&(c.traceId=l.bytes===String?h.base64.encode(n.traceId,0,n.traceId.length):l.bytes===Array?Array.prototype.slice.call(n.traceId):n.traceId),n.spanId!=null&&n.hasOwnProperty("spanId")&&(c.spanId=l.bytes===String?h.base64.encode(n.spanId,0,n.spanId.length):l.bytes===Array?Array.prototype.slice.call(n.spanId):n.spanId),n.traceState!=null&&n.hasOwnProperty("traceState")&&(c.traceState=n.traceState),n.attributes&&n.attributes.length){c.attributes=[];for(var u=0;u<n.attributes.length;++u)c.attributes[u]=d.opentelemetry.proto.common.v1.KeyValue.toObject(n.attributes[u],l)}return n.droppedAttributesCount!=null&&n.hasOwnProperty("droppedAttributesCount")&&(c.droppedAttributesCount=n.droppedAttributesCount),c},a.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},a.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/opentelemetry.proto.trace.v1.Span.Link"},a}(),s}(),o.Status=function(){function s(a){if(a)for(var i=Object.keys(a),n=0;n<i.length;++n)a[i[n]]!=null&&(this[i[n]]=a[i[n]])}return s.prototype.message=null,s.prototype.code=null,s.create=function(i){return new s(i)},s.encode=function(i,n){return n||(n=oe.create()),i.message!=null&&Object.hasOwnProperty.call(i,"message")&&n.uint32(18).string(i.message),i.code!=null&&Object.hasOwnProperty.call(i,"code")&&n.uint32(24).int32(i.code),n},s.encodeDelimited=function(i,n){return this.encode(i,n).ldelim()},s.decode=function(i,n){i instanceof g||(i=g.create(i));for(var l=n===void 0?i.len:i.pos+n,c=new d.opentelemetry.proto.trace.v1.Status;i.pos<l;){var u=i.uint32();switch(u>>>3){case 2:{c.message=i.string();break}case 3:{c.code=i.int32();break}default:i.skipType(u&7);break}}return c},s.decodeDelimited=function(i){return i instanceof g||(i=new g(i)),this.decode(i,i.uint32())},s.verify=function(i){if(typeof i!="object"||i===null)return"object expected";if(i.message!=null&&i.hasOwnProperty("message")&&!h.isString(i.message))return"message: string expected";if(i.code!=null&&i.hasOwnProperty("code"))switch(i.code){default:return"code: enum value expected";case 0:case 1:case 2:break}return null},s.fromObject=function(i){if(i instanceof d.opentelemetry.proto.trace.v1.Status)return i;var n=new d.opentelemetry.proto.trace.v1.Status;switch(i.message!=null&&(n.message=String(i.message)),i.code){default:if(typeof i.code=="number"){n.code=i.code;break}break;case"STATUS_CODE_UNSET":case 0:n.code=0;break;case"STATUS_CODE_OK":case 1:n.code=1;break;case"STATUS_CODE_ERROR":case 2:n.code=2;break}return n},s.toObject=function(i,n){n||(n={});var l={};return n.defaults&&(l.message="",l.code=n.enums===String?"STATUS_CODE_UNSET":0),i.message!=null&&i.hasOwnProperty("message")&&(l.message=i.message),i.code!=null&&i.hasOwnProperty("code")&&(l.code=n.enums===String?d.opentelemetry.proto.trace.v1.Status.StatusCode[i.code]===void 0?i.code:d.opentelemetry.proto.trace.v1.Status.StatusCode[i.code]:i.code),l},s.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},s.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/opentelemetry.proto.trace.v1.Status"},s.StatusCode=function(){var a={},i=Object.create(a);return i[a[0]="STATUS_CODE_UNSET"]=0,i[a[1]="STATUS_CODE_OK"]=1,i[a[2]="STATUS_CODE_ERROR"]=2,i}(),s}(),o}(),t}(),e.collector=function(){var t={};return t.trace=function(){var o={};return o.v1=function(){var s={};return s.TraceService=function(){function a(i,n,l){X.rpc.Service.call(this,i,n,l)}return(a.prototype=Object.create(X.rpc.Service.prototype)).constructor=a,a.create=function(n,l,c){return new this(n,l,c)},Object.defineProperty(a.prototype.export=function i(n,l){return this.rpcCall(i,d.opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest,d.opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse,n,l)},"name",{value:"Export"}),a}(),s.ExportTraceServiceRequest=function(){function a(i){if(this.resourceSpans=[],i)for(var n=Object.keys(i),l=0;l<n.length;++l)i[n[l]]!=null&&(this[n[l]]=i[n[l]])}return a.prototype.resourceSpans=h.emptyArray,a.create=function(n){return new a(n)},a.encode=function(n,l){if(l||(l=oe.create()),n.resourceSpans!=null&&n.resourceSpans.length)for(var c=0;c<n.resourceSpans.length;++c)d.opentelemetry.proto.trace.v1.ResourceSpans.encode(n.resourceSpans[c],l.uint32(10).fork()).ldelim();return l},a.encodeDelimited=function(n,l){return this.encode(n,l).ldelim()},a.decode=function(n,l){n instanceof g||(n=g.create(n));for(var c=l===void 0?n.len:n.pos+l,u=new d.opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest;n.pos<c;){var f=n.uint32();switch(f>>>3){case 1:{u.resourceSpans&&u.resourceSpans.length||(u.resourceSpans=[]),u.resourceSpans.push(d.opentelemetry.proto.trace.v1.ResourceSpans.decode(n,n.uint32()));break}default:n.skipType(f&7);break}}return u},a.decodeDelimited=function(n){return n instanceof g||(n=new g(n)),this.decode(n,n.uint32())},a.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.resourceSpans!=null&&n.hasOwnProperty("resourceSpans")){if(!Array.isArray(n.resourceSpans))return"resourceSpans: array expected";for(var l=0;l<n.resourceSpans.length;++l){var c=d.opentelemetry.proto.trace.v1.ResourceSpans.verify(n.resourceSpans[l]);if(c)return"resourceSpans."+c}}return null},a.fromObject=function(n){if(n instanceof d.opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest)return n;var l=new d.opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest;if(n.resourceSpans){if(!Array.isArray(n.resourceSpans))throw TypeError(".opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest.resourceSpans: array expected");l.resourceSpans=[];for(var c=0;c<n.resourceSpans.length;++c){if(typeof n.resourceSpans[c]!="object")throw TypeError(".opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest.resourceSpans: object expected");l.resourceSpans[c]=d.opentelemetry.proto.trace.v1.ResourceSpans.fromObject(n.resourceSpans[c])}}return l},a.toObject=function(n,l){l||(l={});var c={};if((l.arrays||l.defaults)&&(c.resourceSpans=[]),n.resourceSpans&&n.resourceSpans.length){c.resourceSpans=[];for(var u=0;u<n.resourceSpans.length;++u)c.resourceSpans[u]=d.opentelemetry.proto.trace.v1.ResourceSpans.toObject(n.resourceSpans[u],l)}return c},a.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},a.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest"},a}(),s.ExportTraceServiceResponse=function(){function a(i){if(i)for(var n=Object.keys(i),l=0;l<n.length;++l)i[n[l]]!=null&&(this[n[l]]=i[n[l]])}return a.prototype.partialSuccess=null,a.create=function(n){return new a(n)},a.encode=function(n,l){return l||(l=oe.create()),n.partialSuccess!=null&&Object.hasOwnProperty.call(n,"partialSuccess")&&d.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess.encode(n.partialSuccess,l.uint32(10).fork()).ldelim(),l},a.encodeDelimited=function(n,l){return this.encode(n,l).ldelim()},a.decode=function(n,l){n instanceof g||(n=g.create(n));for(var c=l===void 0?n.len:n.pos+l,u=new d.opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse;n.pos<c;){var f=n.uint32();switch(f>>>3){case 1:{u.partialSuccess=d.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess.decode(n,n.uint32());break}default:n.skipType(f&7);break}}return u},a.decodeDelimited=function(n){return n instanceof g||(n=new g(n)),this.decode(n,n.uint32())},a.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.partialSuccess!=null&&n.hasOwnProperty("partialSuccess")){var l=d.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess.verify(n.partialSuccess);if(l)return"partialSuccess."+l}return null},a.fromObject=function(n){if(n instanceof d.opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse)return n;var l=new d.opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse;if(n.partialSuccess!=null){if(typeof n.partialSuccess!="object")throw TypeError(".opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse.partialSuccess: object expected");l.partialSuccess=d.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess.fromObject(n.partialSuccess)}return l},a.toObject=function(n,l){l||(l={});var c={};return l.defaults&&(c.partialSuccess=null),n.partialSuccess!=null&&n.hasOwnProperty("partialSuccess")&&(c.partialSuccess=d.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess.toObject(n.partialSuccess,l)),c},a.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},a.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse"},a}(),s.ExportTracePartialSuccess=function(){function a(i){if(i)for(var n=Object.keys(i),l=0;l<n.length;++l)i[n[l]]!=null&&(this[n[l]]=i[n[l]])}return a.prototype.rejectedSpans=null,a.prototype.errorMessage=null,a.create=function(n){return new a(n)},a.encode=function(n,l){return l||(l=oe.create()),n.rejectedSpans!=null&&Object.hasOwnProperty.call(n,"rejectedSpans")&&l.uint32(8).int64(n.rejectedSpans),n.errorMessage!=null&&Object.hasOwnProperty.call(n,"errorMessage")&&l.uint32(18).string(n.errorMessage),l},a.encodeDelimited=function(n,l){return this.encode(n,l).ldelim()},a.decode=function(n,l){n instanceof g||(n=g.create(n));for(var c=l===void 0?n.len:n.pos+l,u=new d.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess;n.pos<c;){var f=n.uint32();switch(f>>>3){case 1:{u.rejectedSpans=n.int64();break}case 2:{u.errorMessage=n.string();break}default:n.skipType(f&7);break}}return u},a.decodeDelimited=function(n){return n instanceof g||(n=new g(n)),this.decode(n,n.uint32())},a.verify=function(n){return typeof n!="object"||n===null?"object expected":n.rejectedSpans!=null&&n.hasOwnProperty("rejectedSpans")&&!h.isInteger(n.rejectedSpans)&&!(n.rejectedSpans&&h.isInteger(n.rejectedSpans.low)&&h.isInteger(n.rejectedSpans.high))?"rejectedSpans: integer|Long expected":n.errorMessage!=null&&n.hasOwnProperty("errorMessage")&&!h.isString(n.errorMessage)?"errorMessage: string expected":null},a.fromObject=function(n){if(n instanceof d.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess)return n;var l=new d.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess;return n.rejectedSpans!=null&&(h.Long?(l.rejectedSpans=h.Long.fromValue(n.rejectedSpans)).unsigned=!1:typeof n.rejectedSpans=="string"?l.rejectedSpans=parseInt(n.rejectedSpans,10):typeof n.rejectedSpans=="number"?l.rejectedSpans=n.rejectedSpans:typeof n.rejectedSpans=="object"&&(l.rejectedSpans=new h.LongBits(n.rejectedSpans.low>>>0,n.rejectedSpans.high>>>0).toNumber())),n.errorMessage!=null&&(l.errorMessage=String(n.errorMessage)),l},a.toObject=function(n,l){l||(l={});var c={};if(l.defaults){if(h.Long){var u=new h.Long(0,0,!1);c.rejectedSpans=l.longs===String?u.toString():l.longs===Number?u.toNumber():u}else c.rejectedSpans=l.longs===String?"0":0;c.errorMessage=""}return n.rejectedSpans!=null&&n.hasOwnProperty("rejectedSpans")&&(typeof n.rejectedSpans=="number"?c.rejectedSpans=l.longs===String?String(n.rejectedSpans):n.rejectedSpans:c.rejectedSpans=l.longs===String?h.Long.prototype.toString.call(n.rejectedSpans):l.longs===Number?new h.LongBits(n.rejectedSpans.low>>>0,n.rejectedSpans.high>>>0).toNumber():n.rejectedSpans),n.errorMessage!=null&&n.hasOwnProperty("errorMessage")&&(c.errorMessage=n.errorMessage),c},a.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},a.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess"},a}(),s}(),o}(),t.metrics=function(){var o={};return o.v1=function(){var s={};return s.MetricsService=function(){function a(i,n,l){X.rpc.Service.call(this,i,n,l)}return(a.prototype=Object.create(X.rpc.Service.prototype)).constructor=a,a.create=function(n,l,c){return new this(n,l,c)},Object.defineProperty(a.prototype.export=function i(n,l){return this.rpcCall(i,d.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest,d.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse,n,l)},"name",{value:"Export"}),a}(),s.ExportMetricsServiceRequest=function(){function a(i){if(this.resourceMetrics=[],i)for(var n=Object.keys(i),l=0;l<n.length;++l)i[n[l]]!=null&&(this[n[l]]=i[n[l]])}return a.prototype.resourceMetrics=h.emptyArray,a.create=function(n){return new a(n)},a.encode=function(n,l){if(l||(l=oe.create()),n.resourceMetrics!=null&&n.resourceMetrics.length)for(var c=0;c<n.resourceMetrics.length;++c)d.opentelemetry.proto.metrics.v1.ResourceMetrics.encode(n.resourceMetrics[c],l.uint32(10).fork()).ldelim();return l},a.encodeDelimited=function(n,l){return this.encode(n,l).ldelim()},a.decode=function(n,l){n instanceof g||(n=g.create(n));for(var c=l===void 0?n.len:n.pos+l,u=new d.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest;n.pos<c;){var f=n.uint32();switch(f>>>3){case 1:{u.resourceMetrics&&u.resourceMetrics.length||(u.resourceMetrics=[]),u.resourceMetrics.push(d.opentelemetry.proto.metrics.v1.ResourceMetrics.decode(n,n.uint32()));break}default:n.skipType(f&7);break}}return u},a.decodeDelimited=function(n){return n instanceof g||(n=new g(n)),this.decode(n,n.uint32())},a.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.resourceMetrics!=null&&n.hasOwnProperty("resourceMetrics")){if(!Array.isArray(n.resourceMetrics))return"resourceMetrics: array expected";for(var l=0;l<n.resourceMetrics.length;++l){var c=d.opentelemetry.proto.metrics.v1.ResourceMetrics.verify(n.resourceMetrics[l]);if(c)return"resourceMetrics."+c}}return null},a.fromObject=function(n){if(n instanceof d.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest)return n;var l=new d.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest;if(n.resourceMetrics){if(!Array.isArray(n.resourceMetrics))throw TypeError(".opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest.resourceMetrics: array expected");l.resourceMetrics=[];for(var c=0;c<n.resourceMetrics.length;++c){if(typeof n.resourceMetrics[c]!="object")throw TypeError(".opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest.resourceMetrics: object expected");l.resourceMetrics[c]=d.opentelemetry.proto.metrics.v1.ResourceMetrics.fromObject(n.resourceMetrics[c])}}return l},a.toObject=function(n,l){l||(l={});var c={};if((l.arrays||l.defaults)&&(c.resourceMetrics=[]),n.resourceMetrics&&n.resourceMetrics.length){c.resourceMetrics=[];for(var u=0;u<n.resourceMetrics.length;++u)c.resourceMetrics[u]=d.opentelemetry.proto.metrics.v1.ResourceMetrics.toObject(n.resourceMetrics[u],l)}return c},a.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},a.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest"},a}(),s.ExportMetricsServiceResponse=function(){function a(i){if(i)for(var n=Object.keys(i),l=0;l<n.length;++l)i[n[l]]!=null&&(this[n[l]]=i[n[l]])}return a.prototype.partialSuccess=null,a.create=function(n){return new a(n)},a.encode=function(n,l){return l||(l=oe.create()),n.partialSuccess!=null&&Object.hasOwnProperty.call(n,"partialSuccess")&&d.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess.encode(n.partialSuccess,l.uint32(10).fork()).ldelim(),l},a.encodeDelimited=function(n,l){return this.encode(n,l).ldelim()},a.decode=function(n,l){n instanceof g||(n=g.create(n));for(var c=l===void 0?n.len:n.pos+l,u=new d.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse;n.pos<c;){var f=n.uint32();switch(f>>>3){case 1:{u.partialSuccess=d.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess.decode(n,n.uint32());break}default:n.skipType(f&7);break}}return u},a.decodeDelimited=function(n){return n instanceof g||(n=new g(n)),this.decode(n,n.uint32())},a.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.partialSuccess!=null&&n.hasOwnProperty("partialSuccess")){var l=d.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess.verify(n.partialSuccess);if(l)return"partialSuccess."+l}return null},a.fromObject=function(n){if(n instanceof d.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse)return n;var l=new d.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse;if(n.partialSuccess!=null){if(typeof n.partialSuccess!="object")throw TypeError(".opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse.partialSuccess: object expected");l.partialSuccess=d.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess.fromObject(n.partialSuccess)}return l},a.toObject=function(n,l){l||(l={});var c={};return l.defaults&&(c.partialSuccess=null),n.partialSuccess!=null&&n.hasOwnProperty("partialSuccess")&&(c.partialSuccess=d.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess.toObject(n.partialSuccess,l)),c},a.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},a.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse"},a}(),s.ExportMetricsPartialSuccess=function(){function a(i){if(i)for(var n=Object.keys(i),l=0;l<n.length;++l)i[n[l]]!=null&&(this[n[l]]=i[n[l]])}return a.prototype.rejectedDataPoints=null,a.prototype.errorMessage=null,a.create=function(n){return new a(n)},a.encode=function(n,l){return l||(l=oe.create()),n.rejectedDataPoints!=null&&Object.hasOwnProperty.call(n,"rejectedDataPoints")&&l.uint32(8).int64(n.rejectedDataPoints),n.errorMessage!=null&&Object.hasOwnProperty.call(n,"errorMessage")&&l.uint32(18).string(n.errorMessage),l},a.encodeDelimited=function(n,l){return this.encode(n,l).ldelim()},a.decode=function(n,l){n instanceof g||(n=g.create(n));for(var c=l===void 0?n.len:n.pos+l,u=new d.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess;n.pos<c;){var f=n.uint32();switch(f>>>3){case 1:{u.rejectedDataPoints=n.int64();break}case 2:{u.errorMessage=n.string();break}default:n.skipType(f&7);break}}return u},a.decodeDelimited=function(n){return n instanceof g||(n=new g(n)),this.decode(n,n.uint32())},a.verify=function(n){return typeof n!="object"||n===null?"object expected":n.rejectedDataPoints!=null&&n.hasOwnProperty("rejectedDataPoints")&&!h.isInteger(n.rejectedDataPoints)&&!(n.rejectedDataPoints&&h.isInteger(n.rejectedDataPoints.low)&&h.isInteger(n.rejectedDataPoints.high))?"rejectedDataPoints: integer|Long expected":n.errorMessage!=null&&n.hasOwnProperty("errorMessage")&&!h.isString(n.errorMessage)?"errorMessage: string expected":null},a.fromObject=function(n){if(n instanceof d.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess)return n;var l=new d.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess;return n.rejectedDataPoints!=null&&(h.Long?(l.rejectedDataPoints=h.Long.fromValue(n.rejectedDataPoints)).unsigned=!1:typeof n.rejectedDataPoints=="string"?l.rejectedDataPoints=parseInt(n.rejectedDataPoints,10):typeof n.rejectedDataPoints=="number"?l.rejectedDataPoints=n.rejectedDataPoints:typeof n.rejectedDataPoints=="object"&&(l.rejectedDataPoints=new h.LongBits(n.rejectedDataPoints.low>>>0,n.rejectedDataPoints.high>>>0).toNumber())),n.errorMessage!=null&&(l.errorMessage=String(n.errorMessage)),l},a.toObject=function(n,l){l||(l={});var c={};if(l.defaults){if(h.Long){var u=new h.Long(0,0,!1);c.rejectedDataPoints=l.longs===String?u.toString():l.longs===Number?u.toNumber():u}else c.rejectedDataPoints=l.longs===String?"0":0;c.errorMessage=""}return n.rejectedDataPoints!=null&&n.hasOwnProperty("rejectedDataPoints")&&(typeof n.rejectedDataPoints=="number"?c.rejectedDataPoints=l.longs===String?String(n.rejectedDataPoints):n.rejectedDataPoints:c.rejectedDataPoints=l.longs===String?h.Long.prototype.toString.call(n.rejectedDataPoints):l.longs===Number?new h.LongBits(n.rejectedDataPoints.low>>>0,n.rejectedDataPoints.high>>>0).toNumber():n.rejectedDataPoints),n.errorMessage!=null&&n.hasOwnProperty("errorMessage")&&(c.errorMessage=n.errorMessage),c},a.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},a.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess"},a}(),s}(),o}(),t.logs=function(){var o={};return o.v1=function(){var s={};return s.LogsService=function(){function a(i,n,l){X.rpc.Service.call(this,i,n,l)}return(a.prototype=Object.create(X.rpc.Service.prototype)).constructor=a,a.create=function(n,l,c){return new this(n,l,c)},Object.defineProperty(a.prototype.export=function i(n,l){return this.rpcCall(i,d.opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest,d.opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse,n,l)},"name",{value:"Export"}),a}(),s.ExportLogsServiceRequest=function(){function a(i){if(this.resourceLogs=[],i)for(var n=Object.keys(i),l=0;l<n.length;++l)i[n[l]]!=null&&(this[n[l]]=i[n[l]])}return a.prototype.resourceLogs=h.emptyArray,a.create=function(n){return new a(n)},a.encode=function(n,l){if(l||(l=oe.create()),n.resourceLogs!=null&&n.resourceLogs.length)for(var c=0;c<n.resourceLogs.length;++c)d.opentelemetry.proto.logs.v1.ResourceLogs.encode(n.resourceLogs[c],l.uint32(10).fork()).ldelim();return l},a.encodeDelimited=function(n,l){return this.encode(n,l).ldelim()},a.decode=function(n,l){n instanceof g||(n=g.create(n));for(var c=l===void 0?n.len:n.pos+l,u=new d.opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest;n.pos<c;){var f=n.uint32();switch(f>>>3){case 1:{u.resourceLogs&&u.resourceLogs.length||(u.resourceLogs=[]),u.resourceLogs.push(d.opentelemetry.proto.logs.v1.ResourceLogs.decode(n,n.uint32()));break}default:n.skipType(f&7);break}}return u},a.decodeDelimited=function(n){return n instanceof g||(n=new g(n)),this.decode(n,n.uint32())},a.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.resourceLogs!=null&&n.hasOwnProperty("resourceLogs")){if(!Array.isArray(n.resourceLogs))return"resourceLogs: array expected";for(var l=0;l<n.resourceLogs.length;++l){var c=d.opentelemetry.proto.logs.v1.ResourceLogs.verify(n.resourceLogs[l]);if(c)return"resourceLogs."+c}}return null},a.fromObject=function(n){if(n instanceof d.opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest)return n;var l=new d.opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest;if(n.resourceLogs){if(!Array.isArray(n.resourceLogs))throw TypeError(".opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest.resourceLogs: array expected");l.resourceLogs=[];for(var c=0;c<n.resourceLogs.length;++c){if(typeof n.resourceLogs[c]!="object")throw TypeError(".opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest.resourceLogs: object expected");l.resourceLogs[c]=d.opentelemetry.proto.logs.v1.ResourceLogs.fromObject(n.resourceLogs[c])}}return l},a.toObject=function(n,l){l||(l={});var c={};if((l.arrays||l.defaults)&&(c.resourceLogs=[]),n.resourceLogs&&n.resourceLogs.length){c.resourceLogs=[];for(var u=0;u<n.resourceLogs.length;++u)c.resourceLogs[u]=d.opentelemetry.proto.logs.v1.ResourceLogs.toObject(n.resourceLogs[u],l)}return c},a.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},a.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest"},a}(),s.ExportLogsServiceResponse=function(){function a(i){if(i)for(var n=Object.keys(i),l=0;l<n.length;++l)i[n[l]]!=null&&(this[n[l]]=i[n[l]])}return a.prototype.partialSuccess=null,a.create=function(n){return new a(n)},a.encode=function(n,l){return l||(l=oe.create()),n.partialSuccess!=null&&Object.hasOwnProperty.call(n,"partialSuccess")&&d.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess.encode(n.partialSuccess,l.uint32(10).fork()).ldelim(),l},a.encodeDelimited=function(n,l){return this.encode(n,l).ldelim()},a.decode=function(n,l){n instanceof g||(n=g.create(n));for(var c=l===void 0?n.len:n.pos+l,u=new d.opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse;n.pos<c;){var f=n.uint32();switch(f>>>3){case 1:{u.partialSuccess=d.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess.decode(n,n.uint32());break}default:n.skipType(f&7);break}}return u},a.decodeDelimited=function(n){return n instanceof g||(n=new g(n)),this.decode(n,n.uint32())},a.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.partialSuccess!=null&&n.hasOwnProperty("partialSuccess")){var l=d.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess.verify(n.partialSuccess);if(l)return"partialSuccess."+l}return null},a.fromObject=function(n){if(n instanceof d.opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse)return n;var l=new d.opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse;if(n.partialSuccess!=null){if(typeof n.partialSuccess!="object")throw TypeError(".opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse.partialSuccess: object expected");l.partialSuccess=d.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess.fromObject(n.partialSuccess)}return l},a.toObject=function(n,l){l||(l={});var c={};return l.defaults&&(c.partialSuccess=null),n.partialSuccess!=null&&n.hasOwnProperty("partialSuccess")&&(c.partialSuccess=d.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess.toObject(n.partialSuccess,l)),c},a.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},a.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse"},a}(),s.ExportLogsPartialSuccess=function(){function a(i){if(i)for(var n=Object.keys(i),l=0;l<n.length;++l)i[n[l]]!=null&&(this[n[l]]=i[n[l]])}return a.prototype.rejectedLogRecords=null,a.prototype.errorMessage=null,a.create=function(n){return new a(n)},a.encode=function(n,l){return l||(l=oe.create()),n.rejectedLogRecords!=null&&Object.hasOwnProperty.call(n,"rejectedLogRecords")&&l.uint32(8).int64(n.rejectedLogRecords),n.errorMessage!=null&&Object.hasOwnProperty.call(n,"errorMessage")&&l.uint32(18).string(n.errorMessage),l},a.encodeDelimited=function(n,l){return this.encode(n,l).ldelim()},a.decode=function(n,l){n instanceof g||(n=g.create(n));for(var c=l===void 0?n.len:n.pos+l,u=new d.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess;n.pos<c;){var f=n.uint32();switch(f>>>3){case 1:{u.rejectedLogRecords=n.int64();break}case 2:{u.errorMessage=n.string();break}default:n.skipType(f&7);break}}return u},a.decodeDelimited=function(n){return n instanceof g||(n=new g(n)),this.decode(n,n.uint32())},a.verify=function(n){return typeof n!="object"||n===null?"object expected":n.rejectedLogRecords!=null&&n.hasOwnProperty("rejectedLogRecords")&&!h.isInteger(n.rejectedLogRecords)&&!(n.rejectedLogRecords&&h.isInteger(n.rejectedLogRecords.low)&&h.isInteger(n.rejectedLogRecords.high))?"rejectedLogRecords: integer|Long expected":n.errorMessage!=null&&n.hasOwnProperty("errorMessage")&&!h.isString(n.errorMessage)?"errorMessage: string expected":null},a.fromObject=function(n){if(n instanceof d.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess)return n;var l=new d.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess;return n.rejectedLogRecords!=null&&(h.Long?(l.rejectedLogRecords=h.Long.fromValue(n.rejectedLogRecords)).unsigned=!1:typeof n.rejectedLogRecords=="string"?l.rejectedLogRecords=parseInt(n.rejectedLogRecords,10):typeof n.rejectedLogRecords=="number"?l.rejectedLogRecords=n.rejectedLogRecords:typeof n.rejectedLogRecords=="object"&&(l.rejectedLogRecords=new h.LongBits(n.rejectedLogRecords.low>>>0,n.rejectedLogRecords.high>>>0).toNumber())),n.errorMessage!=null&&(l.errorMessage=String(n.errorMessage)),l},a.toObject=function(n,l){l||(l={});var c={};if(l.defaults){if(h.Long){var u=new h.Long(0,0,!1);c.rejectedLogRecords=l.longs===String?u.toString():l.longs===Number?u.toNumber():u}else c.rejectedLogRecords=l.longs===String?"0":0;c.errorMessage=""}return n.rejectedLogRecords!=null&&n.hasOwnProperty("rejectedLogRecords")&&(typeof n.rejectedLogRecords=="number"?c.rejectedLogRecords=l.longs===String?String(n.rejectedLogRecords):n.rejectedLogRecords:c.rejectedLogRecords=l.longs===String?h.Long.prototype.toString.call(n.rejectedLogRecords):l.longs===Number?new h.LongBits(n.rejectedLogRecords.low>>>0,n.rejectedLogRecords.high>>>0).toNumber():n.rejectedLogRecords),n.errorMessage!=null&&n.hasOwnProperty("errorMessage")&&(c.errorMessage=n.errorMessage),c},a.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},a.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess"},a}(),s}(),o}(),t}(),e.metrics=function(){var t={};return t.v1=function(){var o={};return o.MetricsData=function(){function s(a){if(this.resourceMetrics=[],a)for(var i=Object.keys(a),n=0;n<i.length;++n)a[i[n]]!=null&&(this[i[n]]=a[i[n]])}return s.prototype.resourceMetrics=h.emptyArray,s.create=function(i){return new s(i)},s.encode=function(i,n){if(n||(n=oe.create()),i.resourceMetrics!=null&&i.resourceMetrics.length)for(var l=0;l<i.resourceMetrics.length;++l)d.opentelemetry.proto.metrics.v1.ResourceMetrics.encode(i.resourceMetrics[l],n.uint32(10).fork()).ldelim();return n},s.encodeDelimited=function(i,n){return this.encode(i,n).ldelim()},s.decode=function(i,n){i instanceof g||(i=g.create(i));for(var l=n===void 0?i.len:i.pos+n,c=new d.opentelemetry.proto.metrics.v1.MetricsData;i.pos<l;){var u=i.uint32();switch(u>>>3){case 1:{c.resourceMetrics&&c.resourceMetrics.length||(c.resourceMetrics=[]),c.resourceMetrics.push(d.opentelemetry.proto.metrics.v1.ResourceMetrics.decode(i,i.uint32()));break}default:i.skipType(u&7);break}}return c},s.decodeDelimited=function(i){return i instanceof g||(i=new g(i)),this.decode(i,i.uint32())},s.verify=function(i){if(typeof i!="object"||i===null)return"object expected";if(i.resourceMetrics!=null&&i.hasOwnProperty("resourceMetrics")){if(!Array.isArray(i.resourceMetrics))return"resourceMetrics: array expected";for(var n=0;n<i.resourceMetrics.length;++n){var l=d.opentelemetry.proto.metrics.v1.ResourceMetrics.verify(i.resourceMetrics[n]);if(l)return"resourceMetrics."+l}}return null},s.fromObject=function(i){if(i instanceof d.opentelemetry.proto.metrics.v1.MetricsData)return i;var n=new d.opentelemetry.proto.metrics.v1.MetricsData;if(i.resourceMetrics){if(!Array.isArray(i.resourceMetrics))throw TypeError(".opentelemetry.proto.metrics.v1.MetricsData.resourceMetrics: array expected");n.resourceMetrics=[];for(var l=0;l<i.resourceMetrics.length;++l){if(typeof i.resourceMetrics[l]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.MetricsData.resourceMetrics: object expected");n.resourceMetrics[l]=d.opentelemetry.proto.metrics.v1.ResourceMetrics.fromObject(i.resourceMetrics[l])}}return n},s.toObject=function(i,n){n||(n={});var l={};if((n.arrays||n.defaults)&&(l.resourceMetrics=[]),i.resourceMetrics&&i.resourceMetrics.length){l.resourceMetrics=[];for(var c=0;c<i.resourceMetrics.length;++c)l.resourceMetrics[c]=d.opentelemetry.proto.metrics.v1.ResourceMetrics.toObject(i.resourceMetrics[c],n)}return l},s.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},s.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/opentelemetry.proto.metrics.v1.MetricsData"},s}(),o.ResourceMetrics=function(){function s(a){if(this.scopeMetrics=[],a)for(var i=Object.keys(a),n=0;n<i.length;++n)a[i[n]]!=null&&(this[i[n]]=a[i[n]])}return s.prototype.resource=null,s.prototype.scopeMetrics=h.emptyArray,s.prototype.schemaUrl=null,s.create=function(i){return new s(i)},s.encode=function(i,n){if(n||(n=oe.create()),i.resource!=null&&Object.hasOwnProperty.call(i,"resource")&&d.opentelemetry.proto.resource.v1.Resource.encode(i.resource,n.uint32(10).fork()).ldelim(),i.scopeMetrics!=null&&i.scopeMetrics.length)for(var l=0;l<i.scopeMetrics.length;++l)d.opentelemetry.proto.metrics.v1.ScopeMetrics.encode(i.scopeMetrics[l],n.uint32(18).fork()).ldelim();return i.schemaUrl!=null&&Object.hasOwnProperty.call(i,"schemaUrl")&&n.uint32(26).string(i.schemaUrl),n},s.encodeDelimited=function(i,n){return this.encode(i,n).ldelim()},s.decode=function(i,n){i instanceof g||(i=g.create(i));for(var l=n===void 0?i.len:i.pos+n,c=new d.opentelemetry.proto.metrics.v1.ResourceMetrics;i.pos<l;){var u=i.uint32();switch(u>>>3){case 1:{c.resource=d.opentelemetry.proto.resource.v1.Resource.decode(i,i.uint32());break}case 2:{c.scopeMetrics&&c.scopeMetrics.length||(c.scopeMetrics=[]),c.scopeMetrics.push(d.opentelemetry.proto.metrics.v1.ScopeMetrics.decode(i,i.uint32()));break}case 3:{c.schemaUrl=i.string();break}default:i.skipType(u&7);break}}return c},s.decodeDelimited=function(i){return i instanceof g||(i=new g(i)),this.decode(i,i.uint32())},s.verify=function(i){if(typeof i!="object"||i===null)return"object expected";if(i.resource!=null&&i.hasOwnProperty("resource")){var n=d.opentelemetry.proto.resource.v1.Resource.verify(i.resource);if(n)return"resource."+n}if(i.scopeMetrics!=null&&i.hasOwnProperty("scopeMetrics")){if(!Array.isArray(i.scopeMetrics))return"scopeMetrics: array expected";for(var l=0;l<i.scopeMetrics.length;++l){var n=d.opentelemetry.proto.metrics.v1.ScopeMetrics.verify(i.scopeMetrics[l]);if(n)return"scopeMetrics."+n}}return i.schemaUrl!=null&&i.hasOwnProperty("schemaUrl")&&!h.isString(i.schemaUrl)?"schemaUrl: string expected":null},s.fromObject=function(i){if(i instanceof d.opentelemetry.proto.metrics.v1.ResourceMetrics)return i;var n=new d.opentelemetry.proto.metrics.v1.ResourceMetrics;if(i.resource!=null){if(typeof i.resource!="object")throw TypeError(".opentelemetry.proto.metrics.v1.ResourceMetrics.resource: object expected");n.resource=d.opentelemetry.proto.resource.v1.Resource.fromObject(i.resource)}if(i.scopeMetrics){if(!Array.isArray(i.scopeMetrics))throw TypeError(".opentelemetry.proto.metrics.v1.ResourceMetrics.scopeMetrics: array expected");n.scopeMetrics=[];for(var l=0;l<i.scopeMetrics.length;++l){if(typeof i.scopeMetrics[l]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.ResourceMetrics.scopeMetrics: object expected");n.scopeMetrics[l]=d.opentelemetry.proto.metrics.v1.ScopeMetrics.fromObject(i.scopeMetrics[l])}}return i.schemaUrl!=null&&(n.schemaUrl=String(i.schemaUrl)),n},s.toObject=function(i,n){n||(n={});var l={};if((n.arrays||n.defaults)&&(l.scopeMetrics=[]),n.defaults&&(l.resource=null,l.schemaUrl=""),i.resource!=null&&i.hasOwnProperty("resource")&&(l.resource=d.opentelemetry.proto.resource.v1.Resource.toObject(i.resource,n)),i.scopeMetrics&&i.scopeMetrics.length){l.scopeMetrics=[];for(var c=0;c<i.scopeMetrics.length;++c)l.scopeMetrics[c]=d.opentelemetry.proto.metrics.v1.ScopeMetrics.toObject(i.scopeMetrics[c],n)}return i.schemaUrl!=null&&i.hasOwnProperty("schemaUrl")&&(l.schemaUrl=i.schemaUrl),l},s.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},s.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/opentelemetry.proto.metrics.v1.ResourceMetrics"},s}(),o.ScopeMetrics=function(){function s(a){if(this.metrics=[],a)for(var i=Object.keys(a),n=0;n<i.length;++n)a[i[n]]!=null&&(this[i[n]]=a[i[n]])}return s.prototype.scope=null,s.prototype.metrics=h.emptyArray,s.prototype.schemaUrl=null,s.create=function(i){return new s(i)},s.encode=function(i,n){if(n||(n=oe.create()),i.scope!=null&&Object.hasOwnProperty.call(i,"scope")&&d.opentelemetry.proto.common.v1.InstrumentationScope.encode(i.scope,n.uint32(10).fork()).ldelim(),i.metrics!=null&&i.metrics.length)for(var l=0;l<i.metrics.length;++l)d.opentelemetry.proto.metrics.v1.Metric.encode(i.metrics[l],n.uint32(18).fork()).ldelim();return i.schemaUrl!=null&&Object.hasOwnProperty.call(i,"schemaUrl")&&n.uint32(26).string(i.schemaUrl),n},s.encodeDelimited=function(i,n){return this.encode(i,n).ldelim()},s.decode=function(i,n){i instanceof g||(i=g.create(i));for(var l=n===void 0?i.len:i.pos+n,c=new d.opentelemetry.proto.metrics.v1.ScopeMetrics;i.pos<l;){var u=i.uint32();switch(u>>>3){case 1:{c.scope=d.opentelemetry.proto.common.v1.InstrumentationScope.decode(i,i.uint32());break}case 2:{c.metrics&&c.metrics.length||(c.metrics=[]),c.metrics.push(d.opentelemetry.proto.metrics.v1.Metric.decode(i,i.uint32()));break}case 3:{c.schemaUrl=i.string();break}default:i.skipType(u&7);break}}return c},s.decodeDelimited=function(i){return i instanceof g||(i=new g(i)),this.decode(i,i.uint32())},s.verify=function(i){if(typeof i!="object"||i===null)return"object expected";if(i.scope!=null&&i.hasOwnProperty("scope")){var n=d.opentelemetry.proto.common.v1.InstrumentationScope.verify(i.scope);if(n)return"scope."+n}if(i.metrics!=null&&i.hasOwnProperty("metrics")){if(!Array.isArray(i.metrics))return"metrics: array expected";for(var l=0;l<i.metrics.length;++l){var n=d.opentelemetry.proto.metrics.v1.Metric.verify(i.metrics[l]);if(n)return"metrics."+n}}return i.schemaUrl!=null&&i.hasOwnProperty("schemaUrl")&&!h.isString(i.schemaUrl)?"schemaUrl: string expected":null},s.fromObject=function(i){if(i instanceof d.opentelemetry.proto.metrics.v1.ScopeMetrics)return i;var n=new d.opentelemetry.proto.metrics.v1.ScopeMetrics;if(i.scope!=null){if(typeof i.scope!="object")throw TypeError(".opentelemetry.proto.metrics.v1.ScopeMetrics.scope: object expected");n.scope=d.opentelemetry.proto.common.v1.InstrumentationScope.fromObject(i.scope)}if(i.metrics){if(!Array.isArray(i.metrics))throw TypeError(".opentelemetry.proto.metrics.v1.ScopeMetrics.metrics: array expected");n.metrics=[];for(var l=0;l<i.metrics.length;++l){if(typeof i.metrics[l]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.ScopeMetrics.metrics: object expected");n.metrics[l]=d.opentelemetry.proto.metrics.v1.Metric.fromObject(i.metrics[l])}}return i.schemaUrl!=null&&(n.schemaUrl=String(i.schemaUrl)),n},s.toObject=function(i,n){n||(n={});var l={};if((n.arrays||n.defaults)&&(l.metrics=[]),n.defaults&&(l.scope=null,l.schemaUrl=""),i.scope!=null&&i.hasOwnProperty("scope")&&(l.scope=d.opentelemetry.proto.common.v1.InstrumentationScope.toObject(i.scope,n)),i.metrics&&i.metrics.length){l.metrics=[];for(var c=0;c<i.metrics.length;++c)l.metrics[c]=d.opentelemetry.proto.metrics.v1.Metric.toObject(i.metrics[c],n)}return i.schemaUrl!=null&&i.hasOwnProperty("schemaUrl")&&(l.schemaUrl=i.schemaUrl),l},s.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},s.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/opentelemetry.proto.metrics.v1.ScopeMetrics"},s}(),o.Metric=function(){function s(i){if(i)for(var n=Object.keys(i),l=0;l<n.length;++l)i[n[l]]!=null&&(this[n[l]]=i[n[l]])}s.prototype.name=null,s.prototype.description=null,s.prototype.unit=null,s.prototype.gauge=null,s.prototype.sum=null,s.prototype.histogram=null,s.prototype.exponentialHistogram=null,s.prototype.summary=null;var a;return Object.defineProperty(s.prototype,"data",{get:h.oneOfGetter(a=["gauge","sum","histogram","exponentialHistogram","summary"]),set:h.oneOfSetter(a)}),s.create=function(n){return new s(n)},s.encode=function(n,l){return l||(l=oe.create()),n.name!=null&&Object.hasOwnProperty.call(n,"name")&&l.uint32(10).string(n.name),n.description!=null&&Object.hasOwnProperty.call(n,"description")&&l.uint32(18).string(n.description),n.unit!=null&&Object.hasOwnProperty.call(n,"unit")&&l.uint32(26).string(n.unit),n.gauge!=null&&Object.hasOwnProperty.call(n,"gauge")&&d.opentelemetry.proto.metrics.v1.Gauge.encode(n.gauge,l.uint32(42).fork()).ldelim(),n.sum!=null&&Object.hasOwnProperty.call(n,"sum")&&d.opentelemetry.proto.metrics.v1.Sum.encode(n.sum,l.uint32(58).fork()).ldelim(),n.histogram!=null&&Object.hasOwnProperty.call(n,"histogram")&&d.opentelemetry.proto.metrics.v1.Histogram.encode(n.histogram,l.uint32(74).fork()).ldelim(),n.exponentialHistogram!=null&&Object.hasOwnProperty.call(n,"exponentialHistogram")&&d.opentelemetry.proto.metrics.v1.ExponentialHistogram.encode(n.exponentialHistogram,l.uint32(82).fork()).ldelim(),n.summary!=null&&Object.hasOwnProperty.call(n,"summary")&&d.opentelemetry.proto.metrics.v1.Summary.encode(n.summary,l.uint32(90).fork()).ldelim(),l},s.encodeDelimited=function(n,l){return this.encode(n,l).ldelim()},s.decode=function(n,l){n instanceof g||(n=g.create(n));for(var c=l===void 0?n.len:n.pos+l,u=new d.opentelemetry.proto.metrics.v1.Metric;n.pos<c;){var f=n.uint32();switch(f>>>3){case 1:{u.name=n.string();break}case 2:{u.description=n.string();break}case 3:{u.unit=n.string();break}case 5:{u.gauge=d.opentelemetry.proto.metrics.v1.Gauge.decode(n,n.uint32());break}case 7:{u.sum=d.opentelemetry.proto.metrics.v1.Sum.decode(n,n.uint32());break}case 9:{u.histogram=d.opentelemetry.proto.metrics.v1.Histogram.decode(n,n.uint32());break}case 10:{u.exponentialHistogram=d.opentelemetry.proto.metrics.v1.ExponentialHistogram.decode(n,n.uint32());break}case 11:{u.summary=d.opentelemetry.proto.metrics.v1.Summary.decode(n,n.uint32());break}default:n.skipType(f&7);break}}return u},s.decodeDelimited=function(n){return n instanceof g||(n=new g(n)),this.decode(n,n.uint32())},s.verify=function(n){if(typeof n!="object"||n===null)return"object expected";var l={};if(n.name!=null&&n.hasOwnProperty("name")&&!h.isString(n.name))return"name: string expected";if(n.description!=null&&n.hasOwnProperty("description")&&!h.isString(n.description))return"description: string expected";if(n.unit!=null&&n.hasOwnProperty("unit")&&!h.isString(n.unit))return"unit: string expected";if(n.gauge!=null&&n.hasOwnProperty("gauge")){l.data=1;{var c=d.opentelemetry.proto.metrics.v1.Gauge.verify(n.gauge);if(c)return"gauge."+c}}if(n.sum!=null&&n.hasOwnProperty("sum")){if(l.data===1)return"data: multiple values";l.data=1;{var c=d.opentelemetry.proto.metrics.v1.Sum.verify(n.sum);if(c)return"sum."+c}}if(n.histogram!=null&&n.hasOwnProperty("histogram")){if(l.data===1)return"data: multiple values";l.data=1;{var c=d.opentelemetry.proto.metrics.v1.Histogram.verify(n.histogram);if(c)return"histogram."+c}}if(n.exponentialHistogram!=null&&n.hasOwnProperty("exponentialHistogram")){if(l.data===1)return"data: multiple values";l.data=1;{var c=d.opentelemetry.proto.metrics.v1.ExponentialHistogram.verify(n.exponentialHistogram);if(c)return"exponentialHistogram."+c}}if(n.summary!=null&&n.hasOwnProperty("summary")){if(l.data===1)return"data: multiple values";l.data=1;{var c=d.opentelemetry.proto.metrics.v1.Summary.verify(n.summary);if(c)return"summary."+c}}return null},s.fromObject=function(n){if(n instanceof d.opentelemetry.proto.metrics.v1.Metric)return n;var l=new d.opentelemetry.proto.metrics.v1.Metric;if(n.name!=null&&(l.name=String(n.name)),n.description!=null&&(l.description=String(n.description)),n.unit!=null&&(l.unit=String(n.unit)),n.gauge!=null){if(typeof n.gauge!="object")throw TypeError(".opentelemetry.proto.metrics.v1.Metric.gauge: object expected");l.gauge=d.opentelemetry.proto.metrics.v1.Gauge.fromObject(n.gauge)}if(n.sum!=null){if(typeof n.sum!="object")throw TypeError(".opentelemetry.proto.metrics.v1.Metric.sum: object expected");l.sum=d.opentelemetry.proto.metrics.v1.Sum.fromObject(n.sum)}if(n.histogram!=null){if(typeof n.histogram!="object")throw TypeError(".opentelemetry.proto.metrics.v1.Metric.histogram: object expected");l.histogram=d.opentelemetry.proto.metrics.v1.Histogram.fromObject(n.histogram)}if(n.exponentialHistogram!=null){if(typeof n.exponentialHistogram!="object")throw TypeError(".opentelemetry.proto.metrics.v1.Metric.exponentialHistogram: object expected");l.exponentialHistogram=d.opentelemetry.proto.metrics.v1.ExponentialHistogram.fromObject(n.exponentialHistogram)}if(n.summary!=null){if(typeof n.summary!="object")throw TypeError(".opentelemetry.proto.metrics.v1.Metric.summary: object expected");l.summary=d.opentelemetry.proto.metrics.v1.Summary.fromObject(n.summary)}return l},s.toObject=function(n,l){l||(l={});var c={};return l.defaults&&(c.name="",c.description="",c.unit=""),n.name!=null&&n.hasOwnProperty("name")&&(c.name=n.name),n.description!=null&&n.hasOwnProperty("description")&&(c.description=n.description),n.unit!=null&&n.hasOwnProperty("unit")&&(c.unit=n.unit),n.gauge!=null&&n.hasOwnProperty("gauge")&&(c.gauge=d.opentelemetry.proto.metrics.v1.Gauge.toObject(n.gauge,l),l.oneofs&&(c.data="gauge")),n.sum!=null&&n.hasOwnProperty("sum")&&(c.sum=d.opentelemetry.proto.metrics.v1.Sum.toObject(n.sum,l),l.oneofs&&(c.data="sum")),n.histogram!=null&&n.hasOwnProperty("histogram")&&(c.histogram=d.opentelemetry.proto.metrics.v1.Histogram.toObject(n.histogram,l),l.oneofs&&(c.data="histogram")),n.exponentialHistogram!=null&&n.hasOwnProperty("exponentialHistogram")&&(c.exponentialHistogram=d.opentelemetry.proto.metrics.v1.ExponentialHistogram.toObject(n.exponentialHistogram,l),l.oneofs&&(c.data="exponentialHistogram")),n.summary!=null&&n.hasOwnProperty("summary")&&(c.summary=d.opentelemetry.proto.metrics.v1.Summary.toObject(n.summary,l),l.oneofs&&(c.data="summary")),c},s.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},s.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/opentelemetry.proto.metrics.v1.Metric"},s}(),o.Gauge=function(){function s(a){if(this.dataPoints=[],a)for(var i=Object.keys(a),n=0;n<i.length;++n)a[i[n]]!=null&&(this[i[n]]=a[i[n]])}return s.prototype.dataPoints=h.emptyArray,s.create=function(i){return new s(i)},s.encode=function(i,n){if(n||(n=oe.create()),i.dataPoints!=null&&i.dataPoints.length)for(var l=0;l<i.dataPoints.length;++l)d.opentelemetry.proto.metrics.v1.NumberDataPoint.encode(i.dataPoints[l],n.uint32(10).fork()).ldelim();return n},s.encodeDelimited=function(i,n){return this.encode(i,n).ldelim()},s.decode=function(i,n){i instanceof g||(i=g.create(i));for(var l=n===void 0?i.len:i.pos+n,c=new d.opentelemetry.proto.metrics.v1.Gauge;i.pos<l;){var u=i.uint32();switch(u>>>3){case 1:{c.dataPoints&&c.dataPoints.length||(c.dataPoints=[]),c.dataPoints.push(d.opentelemetry.proto.metrics.v1.NumberDataPoint.decode(i,i.uint32()));break}default:i.skipType(u&7);break}}return c},s.decodeDelimited=function(i){return i instanceof g||(i=new g(i)),this.decode(i,i.uint32())},s.verify=function(i){if(typeof i!="object"||i===null)return"object expected";if(i.dataPoints!=null&&i.hasOwnProperty("dataPoints")){if(!Array.isArray(i.dataPoints))return"dataPoints: array expected";for(var n=0;n<i.dataPoints.length;++n){var l=d.opentelemetry.proto.metrics.v1.NumberDataPoint.verify(i.dataPoints[n]);if(l)return"dataPoints."+l}}return null},s.fromObject=function(i){if(i instanceof d.opentelemetry.proto.metrics.v1.Gauge)return i;var n=new d.opentelemetry.proto.metrics.v1.Gauge;if(i.dataPoints){if(!Array.isArray(i.dataPoints))throw TypeError(".opentelemetry.proto.metrics.v1.Gauge.dataPoints: array expected");n.dataPoints=[];for(var l=0;l<i.dataPoints.length;++l){if(typeof i.dataPoints[l]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.Gauge.dataPoints: object expected");n.dataPoints[l]=d.opentelemetry.proto.metrics.v1.NumberDataPoint.fromObject(i.dataPoints[l])}}return n},s.toObject=function(i,n){n||(n={});var l={};if((n.arrays||n.defaults)&&(l.dataPoints=[]),i.dataPoints&&i.dataPoints.length){l.dataPoints=[];for(var c=0;c<i.dataPoints.length;++c)l.dataPoints[c]=d.opentelemetry.proto.metrics.v1.NumberDataPoint.toObject(i.dataPoints[c],n)}return l},s.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},s.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/opentelemetry.proto.metrics.v1.Gauge"},s}(),o.Sum=function(){function s(a){if(this.dataPoints=[],a)for(var i=Object.keys(a),n=0;n<i.length;++n)a[i[n]]!=null&&(this[i[n]]=a[i[n]])}return s.prototype.dataPoints=h.emptyArray,s.prototype.aggregationTemporality=null,s.prototype.isMonotonic=null,s.create=function(i){return new s(i)},s.encode=function(i,n){if(n||(n=oe.create()),i.dataPoints!=null&&i.dataPoints.length)for(var l=0;l<i.dataPoints.length;++l)d.opentelemetry.proto.metrics.v1.NumberDataPoint.encode(i.dataPoints[l],n.uint32(10).fork()).ldelim();return i.aggregationTemporality!=null&&Object.hasOwnProperty.call(i,"aggregationTemporality")&&n.uint32(16).int32(i.aggregationTemporality),i.isMonotonic!=null&&Object.hasOwnProperty.call(i,"isMonotonic")&&n.uint32(24).bool(i.isMonotonic),n},s.encodeDelimited=function(i,n){return this.encode(i,n).ldelim()},s.decode=function(i,n){i instanceof g||(i=g.create(i));for(var l=n===void 0?i.len:i.pos+n,c=new d.opentelemetry.proto.metrics.v1.Sum;i.pos<l;){var u=i.uint32();switch(u>>>3){case 1:{c.dataPoints&&c.dataPoints.length||(c.dataPoints=[]),c.dataPoints.push(d.opentelemetry.proto.metrics.v1.NumberDataPoint.decode(i,i.uint32()));break}case 2:{c.aggregationTemporality=i.int32();break}case 3:{c.isMonotonic=i.bool();break}default:i.skipType(u&7);break}}return c},s.decodeDelimited=function(i){return i instanceof g||(i=new g(i)),this.decode(i,i.uint32())},s.verify=function(i){if(typeof i!="object"||i===null)return"object expected";if(i.dataPoints!=null&&i.hasOwnProperty("dataPoints")){if(!Array.isArray(i.dataPoints))return"dataPoints: array expected";for(var n=0;n<i.dataPoints.length;++n){var l=d.opentelemetry.proto.metrics.v1.NumberDataPoint.verify(i.dataPoints[n]);if(l)return"dataPoints."+l}}if(i.aggregationTemporality!=null&&i.hasOwnProperty("aggregationTemporality"))switch(i.aggregationTemporality){default:return"aggregationTemporality: enum value expected";case 0:case 1:case 2:break}return i.isMonotonic!=null&&i.hasOwnProperty("isMonotonic")&&typeof i.isMonotonic!="boolean"?"isMonotonic: boolean expected":null},s.fromObject=function(i){if(i instanceof d.opentelemetry.proto.metrics.v1.Sum)return i;var n=new d.opentelemetry.proto.metrics.v1.Sum;if(i.dataPoints){if(!Array.isArray(i.dataPoints))throw TypeError(".opentelemetry.proto.metrics.v1.Sum.dataPoints: array expected");n.dataPoints=[];for(var l=0;l<i.dataPoints.length;++l){if(typeof i.dataPoints[l]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.Sum.dataPoints: object expected");n.dataPoints[l]=d.opentelemetry.proto.metrics.v1.NumberDataPoint.fromObject(i.dataPoints[l])}}switch(i.aggregationTemporality){default:if(typeof i.aggregationTemporality=="number"){n.aggregationTemporality=i.aggregationTemporality;break}break;case"AGGREGATION_TEMPORALITY_UNSPECIFIED":case 0:n.aggregationTemporality=0;break;case"AGGREGATION_TEMPORALITY_DELTA":case 1:n.aggregationTemporality=1;break;case"AGGREGATION_TEMPORALITY_CUMULATIVE":case 2:n.aggregationTemporality=2;break}return i.isMonotonic!=null&&(n.isMonotonic=!!i.isMonotonic),n},s.toObject=function(i,n){n||(n={});var l={};if((n.arrays||n.defaults)&&(l.dataPoints=[]),n.defaults&&(l.aggregationTemporality=n.enums===String?"AGGREGATION_TEMPORALITY_UNSPECIFIED":0,l.isMonotonic=!1),i.dataPoints&&i.dataPoints.length){l.dataPoints=[];for(var c=0;c<i.dataPoints.length;++c)l.dataPoints[c]=d.opentelemetry.proto.metrics.v1.NumberDataPoint.toObject(i.dataPoints[c],n)}return i.aggregationTemporality!=null&&i.hasOwnProperty("aggregationTemporality")&&(l.aggregationTemporality=n.enums===String?d.opentelemetry.proto.metrics.v1.AggregationTemporality[i.aggregationTemporality]===void 0?i.aggregationTemporality:d.opentelemetry.proto.metrics.v1.AggregationTemporality[i.aggregationTemporality]:i.aggregationTemporality),i.isMonotonic!=null&&i.hasOwnProperty("isMonotonic")&&(l.isMonotonic=i.isMonotonic),l},s.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},s.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/opentelemetry.proto.metrics.v1.Sum"},s}(),o.Histogram=function(){function s(a){if(this.dataPoints=[],a)for(var i=Object.keys(a),n=0;n<i.length;++n)a[i[n]]!=null&&(this[i[n]]=a[i[n]])}return s.prototype.dataPoints=h.emptyArray,s.prototype.aggregationTemporality=null,s.create=function(i){return new s(i)},s.encode=function(i,n){if(n||(n=oe.create()),i.dataPoints!=null&&i.dataPoints.length)for(var l=0;l<i.dataPoints.length;++l)d.opentelemetry.proto.metrics.v1.HistogramDataPoint.encode(i.dataPoints[l],n.uint32(10).fork()).ldelim();return i.aggregationTemporality!=null&&Object.hasOwnProperty.call(i,"aggregationTemporality")&&n.uint32(16).int32(i.aggregationTemporality),n},s.encodeDelimited=function(i,n){return this.encode(i,n).ldelim()},s.decode=function(i,n){i instanceof g||(i=g.create(i));for(var l=n===void 0?i.len:i.pos+n,c=new d.opentelemetry.proto.metrics.v1.Histogram;i.pos<l;){var u=i.uint32();switch(u>>>3){case 1:{c.dataPoints&&c.dataPoints.length||(c.dataPoints=[]),c.dataPoints.push(d.opentelemetry.proto.metrics.v1.HistogramDataPoint.decode(i,i.uint32()));break}case 2:{c.aggregationTemporality=i.int32();break}default:i.skipType(u&7);break}}return c},s.decodeDelimited=function(i){return i instanceof g||(i=new g(i)),this.decode(i,i.uint32())},s.verify=function(i){if(typeof i!="object"||i===null)return"object expected";if(i.dataPoints!=null&&i.hasOwnProperty("dataPoints")){if(!Array.isArray(i.dataPoints))return"dataPoints: array expected";for(var n=0;n<i.dataPoints.length;++n){var l=d.opentelemetry.proto.metrics.v1.HistogramDataPoint.verify(i.dataPoints[n]);if(l)return"dataPoints."+l}}if(i.aggregationTemporality!=null&&i.hasOwnProperty("aggregationTemporality"))switch(i.aggregationTemporality){default:return"aggregationTemporality: enum value expected";case 0:case 1:case 2:break}return null},s.fromObject=function(i){if(i instanceof d.opentelemetry.proto.metrics.v1.Histogram)return i;var n=new d.opentelemetry.proto.metrics.v1.Histogram;if(i.dataPoints){if(!Array.isArray(i.dataPoints))throw TypeError(".opentelemetry.proto.metrics.v1.Histogram.dataPoints: array expected");n.dataPoints=[];for(var l=0;l<i.dataPoints.length;++l){if(typeof i.dataPoints[l]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.Histogram.dataPoints: object expected");n.dataPoints[l]=d.opentelemetry.proto.metrics.v1.HistogramDataPoint.fromObject(i.dataPoints[l])}}switch(i.aggregationTemporality){default:if(typeof i.aggregationTemporality=="number"){n.aggregationTemporality=i.aggregationTemporality;break}break;case"AGGREGATION_TEMPORALITY_UNSPECIFIED":case 0:n.aggregationTemporality=0;break;case"AGGREGATION_TEMPORALITY_DELTA":case 1:n.aggregationTemporality=1;break;case"AGGREGATION_TEMPORALITY_CUMULATIVE":case 2:n.aggregationTemporality=2;break}return n},s.toObject=function(i,n){n||(n={});var l={};if((n.arrays||n.defaults)&&(l.dataPoints=[]),n.defaults&&(l.aggregationTemporality=n.enums===String?"AGGREGATION_TEMPORALITY_UNSPECIFIED":0),i.dataPoints&&i.dataPoints.length){l.dataPoints=[];for(var c=0;c<i.dataPoints.length;++c)l.dataPoints[c]=d.opentelemetry.proto.metrics.v1.HistogramDataPoint.toObject(i.dataPoints[c],n)}return i.aggregationTemporality!=null&&i.hasOwnProperty("aggregationTemporality")&&(l.aggregationTemporality=n.enums===String?d.opentelemetry.proto.metrics.v1.AggregationTemporality[i.aggregationTemporality]===void 0?i.aggregationTemporality:d.opentelemetry.proto.metrics.v1.AggregationTemporality[i.aggregationTemporality]:i.aggregationTemporality),l},s.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},s.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/opentelemetry.proto.metrics.v1.Histogram"},s}(),o.ExponentialHistogram=function(){function s(a){if(this.dataPoints=[],a)for(var i=Object.keys(a),n=0;n<i.length;++n)a[i[n]]!=null&&(this[i[n]]=a[i[n]])}return s.prototype.dataPoints=h.emptyArray,s.prototype.aggregationTemporality=null,s.create=function(i){return new s(i)},s.encode=function(i,n){if(n||(n=oe.create()),i.dataPoints!=null&&i.dataPoints.length)for(var l=0;l<i.dataPoints.length;++l)d.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.encode(i.dataPoints[l],n.uint32(10).fork()).ldelim();return i.aggregationTemporality!=null&&Object.hasOwnProperty.call(i,"aggregationTemporality")&&n.uint32(16).int32(i.aggregationTemporality),n},s.encodeDelimited=function(i,n){return this.encode(i,n).ldelim()},s.decode=function(i,n){i instanceof g||(i=g.create(i));for(var l=n===void 0?i.len:i.pos+n,c=new d.opentelemetry.proto.metrics.v1.ExponentialHistogram;i.pos<l;){var u=i.uint32();switch(u>>>3){case 1:{c.dataPoints&&c.dataPoints.length||(c.dataPoints=[]),c.dataPoints.push(d.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.decode(i,i.uint32()));break}case 2:{c.aggregationTemporality=i.int32();break}default:i.skipType(u&7);break}}return c},s.decodeDelimited=function(i){return i instanceof g||(i=new g(i)),this.decode(i,i.uint32())},s.verify=function(i){if(typeof i!="object"||i===null)return"object expected";if(i.dataPoints!=null&&i.hasOwnProperty("dataPoints")){if(!Array.isArray(i.dataPoints))return"dataPoints: array expected";for(var n=0;n<i.dataPoints.length;++n){var l=d.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.verify(i.dataPoints[n]);if(l)return"dataPoints."+l}}if(i.aggregationTemporality!=null&&i.hasOwnProperty("aggregationTemporality"))switch(i.aggregationTemporality){default:return"aggregationTemporality: enum value expected";case 0:case 1:case 2:break}return null},s.fromObject=function(i){if(i instanceof d.opentelemetry.proto.metrics.v1.ExponentialHistogram)return i;var n=new d.opentelemetry.proto.metrics.v1.ExponentialHistogram;if(i.dataPoints){if(!Array.isArray(i.dataPoints))throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogram.dataPoints: array expected");n.dataPoints=[];for(var l=0;l<i.dataPoints.length;++l){if(typeof i.dataPoints[l]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogram.dataPoints: object expected");n.dataPoints[l]=d.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.fromObject(i.dataPoints[l])}}switch(i.aggregationTemporality){default:if(typeof i.aggregationTemporality=="number"){n.aggregationTemporality=i.aggregationTemporality;break}break;case"AGGREGATION_TEMPORALITY_UNSPECIFIED":case 0:n.aggregationTemporality=0;break;case"AGGREGATION_TEMPORALITY_DELTA":case 1:n.aggregationTemporality=1;break;case"AGGREGATION_TEMPORALITY_CUMULATIVE":case 2:n.aggregationTemporality=2;break}return n},s.toObject=function(i,n){n||(n={});var l={};if((n.arrays||n.defaults)&&(l.dataPoints=[]),n.defaults&&(l.aggregationTemporality=n.enums===String?"AGGREGATION_TEMPORALITY_UNSPECIFIED":0),i.dataPoints&&i.dataPoints.length){l.dataPoints=[];for(var c=0;c<i.dataPoints.length;++c)l.dataPoints[c]=d.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.toObject(i.dataPoints[c],n)}return i.aggregationTemporality!=null&&i.hasOwnProperty("aggregationTemporality")&&(l.aggregationTemporality=n.enums===String?d.opentelemetry.proto.metrics.v1.AggregationTemporality[i.aggregationTemporality]===void 0?i.aggregationTemporality:d.opentelemetry.proto.metrics.v1.AggregationTemporality[i.aggregationTemporality]:i.aggregationTemporality),l},s.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},s.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/opentelemetry.proto.metrics.v1.ExponentialHistogram"},s}(),o.Summary=function(){function s(a){if(this.dataPoints=[],a)for(var i=Object.keys(a),n=0;n<i.length;++n)a[i[n]]!=null&&(this[i[n]]=a[i[n]])}return s.prototype.dataPoints=h.emptyArray,s.create=function(i){return new s(i)},s.encode=function(i,n){if(n||(n=oe.create()),i.dataPoints!=null&&i.dataPoints.length)for(var l=0;l<i.dataPoints.length;++l)d.opentelemetry.proto.metrics.v1.SummaryDataPoint.encode(i.dataPoints[l],n.uint32(10).fork()).ldelim();return n},s.encodeDelimited=function(i,n){return this.encode(i,n).ldelim()},s.decode=function(i,n){i instanceof g||(i=g.create(i));for(var l=n===void 0?i.len:i.pos+n,c=new d.opentelemetry.proto.metrics.v1.Summary;i.pos<l;){var u=i.uint32();switch(u>>>3){case 1:{c.dataPoints&&c.dataPoints.length||(c.dataPoints=[]),c.dataPoints.push(d.opentelemetry.proto.metrics.v1.SummaryDataPoint.decode(i,i.uint32()));break}default:i.skipType(u&7);break}}return c},s.decodeDelimited=function(i){return i instanceof g||(i=new g(i)),this.decode(i,i.uint32())},s.verify=function(i){if(typeof i!="object"||i===null)return"object expected";if(i.dataPoints!=null&&i.hasOwnProperty("dataPoints")){if(!Array.isArray(i.dataPoints))return"dataPoints: array expected";for(var n=0;n<i.dataPoints.length;++n){var l=d.opentelemetry.proto.metrics.v1.SummaryDataPoint.verify(i.dataPoints[n]);if(l)return"dataPoints."+l}}return null},s.fromObject=function(i){if(i instanceof d.opentelemetry.proto.metrics.v1.Summary)return i;var n=new d.opentelemetry.proto.metrics.v1.Summary;if(i.dataPoints){if(!Array.isArray(i.dataPoints))throw TypeError(".opentelemetry.proto.metrics.v1.Summary.dataPoints: array expected");n.dataPoints=[];for(var l=0;l<i.dataPoints.length;++l){if(typeof i.dataPoints[l]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.Summary.dataPoints: object expected");n.dataPoints[l]=d.opentelemetry.proto.metrics.v1.SummaryDataPoint.fromObject(i.dataPoints[l])}}return n},s.toObject=function(i,n){n||(n={});var l={};if((n.arrays||n.defaults)&&(l.dataPoints=[]),i.dataPoints&&i.dataPoints.length){l.dataPoints=[];for(var c=0;c<i.dataPoints.length;++c)l.dataPoints[c]=d.opentelemetry.proto.metrics.v1.SummaryDataPoint.toObject(i.dataPoints[c],n)}return l},s.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},s.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/opentelemetry.proto.metrics.v1.Summary"},s}(),o.AggregationTemporality=function(){var s={},a=Object.create(s);return a[s[0]="AGGREGATION_TEMPORALITY_UNSPECIFIED"]=0,a[s[1]="AGGREGATION_TEMPORALITY_DELTA"]=1,a[s[2]="AGGREGATION_TEMPORALITY_CUMULATIVE"]=2,a}(),o.DataPointFlags=function(){var s={},a=Object.create(s);return a[s[0]="DATA_POINT_FLAGS_DO_NOT_USE"]=0,a[s[1]="DATA_POINT_FLAGS_NO_RECORDED_VALUE_MASK"]=1,a}(),o.NumberDataPoint=function(){function s(i){if(this.attributes=[],this.exemplars=[],i)for(var n=Object.keys(i),l=0;l<n.length;++l)i[n[l]]!=null&&(this[n[l]]=i[n[l]])}s.prototype.attributes=h.emptyArray,s.prototype.startTimeUnixNano=null,s.prototype.timeUnixNano=null,s.prototype.asDouble=null,s.prototype.asInt=null,s.prototype.exemplars=h.emptyArray,s.prototype.flags=null;var a;return Object.defineProperty(s.prototype,"value",{get:h.oneOfGetter(a=["asDouble","asInt"]),set:h.oneOfSetter(a)}),s.create=function(n){return new s(n)},s.encode=function(n,l){if(l||(l=oe.create()),n.startTimeUnixNano!=null&&Object.hasOwnProperty.call(n,"startTimeUnixNano")&&l.uint32(17).fixed64(n.startTimeUnixNano),n.timeUnixNano!=null&&Object.hasOwnProperty.call(n,"timeUnixNano")&&l.uint32(25).fixed64(n.timeUnixNano),n.asDouble!=null&&Object.hasOwnProperty.call(n,"asDouble")&&l.uint32(33).double(n.asDouble),n.exemplars!=null&&n.exemplars.length)for(var c=0;c<n.exemplars.length;++c)d.opentelemetry.proto.metrics.v1.Exemplar.encode(n.exemplars[c],l.uint32(42).fork()).ldelim();if(n.asInt!=null&&Object.hasOwnProperty.call(n,"asInt")&&l.uint32(49).sfixed64(n.asInt),n.attributes!=null&&n.attributes.length)for(var c=0;c<n.attributes.length;++c)d.opentelemetry.proto.common.v1.KeyValue.encode(n.attributes[c],l.uint32(58).fork()).ldelim();return n.flags!=null&&Object.hasOwnProperty.call(n,"flags")&&l.uint32(64).uint32(n.flags),l},s.encodeDelimited=function(n,l){return this.encode(n,l).ldelim()},s.decode=function(n,l){n instanceof g||(n=g.create(n));for(var c=l===void 0?n.len:n.pos+l,u=new d.opentelemetry.proto.metrics.v1.NumberDataPoint;n.pos<c;){var f=n.uint32();switch(f>>>3){case 7:{u.attributes&&u.attributes.length||(u.attributes=[]),u.attributes.push(d.opentelemetry.proto.common.v1.KeyValue.decode(n,n.uint32()));break}case 2:{u.startTimeUnixNano=n.fixed64();break}case 3:{u.timeUnixNano=n.fixed64();break}case 4:{u.asDouble=n.double();break}case 6:{u.asInt=n.sfixed64();break}case 5:{u.exemplars&&u.exemplars.length||(u.exemplars=[]),u.exemplars.push(d.opentelemetry.proto.metrics.v1.Exemplar.decode(n,n.uint32()));break}case 8:{u.flags=n.uint32();break}default:n.skipType(f&7);break}}return u},s.decodeDelimited=function(n){return n instanceof g||(n=new g(n)),this.decode(n,n.uint32())},s.verify=function(n){if(typeof n!="object"||n===null)return"object expected";var l={};if(n.attributes!=null&&n.hasOwnProperty("attributes")){if(!Array.isArray(n.attributes))return"attributes: array expected";for(var c=0;c<n.attributes.length;++c){var u=d.opentelemetry.proto.common.v1.KeyValue.verify(n.attributes[c]);if(u)return"attributes."+u}}if(n.startTimeUnixNano!=null&&n.hasOwnProperty("startTimeUnixNano")&&!h.isInteger(n.startTimeUnixNano)&&!(n.startTimeUnixNano&&h.isInteger(n.startTimeUnixNano.low)&&h.isInteger(n.startTimeUnixNano.high)))return"startTimeUnixNano: integer|Long expected";if(n.timeUnixNano!=null&&n.hasOwnProperty("timeUnixNano")&&!h.isInteger(n.timeUnixNano)&&!(n.timeUnixNano&&h.isInteger(n.timeUnixNano.low)&&h.isInteger(n.timeUnixNano.high)))return"timeUnixNano: integer|Long expected";if(n.asDouble!=null&&n.hasOwnProperty("asDouble")&&(l.value=1,typeof n.asDouble!="number"))return"asDouble: number expected";if(n.asInt!=null&&n.hasOwnProperty("asInt")){if(l.value===1)return"value: multiple values";if(l.value=1,!h.isInteger(n.asInt)&&!(n.asInt&&h.isInteger(n.asInt.low)&&h.isInteger(n.asInt.high)))return"asInt: integer|Long expected"}if(n.exemplars!=null&&n.hasOwnProperty("exemplars")){if(!Array.isArray(n.exemplars))return"exemplars: array expected";for(var c=0;c<n.exemplars.length;++c){var u=d.opentelemetry.proto.metrics.v1.Exemplar.verify(n.exemplars[c]);if(u)return"exemplars."+u}}return n.flags!=null&&n.hasOwnProperty("flags")&&!h.isInteger(n.flags)?"flags: integer expected":null},s.fromObject=function(n){if(n instanceof d.opentelemetry.proto.metrics.v1.NumberDataPoint)return n;var l=new d.opentelemetry.proto.metrics.v1.NumberDataPoint;if(n.attributes){if(!Array.isArray(n.attributes))throw TypeError(".opentelemetry.proto.metrics.v1.NumberDataPoint.attributes: array expected");l.attributes=[];for(var c=0;c<n.attributes.length;++c){if(typeof n.attributes[c]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.NumberDataPoint.attributes: object expected");l.attributes[c]=d.opentelemetry.proto.common.v1.KeyValue.fromObject(n.attributes[c])}}if(n.startTimeUnixNano!=null&&(h.Long?(l.startTimeUnixNano=h.Long.fromValue(n.startTimeUnixNano)).unsigned=!1:typeof n.startTimeUnixNano=="string"?l.startTimeUnixNano=parseInt(n.startTimeUnixNano,10):typeof n.startTimeUnixNano=="number"?l.startTimeUnixNano=n.startTimeUnixNano:typeof n.startTimeUnixNano=="object"&&(l.startTimeUnixNano=new h.LongBits(n.startTimeUnixNano.low>>>0,n.startTimeUnixNano.high>>>0).toNumber())),n.timeUnixNano!=null&&(h.Long?(l.timeUnixNano=h.Long.fromValue(n.timeUnixNano)).unsigned=!1:typeof n.timeUnixNano=="string"?l.timeUnixNano=parseInt(n.timeUnixNano,10):typeof n.timeUnixNano=="number"?l.timeUnixNano=n.timeUnixNano:typeof n.timeUnixNano=="object"&&(l.timeUnixNano=new h.LongBits(n.timeUnixNano.low>>>0,n.timeUnixNano.high>>>0).toNumber())),n.asDouble!=null&&(l.asDouble=Number(n.asDouble)),n.asInt!=null&&(h.Long?(l.asInt=h.Long.fromValue(n.asInt)).unsigned=!1:typeof n.asInt=="string"?l.asInt=parseInt(n.asInt,10):typeof n.asInt=="number"?l.asInt=n.asInt:typeof n.asInt=="object"&&(l.asInt=new h.LongBits(n.asInt.low>>>0,n.asInt.high>>>0).toNumber())),n.exemplars){if(!Array.isArray(n.exemplars))throw TypeError(".opentelemetry.proto.metrics.v1.NumberDataPoint.exemplars: array expected");l.exemplars=[];for(var c=0;c<n.exemplars.length;++c){if(typeof n.exemplars[c]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.NumberDataPoint.exemplars: object expected");l.exemplars[c]=d.opentelemetry.proto.metrics.v1.Exemplar.fromObject(n.exemplars[c])}}return n.flags!=null&&(l.flags=n.flags>>>0),l},s.toObject=function(n,l){l||(l={});var c={};if((l.arrays||l.defaults)&&(c.exemplars=[],c.attributes=[]),l.defaults){if(h.Long){var u=new h.Long(0,0,!1);c.startTimeUnixNano=l.longs===String?u.toString():l.longs===Number?u.toNumber():u}else c.startTimeUnixNano=l.longs===String?"0":0;if(h.Long){var u=new h.Long(0,0,!1);c.timeUnixNano=l.longs===String?u.toString():l.longs===Number?u.toNumber():u}else c.timeUnixNano=l.longs===String?"0":0;c.flags=0}if(n.startTimeUnixNano!=null&&n.hasOwnProperty("startTimeUnixNano")&&(typeof n.startTimeUnixNano=="number"?c.startTimeUnixNano=l.longs===String?String(n.startTimeUnixNano):n.startTimeUnixNano:c.startTimeUnixNano=l.longs===String?h.Long.prototype.toString.call(n.startTimeUnixNano):l.longs===Number?new h.LongBits(n.startTimeUnixNano.low>>>0,n.startTimeUnixNano.high>>>0).toNumber():n.startTimeUnixNano),n.timeUnixNano!=null&&n.hasOwnProperty("timeUnixNano")&&(typeof n.timeUnixNano=="number"?c.timeUnixNano=l.longs===String?String(n.timeUnixNano):n.timeUnixNano:c.timeUnixNano=l.longs===String?h.Long.prototype.toString.call(n.timeUnixNano):l.longs===Number?new h.LongBits(n.timeUnixNano.low>>>0,n.timeUnixNano.high>>>0).toNumber():n.timeUnixNano),n.asDouble!=null&&n.hasOwnProperty("asDouble")&&(c.asDouble=l.json&&!isFinite(n.asDouble)?String(n.asDouble):n.asDouble,l.oneofs&&(c.value="asDouble")),n.exemplars&&n.exemplars.length){c.exemplars=[];for(var f=0;f<n.exemplars.length;++f)c.exemplars[f]=d.opentelemetry.proto.metrics.v1.Exemplar.toObject(n.exemplars[f],l)}if(n.asInt!=null&&n.hasOwnProperty("asInt")&&(typeof n.asInt=="number"?c.asInt=l.longs===String?String(n.asInt):n.asInt:c.asInt=l.longs===String?h.Long.prototype.toString.call(n.asInt):l.longs===Number?new h.LongBits(n.asInt.low>>>0,n.asInt.high>>>0).toNumber():n.asInt,l.oneofs&&(c.value="asInt")),n.attributes&&n.attributes.length){c.attributes=[];for(var f=0;f<n.attributes.length;++f)c.attributes[f]=d.opentelemetry.proto.common.v1.KeyValue.toObject(n.attributes[f],l)}return n.flags!=null&&n.hasOwnProperty("flags")&&(c.flags=n.flags),c},s.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},s.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/opentelemetry.proto.metrics.v1.NumberDataPoint"},s}(),o.HistogramDataPoint=function(){function s(i){if(this.attributes=[],this.bucketCounts=[],this.explicitBounds=[],this.exemplars=[],i)for(var n=Object.keys(i),l=0;l<n.length;++l)i[n[l]]!=null&&(this[n[l]]=i[n[l]])}s.prototype.attributes=h.emptyArray,s.prototype.startTimeUnixNano=null,s.prototype.timeUnixNano=null,s.prototype.count=null,s.prototype.sum=null,s.prototype.bucketCounts=h.emptyArray,s.prototype.explicitBounds=h.emptyArray,s.prototype.exemplars=h.emptyArray,s.prototype.flags=null,s.prototype.min=null,s.prototype.max=null;var a;return Object.defineProperty(s.prototype,"_sum",{get:h.oneOfGetter(a=["sum"]),set:h.oneOfSetter(a)}),Object.defineProperty(s.prototype,"_min",{get:h.oneOfGetter(a=["min"]),set:h.oneOfSetter(a)}),Object.defineProperty(s.prototype,"_max",{get:h.oneOfGetter(a=["max"]),set:h.oneOfSetter(a)}),s.create=function(n){return new s(n)},s.encode=function(n,l){if(l||(l=oe.create()),n.startTimeUnixNano!=null&&Object.hasOwnProperty.call(n,"startTimeUnixNano")&&l.uint32(17).fixed64(n.startTimeUnixNano),n.timeUnixNano!=null&&Object.hasOwnProperty.call(n,"timeUnixNano")&&l.uint32(25).fixed64(n.timeUnixNano),n.count!=null&&Object.hasOwnProperty.call(n,"count")&&l.uint32(33).fixed64(n.count),n.sum!=null&&Object.hasOwnProperty.call(n,"sum")&&l.uint32(41).double(n.sum),n.bucketCounts!=null&&n.bucketCounts.length){l.uint32(50).fork();for(var c=0;c<n.bucketCounts.length;++c)l.fixed64(n.bucketCounts[c]);l.ldelim()}if(n.explicitBounds!=null&&n.explicitBounds.length){l.uint32(58).fork();for(var c=0;c<n.explicitBounds.length;++c)l.double(n.explicitBounds[c]);l.ldelim()}if(n.exemplars!=null&&n.exemplars.length)for(var c=0;c<n.exemplars.length;++c)d.opentelemetry.proto.metrics.v1.Exemplar.encode(n.exemplars[c],l.uint32(66).fork()).ldelim();if(n.attributes!=null&&n.attributes.length)for(var c=0;c<n.attributes.length;++c)d.opentelemetry.proto.common.v1.KeyValue.encode(n.attributes[c],l.uint32(74).fork()).ldelim();return n.flags!=null&&Object.hasOwnProperty.call(n,"flags")&&l.uint32(80).uint32(n.flags),n.min!=null&&Object.hasOwnProperty.call(n,"min")&&l.uint32(89).double(n.min),n.max!=null&&Object.hasOwnProperty.call(n,"max")&&l.uint32(97).double(n.max),l},s.encodeDelimited=function(n,l){return this.encode(n,l).ldelim()},s.decode=function(n,l){n instanceof g||(n=g.create(n));for(var c=l===void 0?n.len:n.pos+l,u=new d.opentelemetry.proto.metrics.v1.HistogramDataPoint;n.pos<c;){var f=n.uint32();switch(f>>>3){case 9:{u.attributes&&u.attributes.length||(u.attributes=[]),u.attributes.push(d.opentelemetry.proto.common.v1.KeyValue.decode(n,n.uint32()));break}case 2:{u.startTimeUnixNano=n.fixed64();break}case 3:{u.timeUnixNano=n.fixed64();break}case 4:{u.count=n.fixed64();break}case 5:{u.sum=n.double();break}case 6:{if(u.bucketCounts&&u.bucketCounts.length||(u.bucketCounts=[]),(f&7)===2)for(var _=n.uint32()+n.pos;n.pos<_;)u.bucketCounts.push(n.fixed64());else u.bucketCounts.push(n.fixed64());break}case 7:{if(u.explicitBounds&&u.explicitBounds.length||(u.explicitBounds=[]),(f&7)===2)for(var _=n.uint32()+n.pos;n.pos<_;)u.explicitBounds.push(n.double());else u.explicitBounds.push(n.double());break}case 8:{u.exemplars&&u.exemplars.length||(u.exemplars=[]),u.exemplars.push(d.opentelemetry.proto.metrics.v1.Exemplar.decode(n,n.uint32()));break}case 10:{u.flags=n.uint32();break}case 11:{u.min=n.double();break}case 12:{u.max=n.double();break}default:n.skipType(f&7);break}}return u},s.decodeDelimited=function(n){return n instanceof g||(n=new g(n)),this.decode(n,n.uint32())},s.verify=function(n){if(typeof n!="object"||n===null)return"object expected";var l={};if(n.attributes!=null&&n.hasOwnProperty("attributes")){if(!Array.isArray(n.attributes))return"attributes: array expected";for(var c=0;c<n.attributes.length;++c){var u=d.opentelemetry.proto.common.v1.KeyValue.verify(n.attributes[c]);if(u)return"attributes."+u}}if(n.startTimeUnixNano!=null&&n.hasOwnProperty("startTimeUnixNano")&&!h.isInteger(n.startTimeUnixNano)&&!(n.startTimeUnixNano&&h.isInteger(n.startTimeUnixNano.low)&&h.isInteger(n.startTimeUnixNano.high)))return"startTimeUnixNano: integer|Long expected";if(n.timeUnixNano!=null&&n.hasOwnProperty("timeUnixNano")&&!h.isInteger(n.timeUnixNano)&&!(n.timeUnixNano&&h.isInteger(n.timeUnixNano.low)&&h.isInteger(n.timeUnixNano.high)))return"timeUnixNano: integer|Long expected";if(n.count!=null&&n.hasOwnProperty("count")&&!h.isInteger(n.count)&&!(n.count&&h.isInteger(n.count.low)&&h.isInteger(n.count.high)))return"count: integer|Long expected";if(n.sum!=null&&n.hasOwnProperty("sum")&&(l._sum=1,typeof n.sum!="number"))return"sum: number expected";if(n.bucketCounts!=null&&n.hasOwnProperty("bucketCounts")){if(!Array.isArray(n.bucketCounts))return"bucketCounts: array expected";for(var c=0;c<n.bucketCounts.length;++c)if(!h.isInteger(n.bucketCounts[c])&&!(n.bucketCounts[c]&&h.isInteger(n.bucketCounts[c].low)&&h.isInteger(n.bucketCounts[c].high)))return"bucketCounts: integer|Long[] expected"}if(n.explicitBounds!=null&&n.hasOwnProperty("explicitBounds")){if(!Array.isArray(n.explicitBounds))return"explicitBounds: array expected";for(var c=0;c<n.explicitBounds.length;++c)if(typeof n.explicitBounds[c]!="number")return"explicitBounds: number[] expected"}if(n.exemplars!=null&&n.hasOwnProperty("exemplars")){if(!Array.isArray(n.exemplars))return"exemplars: array expected";for(var c=0;c<n.exemplars.length;++c){var u=d.opentelemetry.proto.metrics.v1.Exemplar.verify(n.exemplars[c]);if(u)return"exemplars."+u}}return n.flags!=null&&n.hasOwnProperty("flags")&&!h.isInteger(n.flags)?"flags: integer expected":n.min!=null&&n.hasOwnProperty("min")&&(l._min=1,typeof n.min!="number")?"min: number expected":n.max!=null&&n.hasOwnProperty("max")&&(l._max=1,typeof n.max!="number")?"max: number expected":null},s.fromObject=function(n){if(n instanceof d.opentelemetry.proto.metrics.v1.HistogramDataPoint)return n;var l=new d.opentelemetry.proto.metrics.v1.HistogramDataPoint;if(n.attributes){if(!Array.isArray(n.attributes))throw TypeError(".opentelemetry.proto.metrics.v1.HistogramDataPoint.attributes: array expected");l.attributes=[];for(var c=0;c<n.attributes.length;++c){if(typeof n.attributes[c]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.HistogramDataPoint.attributes: object expected");l.attributes[c]=d.opentelemetry.proto.common.v1.KeyValue.fromObject(n.attributes[c])}}if(n.startTimeUnixNano!=null&&(h.Long?(l.startTimeUnixNano=h.Long.fromValue(n.startTimeUnixNano)).unsigned=!1:typeof n.startTimeUnixNano=="string"?l.startTimeUnixNano=parseInt(n.startTimeUnixNano,10):typeof n.startTimeUnixNano=="number"?l.startTimeUnixNano=n.startTimeUnixNano:typeof n.startTimeUnixNano=="object"&&(l.startTimeUnixNano=new h.LongBits(n.startTimeUnixNano.low>>>0,n.startTimeUnixNano.high>>>0).toNumber())),n.timeUnixNano!=null&&(h.Long?(l.timeUnixNano=h.Long.fromValue(n.timeUnixNano)).unsigned=!1:typeof n.timeUnixNano=="string"?l.timeUnixNano=parseInt(n.timeUnixNano,10):typeof n.timeUnixNano=="number"?l.timeUnixNano=n.timeUnixNano:typeof n.timeUnixNano=="object"&&(l.timeUnixNano=new h.LongBits(n.timeUnixNano.low>>>0,n.timeUnixNano.high>>>0).toNumber())),n.count!=null&&(h.Long?(l.count=h.Long.fromValue(n.count)).unsigned=!1:typeof n.count=="string"?l.count=parseInt(n.count,10):typeof n.count=="number"?l.count=n.count:typeof n.count=="object"&&(l.count=new h.LongBits(n.count.low>>>0,n.count.high>>>0).toNumber())),n.sum!=null&&(l.sum=Number(n.sum)),n.bucketCounts){if(!Array.isArray(n.bucketCounts))throw TypeError(".opentelemetry.proto.metrics.v1.HistogramDataPoint.bucketCounts: array expected");l.bucketCounts=[];for(var c=0;c<n.bucketCounts.length;++c)h.Long?(l.bucketCounts[c]=h.Long.fromValue(n.bucketCounts[c])).unsigned=!1:typeof n.bucketCounts[c]=="string"?l.bucketCounts[c]=parseInt(n.bucketCounts[c],10):typeof n.bucketCounts[c]=="number"?l.bucketCounts[c]=n.bucketCounts[c]:typeof n.bucketCounts[c]=="object"&&(l.bucketCounts[c]=new h.LongBits(n.bucketCounts[c].low>>>0,n.bucketCounts[c].high>>>0).toNumber())}if(n.explicitBounds){if(!Array.isArray(n.explicitBounds))throw TypeError(".opentelemetry.proto.metrics.v1.HistogramDataPoint.explicitBounds: array expected");l.explicitBounds=[];for(var c=0;c<n.explicitBounds.length;++c)l.explicitBounds[c]=Number(n.explicitBounds[c])}if(n.exemplars){if(!Array.isArray(n.exemplars))throw TypeError(".opentelemetry.proto.metrics.v1.HistogramDataPoint.exemplars: array expected");l.exemplars=[];for(var c=0;c<n.exemplars.length;++c){if(typeof n.exemplars[c]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.HistogramDataPoint.exemplars: object expected");l.exemplars[c]=d.opentelemetry.proto.metrics.v1.Exemplar.fromObject(n.exemplars[c])}}return n.flags!=null&&(l.flags=n.flags>>>0),n.min!=null&&(l.min=Number(n.min)),n.max!=null&&(l.max=Number(n.max)),l},s.toObject=function(n,l){l||(l={});var c={};if((l.arrays||l.defaults)&&(c.bucketCounts=[],c.explicitBounds=[],c.exemplars=[],c.attributes=[]),l.defaults){if(h.Long){var u=new h.Long(0,0,!1);c.startTimeUnixNano=l.longs===String?u.toString():l.longs===Number?u.toNumber():u}else c.startTimeUnixNano=l.longs===String?"0":0;if(h.Long){var u=new h.Long(0,0,!1);c.timeUnixNano=l.longs===String?u.toString():l.longs===Number?u.toNumber():u}else c.timeUnixNano=l.longs===String?"0":0;if(h.Long){var u=new h.Long(0,0,!1);c.count=l.longs===String?u.toString():l.longs===Number?u.toNumber():u}else c.count=l.longs===String?"0":0;c.flags=0}if(n.startTimeUnixNano!=null&&n.hasOwnProperty("startTimeUnixNano")&&(typeof n.startTimeUnixNano=="number"?c.startTimeUnixNano=l.longs===String?String(n.startTimeUnixNano):n.startTimeUnixNano:c.startTimeUnixNano=l.longs===String?h.Long.prototype.toString.call(n.startTimeUnixNano):l.longs===Number?new h.LongBits(n.startTimeUnixNano.low>>>0,n.startTimeUnixNano.high>>>0).toNumber():n.startTimeUnixNano),n.timeUnixNano!=null&&n.hasOwnProperty("timeUnixNano")&&(typeof n.timeUnixNano=="number"?c.timeUnixNano=l.longs===String?String(n.timeUnixNano):n.timeUnixNano:c.timeUnixNano=l.longs===String?h.Long.prototype.toString.call(n.timeUnixNano):l.longs===Number?new h.LongBits(n.timeUnixNano.low>>>0,n.timeUnixNano.high>>>0).toNumber():n.timeUnixNano),n.count!=null&&n.hasOwnProperty("count")&&(typeof n.count=="number"?c.count=l.longs===String?String(n.count):n.count:c.count=l.longs===String?h.Long.prototype.toString.call(n.count):l.longs===Number?new h.LongBits(n.count.low>>>0,n.count.high>>>0).toNumber():n.count),n.sum!=null&&n.hasOwnProperty("sum")&&(c.sum=l.json&&!isFinite(n.sum)?String(n.sum):n.sum,l.oneofs&&(c._sum="sum")),n.bucketCounts&&n.bucketCounts.length){c.bucketCounts=[];for(var f=0;f<n.bucketCounts.length;++f)typeof n.bucketCounts[f]=="number"?c.bucketCounts[f]=l.longs===String?String(n.bucketCounts[f]):n.bucketCounts[f]:c.bucketCounts[f]=l.longs===String?h.Long.prototype.toString.call(n.bucketCounts[f]):l.longs===Number?new h.LongBits(n.bucketCounts[f].low>>>0,n.bucketCounts[f].high>>>0).toNumber():n.bucketCounts[f]}if(n.explicitBounds&&n.explicitBounds.length){c.explicitBounds=[];for(var f=0;f<n.explicitBounds.length;++f)c.explicitBounds[f]=l.json&&!isFinite(n.explicitBounds[f])?String(n.explicitBounds[f]):n.explicitBounds[f]}if(n.exemplars&&n.exemplars.length){c.exemplars=[];for(var f=0;f<n.exemplars.length;++f)c.exemplars[f]=d.opentelemetry.proto.metrics.v1.Exemplar.toObject(n.exemplars[f],l)}if(n.attributes&&n.attributes.length){c.attributes=[];for(var f=0;f<n.attributes.length;++f)c.attributes[f]=d.opentelemetry.proto.common.v1.KeyValue.toObject(n.attributes[f],l)}return n.flags!=null&&n.hasOwnProperty("flags")&&(c.flags=n.flags),n.min!=null&&n.hasOwnProperty("min")&&(c.min=l.json&&!isFinite(n.min)?String(n.min):n.min,l.oneofs&&(c._min="min")),n.max!=null&&n.hasOwnProperty("max")&&(c.max=l.json&&!isFinite(n.max)?String(n.max):n.max,l.oneofs&&(c._max="max")),c},s.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},s.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/opentelemetry.proto.metrics.v1.HistogramDataPoint"},s}(),o.ExponentialHistogramDataPoint=function(){function s(i){if(this.attributes=[],this.exemplars=[],i)for(var n=Object.keys(i),l=0;l<n.length;++l)i[n[l]]!=null&&(this[n[l]]=i[n[l]])}s.prototype.attributes=h.emptyArray,s.prototype.startTimeUnixNano=null,s.prototype.timeUnixNano=null,s.prototype.count=null,s.prototype.sum=null,s.prototype.scale=null,s.prototype.zeroCount=null,s.prototype.positive=null,s.prototype.negative=null,s.prototype.flags=null,s.prototype.exemplars=h.emptyArray,s.prototype.min=null,s.prototype.max=null,s.prototype.zeroThreshold=null;var a;return Object.defineProperty(s.prototype,"_sum",{get:h.oneOfGetter(a=["sum"]),set:h.oneOfSetter(a)}),Object.defineProperty(s.prototype,"_min",{get:h.oneOfGetter(a=["min"]),set:h.oneOfSetter(a)}),Object.defineProperty(s.prototype,"_max",{get:h.oneOfGetter(a=["max"]),set:h.oneOfSetter(a)}),s.create=function(n){return new s(n)},s.encode=function(n,l){if(l||(l=oe.create()),n.attributes!=null&&n.attributes.length)for(var c=0;c<n.attributes.length;++c)d.opentelemetry.proto.common.v1.KeyValue.encode(n.attributes[c],l.uint32(10).fork()).ldelim();if(n.startTimeUnixNano!=null&&Object.hasOwnProperty.call(n,"startTimeUnixNano")&&l.uint32(17).fixed64(n.startTimeUnixNano),n.timeUnixNano!=null&&Object.hasOwnProperty.call(n,"timeUnixNano")&&l.uint32(25).fixed64(n.timeUnixNano),n.count!=null&&Object.hasOwnProperty.call(n,"count")&&l.uint32(33).fixed64(n.count),n.sum!=null&&Object.hasOwnProperty.call(n,"sum")&&l.uint32(41).double(n.sum),n.scale!=null&&Object.hasOwnProperty.call(n,"scale")&&l.uint32(48).sint32(n.scale),n.zeroCount!=null&&Object.hasOwnProperty.call(n,"zeroCount")&&l.uint32(57).fixed64(n.zeroCount),n.positive!=null&&Object.hasOwnProperty.call(n,"positive")&&d.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.encode(n.positive,l.uint32(66).fork()).ldelim(),n.negative!=null&&Object.hasOwnProperty.call(n,"negative")&&d.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.encode(n.negative,l.uint32(74).fork()).ldelim(),n.flags!=null&&Object.hasOwnProperty.call(n,"flags")&&l.uint32(80).uint32(n.flags),n.exemplars!=null&&n.exemplars.length)for(var c=0;c<n.exemplars.length;++c)d.opentelemetry.proto.metrics.v1.Exemplar.encode(n.exemplars[c],l.uint32(90).fork()).ldelim();return n.min!=null&&Object.hasOwnProperty.call(n,"min")&&l.uint32(97).double(n.min),n.max!=null&&Object.hasOwnProperty.call(n,"max")&&l.uint32(105).double(n.max),n.zeroThreshold!=null&&Object.hasOwnProperty.call(n,"zeroThreshold")&&l.uint32(113).double(n.zeroThreshold),l},s.encodeDelimited=function(n,l){return this.encode(n,l).ldelim()},s.decode=function(n,l){n instanceof g||(n=g.create(n));for(var c=l===void 0?n.len:n.pos+l,u=new d.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint;n.pos<c;){var f=n.uint32();switch(f>>>3){case 1:{u.attributes&&u.attributes.length||(u.attributes=[]),u.attributes.push(d.opentelemetry.proto.common.v1.KeyValue.decode(n,n.uint32()));break}case 2:{u.startTimeUnixNano=n.fixed64();break}case 3:{u.timeUnixNano=n.fixed64();break}case 4:{u.count=n.fixed64();break}case 5:{u.sum=n.double();break}case 6:{u.scale=n.sint32();break}case 7:{u.zeroCount=n.fixed64();break}case 8:{u.positive=d.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.decode(n,n.uint32());break}case 9:{u.negative=d.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.decode(n,n.uint32());break}case 10:{u.flags=n.uint32();break}case 11:{u.exemplars&&u.exemplars.length||(u.exemplars=[]),u.exemplars.push(d.opentelemetry.proto.metrics.v1.Exemplar.decode(n,n.uint32()));break}case 12:{u.min=n.double();break}case 13:{u.max=n.double();break}case 14:{u.zeroThreshold=n.double();break}default:n.skipType(f&7);break}}return u},s.decodeDelimited=function(n){return n instanceof g||(n=new g(n)),this.decode(n,n.uint32())},s.verify=function(n){if(typeof n!="object"||n===null)return"object expected";var l={};if(n.attributes!=null&&n.hasOwnProperty("attributes")){if(!Array.isArray(n.attributes))return"attributes: array expected";for(var c=0;c<n.attributes.length;++c){var u=d.opentelemetry.proto.common.v1.KeyValue.verify(n.attributes[c]);if(u)return"attributes."+u}}if(n.startTimeUnixNano!=null&&n.hasOwnProperty("startTimeUnixNano")&&!h.isInteger(n.startTimeUnixNano)&&!(n.startTimeUnixNano&&h.isInteger(n.startTimeUnixNano.low)&&h.isInteger(n.startTimeUnixNano.high)))return"startTimeUnixNano: integer|Long expected";if(n.timeUnixNano!=null&&n.hasOwnProperty("timeUnixNano")&&!h.isInteger(n.timeUnixNano)&&!(n.timeUnixNano&&h.isInteger(n.timeUnixNano.low)&&h.isInteger(n.timeUnixNano.high)))return"timeUnixNano: integer|Long expected";if(n.count!=null&&n.hasOwnProperty("count")&&!h.isInteger(n.count)&&!(n.count&&h.isInteger(n.count.low)&&h.isInteger(n.count.high)))return"count: integer|Long expected";if(n.sum!=null&&n.hasOwnProperty("sum")&&(l._sum=1,typeof n.sum!="number"))return"sum: number expected";if(n.scale!=null&&n.hasOwnProperty("scale")&&!h.isInteger(n.scale))return"scale: integer expected";if(n.zeroCount!=null&&n.hasOwnProperty("zeroCount")&&!h.isInteger(n.zeroCount)&&!(n.zeroCount&&h.isInteger(n.zeroCount.low)&&h.isInteger(n.zeroCount.high)))return"zeroCount: integer|Long expected";if(n.positive!=null&&n.hasOwnProperty("positive")){var u=d.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.verify(n.positive);if(u)return"positive."+u}if(n.negative!=null&&n.hasOwnProperty("negative")){var u=d.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.verify(n.negative);if(u)return"negative."+u}if(n.flags!=null&&n.hasOwnProperty("flags")&&!h.isInteger(n.flags))return"flags: integer expected";if(n.exemplars!=null&&n.hasOwnProperty("exemplars")){if(!Array.isArray(n.exemplars))return"exemplars: array expected";for(var c=0;c<n.exemplars.length;++c){var u=d.opentelemetry.proto.metrics.v1.Exemplar.verify(n.exemplars[c]);if(u)return"exemplars."+u}}return n.min!=null&&n.hasOwnProperty("min")&&(l._min=1,typeof n.min!="number")?"min: number expected":n.max!=null&&n.hasOwnProperty("max")&&(l._max=1,typeof n.max!="number")?"max: number expected":n.zeroThreshold!=null&&n.hasOwnProperty("zeroThreshold")&&typeof n.zeroThreshold!="number"?"zeroThreshold: number expected":null},s.fromObject=function(n){if(n instanceof d.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint)return n;var l=new d.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint;if(n.attributes){if(!Array.isArray(n.attributes))throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.attributes: array expected");l.attributes=[];for(var c=0;c<n.attributes.length;++c){if(typeof n.attributes[c]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.attributes: object expected");l.attributes[c]=d.opentelemetry.proto.common.v1.KeyValue.fromObject(n.attributes[c])}}if(n.startTimeUnixNano!=null&&(h.Long?(l.startTimeUnixNano=h.Long.fromValue(n.startTimeUnixNano)).unsigned=!1:typeof n.startTimeUnixNano=="string"?l.startTimeUnixNano=parseInt(n.startTimeUnixNano,10):typeof n.startTimeUnixNano=="number"?l.startTimeUnixNano=n.startTimeUnixNano:typeof n.startTimeUnixNano=="object"&&(l.startTimeUnixNano=new h.LongBits(n.startTimeUnixNano.low>>>0,n.startTimeUnixNano.high>>>0).toNumber())),n.timeUnixNano!=null&&(h.Long?(l.timeUnixNano=h.Long.fromValue(n.timeUnixNano)).unsigned=!1:typeof n.timeUnixNano=="string"?l.timeUnixNano=parseInt(n.timeUnixNano,10):typeof n.timeUnixNano=="number"?l.timeUnixNano=n.timeUnixNano:typeof n.timeUnixNano=="object"&&(l.timeUnixNano=new h.LongBits(n.timeUnixNano.low>>>0,n.timeUnixNano.high>>>0).toNumber())),n.count!=null&&(h.Long?(l.count=h.Long.fromValue(n.count)).unsigned=!1:typeof n.count=="string"?l.count=parseInt(n.count,10):typeof n.count=="number"?l.count=n.count:typeof n.count=="object"&&(l.count=new h.LongBits(n.count.low>>>0,n.count.high>>>0).toNumber())),n.sum!=null&&(l.sum=Number(n.sum)),n.scale!=null&&(l.scale=n.scale|0),n.zeroCount!=null&&(h.Long?(l.zeroCount=h.Long.fromValue(n.zeroCount)).unsigned=!1:typeof n.zeroCount=="string"?l.zeroCount=parseInt(n.zeroCount,10):typeof n.zeroCount=="number"?l.zeroCount=n.zeroCount:typeof n.zeroCount=="object"&&(l.zeroCount=new h.LongBits(n.zeroCount.low>>>0,n.zeroCount.high>>>0).toNumber())),n.positive!=null){if(typeof n.positive!="object")throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.positive: object expected");l.positive=d.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.fromObject(n.positive)}if(n.negative!=null){if(typeof n.negative!="object")throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.negative: object expected");l.negative=d.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.fromObject(n.negative)}if(n.flags!=null&&(l.flags=n.flags>>>0),n.exemplars){if(!Array.isArray(n.exemplars))throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.exemplars: array expected");l.exemplars=[];for(var c=0;c<n.exemplars.length;++c){if(typeof n.exemplars[c]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.exemplars: object expected");l.exemplars[c]=d.opentelemetry.proto.metrics.v1.Exemplar.fromObject(n.exemplars[c])}}return n.min!=null&&(l.min=Number(n.min)),n.max!=null&&(l.max=Number(n.max)),n.zeroThreshold!=null&&(l.zeroThreshold=Number(n.zeroThreshold)),l},s.toObject=function(n,l){l||(l={});var c={};if((l.arrays||l.defaults)&&(c.attributes=[],c.exemplars=[]),l.defaults){if(h.Long){var u=new h.Long(0,0,!1);c.startTimeUnixNano=l.longs===String?u.toString():l.longs===Number?u.toNumber():u}else c.startTimeUnixNano=l.longs===String?"0":0;if(h.Long){var u=new h.Long(0,0,!1);c.timeUnixNano=l.longs===String?u.toString():l.longs===Number?u.toNumber():u}else c.timeUnixNano=l.longs===String?"0":0;if(h.Long){var u=new h.Long(0,0,!1);c.count=l.longs===String?u.toString():l.longs===Number?u.toNumber():u}else c.count=l.longs===String?"0":0;if(c.scale=0,h.Long){var u=new h.Long(0,0,!1);c.zeroCount=l.longs===String?u.toString():l.longs===Number?u.toNumber():u}else c.zeroCount=l.longs===String?"0":0;c.positive=null,c.negative=null,c.flags=0,c.zeroThreshold=0}if(n.attributes&&n.attributes.length){c.attributes=[];for(var f=0;f<n.attributes.length;++f)c.attributes[f]=d.opentelemetry.proto.common.v1.KeyValue.toObject(n.attributes[f],l)}if(n.startTimeUnixNano!=null&&n.hasOwnProperty("startTimeUnixNano")&&(typeof n.startTimeUnixNano=="number"?c.startTimeUnixNano=l.longs===String?String(n.startTimeUnixNano):n.startTimeUnixNano:c.startTimeUnixNano=l.longs===String?h.Long.prototype.toString.call(n.startTimeUnixNano):l.longs===Number?new h.LongBits(n.startTimeUnixNano.low>>>0,n.startTimeUnixNano.high>>>0).toNumber():n.startTimeUnixNano),n.timeUnixNano!=null&&n.hasOwnProperty("timeUnixNano")&&(typeof n.timeUnixNano=="number"?c.timeUnixNano=l.longs===String?String(n.timeUnixNano):n.timeUnixNano:c.timeUnixNano=l.longs===String?h.Long.prototype.toString.call(n.timeUnixNano):l.longs===Number?new h.LongBits(n.timeUnixNano.low>>>0,n.timeUnixNano.high>>>0).toNumber():n.timeUnixNano),n.count!=null&&n.hasOwnProperty("count")&&(typeof n.count=="number"?c.count=l.longs===String?String(n.count):n.count:c.count=l.longs===String?h.Long.prototype.toString.call(n.count):l.longs===Number?new h.LongBits(n.count.low>>>0,n.count.high>>>0).toNumber():n.count),n.sum!=null&&n.hasOwnProperty("sum")&&(c.sum=l.json&&!isFinite(n.sum)?String(n.sum):n.sum,l.oneofs&&(c._sum="sum")),n.scale!=null&&n.hasOwnProperty("scale")&&(c.scale=n.scale),n.zeroCount!=null&&n.hasOwnProperty("zeroCount")&&(typeof n.zeroCount=="number"?c.zeroCount=l.longs===String?String(n.zeroCount):n.zeroCount:c.zeroCount=l.longs===String?h.Long.prototype.toString.call(n.zeroCount):l.longs===Number?new h.LongBits(n.zeroCount.low>>>0,n.zeroCount.high>>>0).toNumber():n.zeroCount),n.positive!=null&&n.hasOwnProperty("positive")&&(c.positive=d.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.toObject(n.positive,l)),n.negative!=null&&n.hasOwnProperty("negative")&&(c.negative=d.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.toObject(n.negative,l)),n.flags!=null&&n.hasOwnProperty("flags")&&(c.flags=n.flags),n.exemplars&&n.exemplars.length){c.exemplars=[];for(var f=0;f<n.exemplars.length;++f)c.exemplars[f]=d.opentelemetry.proto.metrics.v1.Exemplar.toObject(n.exemplars[f],l)}return n.min!=null&&n.hasOwnProperty("min")&&(c.min=l.json&&!isFinite(n.min)?String(n.min):n.min,l.oneofs&&(c._min="min")),n.max!=null&&n.hasOwnProperty("max")&&(c.max=l.json&&!isFinite(n.max)?String(n.max):n.max,l.oneofs&&(c._max="max")),n.zeroThreshold!=null&&n.hasOwnProperty("zeroThreshold")&&(c.zeroThreshold=l.json&&!isFinite(n.zeroThreshold)?String(n.zeroThreshold):n.zeroThreshold),c},s.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},s.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint"},s.Buckets=function(){function i(n){if(this.bucketCounts=[],n)for(var l=Object.keys(n),c=0;c<l.length;++c)n[l[c]]!=null&&(this[l[c]]=n[l[c]])}return i.prototype.offset=null,i.prototype.bucketCounts=h.emptyArray,i.create=function(l){return new i(l)},i.encode=function(l,c){if(c||(c=oe.create()),l.offset!=null&&Object.hasOwnProperty.call(l,"offset")&&c.uint32(8).sint32(l.offset),l.bucketCounts!=null&&l.bucketCounts.length){c.uint32(18).fork();for(var u=0;u<l.bucketCounts.length;++u)c.uint64(l.bucketCounts[u]);c.ldelim()}return c},i.encodeDelimited=function(l,c){return this.encode(l,c).ldelim()},i.decode=function(l,c){l instanceof g||(l=g.create(l));for(var u=c===void 0?l.len:l.pos+c,f=new d.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets;l.pos<u;){var _=l.uint32();switch(_>>>3){case 1:{f.offset=l.sint32();break}case 2:{if(f.bucketCounts&&f.bucketCounts.length||(f.bucketCounts=[]),(_&7)===2)for(var m=l.uint32()+l.pos;l.pos<m;)f.bucketCounts.push(l.uint64());else f.bucketCounts.push(l.uint64());break}default:l.skipType(_&7);break}}return f},i.decodeDelimited=function(l){return l instanceof g||(l=new g(l)),this.decode(l,l.uint32())},i.verify=function(l){if(typeof l!="object"||l===null)return"object expected";if(l.offset!=null&&l.hasOwnProperty("offset")&&!h.isInteger(l.offset))return"offset: integer expected";if(l.bucketCounts!=null&&l.hasOwnProperty("bucketCounts")){if(!Array.isArray(l.bucketCounts))return"bucketCounts: array expected";for(var c=0;c<l.bucketCounts.length;++c)if(!h.isInteger(l.bucketCounts[c])&&!(l.bucketCounts[c]&&h.isInteger(l.bucketCounts[c].low)&&h.isInteger(l.bucketCounts[c].high)))return"bucketCounts: integer|Long[] expected"}return null},i.fromObject=function(l){if(l instanceof d.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets)return l;var c=new d.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets;if(l.offset!=null&&(c.offset=l.offset|0),l.bucketCounts){if(!Array.isArray(l.bucketCounts))throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.bucketCounts: array expected");c.bucketCounts=[];for(var u=0;u<l.bucketCounts.length;++u)h.Long?(c.bucketCounts[u]=h.Long.fromValue(l.bucketCounts[u])).unsigned=!0:typeof l.bucketCounts[u]=="string"?c.bucketCounts[u]=parseInt(l.bucketCounts[u],10):typeof l.bucketCounts[u]=="number"?c.bucketCounts[u]=l.bucketCounts[u]:typeof l.bucketCounts[u]=="object"&&(c.bucketCounts[u]=new h.LongBits(l.bucketCounts[u].low>>>0,l.bucketCounts[u].high>>>0).toNumber(!0))}return c},i.toObject=function(l,c){c||(c={});var u={};if((c.arrays||c.defaults)&&(u.bucketCounts=[]),c.defaults&&(u.offset=0),l.offset!=null&&l.hasOwnProperty("offset")&&(u.offset=l.offset),l.bucketCounts&&l.bucketCounts.length){u.bucketCounts=[];for(var f=0;f<l.bucketCounts.length;++f)typeof l.bucketCounts[f]=="number"?u.bucketCounts[f]=c.longs===String?String(l.bucketCounts[f]):l.bucketCounts[f]:u.bucketCounts[f]=c.longs===String?h.Long.prototype.toString.call(l.bucketCounts[f]):c.longs===Number?new h.LongBits(l.bucketCounts[f].low>>>0,l.bucketCounts[f].high>>>0).toNumber(!0):l.bucketCounts[f]}return u},i.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},i.getTypeUrl=function(l){return l===void 0&&(l="type.googleapis.com"),l+"/opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets"},i}(),s}(),o.SummaryDataPoint=function(){function s(a){if(this.attributes=[],this.quantileValues=[],a)for(var i=Object.keys(a),n=0;n<i.length;++n)a[i[n]]!=null&&(this[i[n]]=a[i[n]])}return s.prototype.attributes=h.emptyArray,s.prototype.startTimeUnixNano=null,s.prototype.timeUnixNano=null,s.prototype.count=null,s.prototype.sum=null,s.prototype.quantileValues=h.emptyArray,s.prototype.flags=null,s.create=function(i){return new s(i)},s.encode=function(i,n){if(n||(n=oe.create()),i.startTimeUnixNano!=null&&Object.hasOwnProperty.call(i,"startTimeUnixNano")&&n.uint32(17).fixed64(i.startTimeUnixNano),i.timeUnixNano!=null&&Object.hasOwnProperty.call(i,"timeUnixNano")&&n.uint32(25).fixed64(i.timeUnixNano),i.count!=null&&Object.hasOwnProperty.call(i,"count")&&n.uint32(33).fixed64(i.count),i.sum!=null&&Object.hasOwnProperty.call(i,"sum")&&n.uint32(41).double(i.sum),i.quantileValues!=null&&i.quantileValues.length)for(var l=0;l<i.quantileValues.length;++l)d.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile.encode(i.quantileValues[l],n.uint32(50).fork()).ldelim();if(i.attributes!=null&&i.attributes.length)for(var l=0;l<i.attributes.length;++l)d.opentelemetry.proto.common.v1.KeyValue.encode(i.attributes[l],n.uint32(58).fork()).ldelim();return i.flags!=null&&Object.hasOwnProperty.call(i,"flags")&&n.uint32(64).uint32(i.flags),n},s.encodeDelimited=function(i,n){return this.encode(i,n).ldelim()},s.decode=function(i,n){i instanceof g||(i=g.create(i));for(var l=n===void 0?i.len:i.pos+n,c=new d.opentelemetry.proto.metrics.v1.SummaryDataPoint;i.pos<l;){var u=i.uint32();switch(u>>>3){case 7:{c.attributes&&c.attributes.length||(c.attributes=[]),c.attributes.push(d.opentelemetry.proto.common.v1.KeyValue.decode(i,i.uint32()));break}case 2:{c.startTimeUnixNano=i.fixed64();break}case 3:{c.timeUnixNano=i.fixed64();break}case 4:{c.count=i.fixed64();break}case 5:{c.sum=i.double();break}case 6:{c.quantileValues&&c.quantileValues.length||(c.quantileValues=[]),c.quantileValues.push(d.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile.decode(i,i.uint32()));break}case 8:{c.flags=i.uint32();break}default:i.skipType(u&7);break}}return c},s.decodeDelimited=function(i){return i instanceof g||(i=new g(i)),this.decode(i,i.uint32())},s.verify=function(i){if(typeof i!="object"||i===null)return"object expected";if(i.attributes!=null&&i.hasOwnProperty("attributes")){if(!Array.isArray(i.attributes))return"attributes: array expected";for(var n=0;n<i.attributes.length;++n){var l=d.opentelemetry.proto.common.v1.KeyValue.verify(i.attributes[n]);if(l)return"attributes."+l}}if(i.startTimeUnixNano!=null&&i.hasOwnProperty("startTimeUnixNano")&&!h.isInteger(i.startTimeUnixNano)&&!(i.startTimeUnixNano&&h.isInteger(i.startTimeUnixNano.low)&&h.isInteger(i.startTimeUnixNano.high)))return"startTimeUnixNano: integer|Long expected";if(i.timeUnixNano!=null&&i.hasOwnProperty("timeUnixNano")&&!h.isInteger(i.timeUnixNano)&&!(i.timeUnixNano&&h.isInteger(i.timeUnixNano.low)&&h.isInteger(i.timeUnixNano.high)))return"timeUnixNano: integer|Long expected";if(i.count!=null&&i.hasOwnProperty("count")&&!h.isInteger(i.count)&&!(i.count&&h.isInteger(i.count.low)&&h.isInteger(i.count.high)))return"count: integer|Long expected";if(i.sum!=null&&i.hasOwnProperty("sum")&&typeof i.sum!="number")return"sum: number expected";if(i.quantileValues!=null&&i.hasOwnProperty("quantileValues")){if(!Array.isArray(i.quantileValues))return"quantileValues: array expected";for(var n=0;n<i.quantileValues.length;++n){var l=d.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile.verify(i.quantileValues[n]);if(l)return"quantileValues."+l}}return i.flags!=null&&i.hasOwnProperty("flags")&&!h.isInteger(i.flags)?"flags: integer expected":null},s.fromObject=function(i){if(i instanceof d.opentelemetry.proto.metrics.v1.SummaryDataPoint)return i;var n=new d.opentelemetry.proto.metrics.v1.SummaryDataPoint;if(i.attributes){if(!Array.isArray(i.attributes))throw TypeError(".opentelemetry.proto.metrics.v1.SummaryDataPoint.attributes: array expected");n.attributes=[];for(var l=0;l<i.attributes.length;++l){if(typeof i.attributes[l]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.SummaryDataPoint.attributes: object expected");n.attributes[l]=d.opentelemetry.proto.common.v1.KeyValue.fromObject(i.attributes[l])}}if(i.startTimeUnixNano!=null&&(h.Long?(n.startTimeUnixNano=h.Long.fromValue(i.startTimeUnixNano)).unsigned=!1:typeof i.startTimeUnixNano=="string"?n.startTimeUnixNano=parseInt(i.startTimeUnixNano,10):typeof i.startTimeUnixNano=="number"?n.startTimeUnixNano=i.startTimeUnixNano:typeof i.startTimeUnixNano=="object"&&(n.startTimeUnixNano=new h.LongBits(i.startTimeUnixNano.low>>>0,i.startTimeUnixNano.high>>>0).toNumber())),i.timeUnixNano!=null&&(h.Long?(n.timeUnixNano=h.Long.fromValue(i.timeUnixNano)).unsigned=!1:typeof i.timeUnixNano=="string"?n.timeUnixNano=parseInt(i.timeUnixNano,10):typeof i.timeUnixNano=="number"?n.timeUnixNano=i.timeUnixNano:typeof i.timeUnixNano=="object"&&(n.timeUnixNano=new h.LongBits(i.timeUnixNano.low>>>0,i.timeUnixNano.high>>>0).toNumber())),i.count!=null&&(h.Long?(n.count=h.Long.fromValue(i.count)).unsigned=!1:typeof i.count=="string"?n.count=parseInt(i.count,10):typeof i.count=="number"?n.count=i.count:typeof i.count=="object"&&(n.count=new h.LongBits(i.count.low>>>0,i.count.high>>>0).toNumber())),i.sum!=null&&(n.sum=Number(i.sum)),i.quantileValues){if(!Array.isArray(i.quantileValues))throw TypeError(".opentelemetry.proto.metrics.v1.SummaryDataPoint.quantileValues: array expected");n.quantileValues=[];for(var l=0;l<i.quantileValues.length;++l){if(typeof i.quantileValues[l]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.SummaryDataPoint.quantileValues: object expected");n.quantileValues[l]=d.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile.fromObject(i.quantileValues[l])}}return i.flags!=null&&(n.flags=i.flags>>>0),n},s.toObject=function(i,n){n||(n={});var l={};if((n.arrays||n.defaults)&&(l.quantileValues=[],l.attributes=[]),n.defaults){if(h.Long){var c=new h.Long(0,0,!1);l.startTimeUnixNano=n.longs===String?c.toString():n.longs===Number?c.toNumber():c}else l.startTimeUnixNano=n.longs===String?"0":0;if(h.Long){var c=new h.Long(0,0,!1);l.timeUnixNano=n.longs===String?c.toString():n.longs===Number?c.toNumber():c}else l.timeUnixNano=n.longs===String?"0":0;if(h.Long){var c=new h.Long(0,0,!1);l.count=n.longs===String?c.toString():n.longs===Number?c.toNumber():c}else l.count=n.longs===String?"0":0;l.sum=0,l.flags=0}if(i.startTimeUnixNano!=null&&i.hasOwnProperty("startTimeUnixNano")&&(typeof i.startTimeUnixNano=="number"?l.startTimeUnixNano=n.longs===String?String(i.startTimeUnixNano):i.startTimeUnixNano:l.startTimeUnixNano=n.longs===String?h.Long.prototype.toString.call(i.startTimeUnixNano):n.longs===Number?new h.LongBits(i.startTimeUnixNano.low>>>0,i.startTimeUnixNano.high>>>0).toNumber():i.startTimeUnixNano),i.timeUnixNano!=null&&i.hasOwnProperty("timeUnixNano")&&(typeof i.timeUnixNano=="number"?l.timeUnixNano=n.longs===String?String(i.timeUnixNano):i.timeUnixNano:l.timeUnixNano=n.longs===String?h.Long.prototype.toString.call(i.timeUnixNano):n.longs===Number?new h.LongBits(i.timeUnixNano.low>>>0,i.timeUnixNano.high>>>0).toNumber():i.timeUnixNano),i.count!=null&&i.hasOwnProperty("count")&&(typeof i.count=="number"?l.count=n.longs===String?String(i.count):i.count:l.count=n.longs===String?h.Long.prototype.toString.call(i.count):n.longs===Number?new h.LongBits(i.count.low>>>0,i.count.high>>>0).toNumber():i.count),i.sum!=null&&i.hasOwnProperty("sum")&&(l.sum=n.json&&!isFinite(i.sum)?String(i.sum):i.sum),i.quantileValues&&i.quantileValues.length){l.quantileValues=[];for(var u=0;u<i.quantileValues.length;++u)l.quantileValues[u]=d.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile.toObject(i.quantileValues[u],n)}if(i.attributes&&i.attributes.length){l.attributes=[];for(var u=0;u<i.attributes.length;++u)l.attributes[u]=d.opentelemetry.proto.common.v1.KeyValue.toObject(i.attributes[u],n)}return i.flags!=null&&i.hasOwnProperty("flags")&&(l.flags=i.flags),l},s.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},s.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/opentelemetry.proto.metrics.v1.SummaryDataPoint"},s.ValueAtQuantile=function(){function a(i){if(i)for(var n=Object.keys(i),l=0;l<n.length;++l)i[n[l]]!=null&&(this[n[l]]=i[n[l]])}return a.prototype.quantile=null,a.prototype.value=null,a.create=function(n){return new a(n)},a.encode=function(n,l){return l||(l=oe.create()),n.quantile!=null&&Object.hasOwnProperty.call(n,"quantile")&&l.uint32(9).double(n.quantile),n.value!=null&&Object.hasOwnProperty.call(n,"value")&&l.uint32(17).double(n.value),l},a.encodeDelimited=function(n,l){return this.encode(n,l).ldelim()},a.decode=function(n,l){n instanceof g||(n=g.create(n));for(var c=l===void 0?n.len:n.pos+l,u=new d.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile;n.pos<c;){var f=n.uint32();switch(f>>>3){case 1:{u.quantile=n.double();break}case 2:{u.value=n.double();break}default:n.skipType(f&7);break}}return u},a.decodeDelimited=function(n){return n instanceof g||(n=new g(n)),this.decode(n,n.uint32())},a.verify=function(n){return typeof n!="object"||n===null?"object expected":n.quantile!=null&&n.hasOwnProperty("quantile")&&typeof n.quantile!="number"?"quantile: number expected":n.value!=null&&n.hasOwnProperty("value")&&typeof n.value!="number"?"value: number expected":null},a.fromObject=function(n){if(n instanceof d.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile)return n;var l=new d.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile;return n.quantile!=null&&(l.quantile=Number(n.quantile)),n.value!=null&&(l.value=Number(n.value)),l},a.toObject=function(n,l){l||(l={});var c={};return l.defaults&&(c.quantile=0,c.value=0),n.quantile!=null&&n.hasOwnProperty("quantile")&&(c.quantile=l.json&&!isFinite(n.quantile)?String(n.quantile):n.quantile),n.value!=null&&n.hasOwnProperty("value")&&(c.value=l.json&&!isFinite(n.value)?String(n.value):n.value),c},a.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},a.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile"},a}(),s}(),o.Exemplar=function(){function s(i){if(this.filteredAttributes=[],i)for(var n=Object.keys(i),l=0;l<n.length;++l)i[n[l]]!=null&&(this[n[l]]=i[n[l]])}s.prototype.filteredAttributes=h.emptyArray,s.prototype.timeUnixNano=null,s.prototype.asDouble=null,s.prototype.asInt=null,s.prototype.spanId=null,s.prototype.traceId=null;var a;return Object.defineProperty(s.prototype,"value",{get:h.oneOfGetter(a=["asDouble","asInt"]),set:h.oneOfSetter(a)}),s.create=function(n){return new s(n)},s.encode=function(n,l){if(l||(l=oe.create()),n.timeUnixNano!=null&&Object.hasOwnProperty.call(n,"timeUnixNano")&&l.uint32(17).fixed64(n.timeUnixNano),n.asDouble!=null&&Object.hasOwnProperty.call(n,"asDouble")&&l.uint32(25).double(n.asDouble),n.spanId!=null&&Object.hasOwnProperty.call(n,"spanId")&&l.uint32(34).bytes(n.spanId),n.traceId!=null&&Object.hasOwnProperty.call(n,"traceId")&&l.uint32(42).bytes(n.traceId),n.asInt!=null&&Object.hasOwnProperty.call(n,"asInt")&&l.uint32(49).sfixed64(n.asInt),n.filteredAttributes!=null&&n.filteredAttributes.length)for(var c=0;c<n.filteredAttributes.length;++c)d.opentelemetry.proto.common.v1.KeyValue.encode(n.filteredAttributes[c],l.uint32(58).fork()).ldelim();return l},s.encodeDelimited=function(n,l){return this.encode(n,l).ldelim()},s.decode=function(n,l){n instanceof g||(n=g.create(n));for(var c=l===void 0?n.len:n.pos+l,u=new d.opentelemetry.proto.metrics.v1.Exemplar;n.pos<c;){var f=n.uint32();switch(f>>>3){case 7:{u.filteredAttributes&&u.filteredAttributes.length||(u.filteredAttributes=[]),u.filteredAttributes.push(d.opentelemetry.proto.common.v1.KeyValue.decode(n,n.uint32()));break}case 2:{u.timeUnixNano=n.fixed64();break}case 3:{u.asDouble=n.double();break}case 6:{u.asInt=n.sfixed64();break}case 4:{u.spanId=n.bytes();break}case 5:{u.traceId=n.bytes();break}default:n.skipType(f&7);break}}return u},s.decodeDelimited=function(n){return n instanceof g||(n=new g(n)),this.decode(n,n.uint32())},s.verify=function(n){if(typeof n!="object"||n===null)return"object expected";var l={};if(n.filteredAttributes!=null&&n.hasOwnProperty("filteredAttributes")){if(!Array.isArray(n.filteredAttributes))return"filteredAttributes: array expected";for(var c=0;c<n.filteredAttributes.length;++c){var u=d.opentelemetry.proto.common.v1.KeyValue.verify(n.filteredAttributes[c]);if(u)return"filteredAttributes."+u}}if(n.timeUnixNano!=null&&n.hasOwnProperty("timeUnixNano")&&!h.isInteger(n.timeUnixNano)&&!(n.timeUnixNano&&h.isInteger(n.timeUnixNano.low)&&h.isInteger(n.timeUnixNano.high)))return"timeUnixNano: integer|Long expected";if(n.asDouble!=null&&n.hasOwnProperty("asDouble")&&(l.value=1,typeof n.asDouble!="number"))return"asDouble: number expected";if(n.asInt!=null&&n.hasOwnProperty("asInt")){if(l.value===1)return"value: multiple values";if(l.value=1,!h.isInteger(n.asInt)&&!(n.asInt&&h.isInteger(n.asInt.low)&&h.isInteger(n.asInt.high)))return"asInt: integer|Long expected"}return n.spanId!=null&&n.hasOwnProperty("spanId")&&!(n.spanId&&typeof n.spanId.length=="number"||h.isString(n.spanId))?"spanId: buffer expected":n.traceId!=null&&n.hasOwnProperty("traceId")&&!(n.traceId&&typeof n.traceId.length=="number"||h.isString(n.traceId))?"traceId: buffer expected":null},s.fromObject=function(n){if(n instanceof d.opentelemetry.proto.metrics.v1.Exemplar)return n;var l=new d.opentelemetry.proto.metrics.v1.Exemplar;if(n.filteredAttributes){if(!Array.isArray(n.filteredAttributes))throw TypeError(".opentelemetry.proto.metrics.v1.Exemplar.filteredAttributes: array expected");l.filteredAttributes=[];for(var c=0;c<n.filteredAttributes.length;++c){if(typeof n.filteredAttributes[c]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.Exemplar.filteredAttributes: object expected");l.filteredAttributes[c]=d.opentelemetry.proto.common.v1.KeyValue.fromObject(n.filteredAttributes[c])}}return n.timeUnixNano!=null&&(h.Long?(l.timeUnixNano=h.Long.fromValue(n.timeUnixNano)).unsigned=!1:typeof n.timeUnixNano=="string"?l.timeUnixNano=parseInt(n.timeUnixNano,10):typeof n.timeUnixNano=="number"?l.timeUnixNano=n.timeUnixNano:typeof n.timeUnixNano=="object"&&(l.timeUnixNano=new h.LongBits(n.timeUnixNano.low>>>0,n.timeUnixNano.high>>>0).toNumber())),n.asDouble!=null&&(l.asDouble=Number(n.asDouble)),n.asInt!=null&&(h.Long?(l.asInt=h.Long.fromValue(n.asInt)).unsigned=!1:typeof n.asInt=="string"?l.asInt=parseInt(n.asInt,10):typeof n.asInt=="number"?l.asInt=n.asInt:typeof n.asInt=="object"&&(l.asInt=new h.LongBits(n.asInt.low>>>0,n.asInt.high>>>0).toNumber())),n.spanId!=null&&(typeof n.spanId=="string"?h.base64.decode(n.spanId,l.spanId=h.newBuffer(h.base64.length(n.spanId)),0):n.spanId.length>=0&&(l.spanId=n.spanId)),n.traceId!=null&&(typeof n.traceId=="string"?h.base64.decode(n.traceId,l.traceId=h.newBuffer(h.base64.length(n.traceId)),0):n.traceId.length>=0&&(l.traceId=n.traceId)),l},s.toObject=function(n,l){l||(l={});var c={};if((l.arrays||l.defaults)&&(c.filteredAttributes=[]),l.defaults){if(h.Long){var u=new h.Long(0,0,!1);c.timeUnixNano=l.longs===String?u.toString():l.longs===Number?u.toNumber():u}else c.timeUnixNano=l.longs===String?"0":0;l.bytes===String?c.spanId="":(c.spanId=[],l.bytes!==Array&&(c.spanId=h.newBuffer(c.spanId))),l.bytes===String?c.traceId="":(c.traceId=[],l.bytes!==Array&&(c.traceId=h.newBuffer(c.traceId)))}if(n.timeUnixNano!=null&&n.hasOwnProperty("timeUnixNano")&&(typeof n.timeUnixNano=="number"?c.timeUnixNano=l.longs===String?String(n.timeUnixNano):n.timeUnixNano:c.timeUnixNano=l.longs===String?h.Long.prototype.toString.call(n.timeUnixNano):l.longs===Number?new h.LongBits(n.timeUnixNano.low>>>0,n.timeUnixNano.high>>>0).toNumber():n.timeUnixNano),n.asDouble!=null&&n.hasOwnProperty("asDouble")&&(c.asDouble=l.json&&!isFinite(n.asDouble)?String(n.asDouble):n.asDouble,l.oneofs&&(c.value="asDouble")),n.spanId!=null&&n.hasOwnProperty("spanId")&&(c.spanId=l.bytes===String?h.base64.encode(n.spanId,0,n.spanId.length):l.bytes===Array?Array.prototype.slice.call(n.spanId):n.spanId),n.traceId!=null&&n.hasOwnProperty("traceId")&&(c.traceId=l.bytes===String?h.base64.encode(n.traceId,0,n.traceId.length):l.bytes===Array?Array.prototype.slice.call(n.traceId):n.traceId),n.asInt!=null&&n.hasOwnProperty("asInt")&&(typeof n.asInt=="number"?c.asInt=l.longs===String?String(n.asInt):n.asInt:c.asInt=l.longs===String?h.Long.prototype.toString.call(n.asInt):l.longs===Number?new h.LongBits(n.asInt.low>>>0,n.asInt.high>>>0).toNumber():n.asInt,l.oneofs&&(c.value="asInt")),n.filteredAttributes&&n.filteredAttributes.length){c.filteredAttributes=[];for(var f=0;f<n.filteredAttributes.length;++f)c.filteredAttributes[f]=d.opentelemetry.proto.common.v1.KeyValue.toObject(n.filteredAttributes[f],l)}return c},s.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},s.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/opentelemetry.proto.metrics.v1.Exemplar"},s}(),o}(),t}(),e.logs=function(){var t={};return t.v1=function(){var o={};return o.LogsData=function(){function s(a){if(this.resourceLogs=[],a)for(var i=Object.keys(a),n=0;n<i.length;++n)a[i[n]]!=null&&(this[i[n]]=a[i[n]])}return s.prototype.resourceLogs=h.emptyArray,s.create=function(i){return new s(i)},s.encode=function(i,n){if(n||(n=oe.create()),i.resourceLogs!=null&&i.resourceLogs.length)for(var l=0;l<i.resourceLogs.length;++l)d.opentelemetry.proto.logs.v1.ResourceLogs.encode(i.resourceLogs[l],n.uint32(10).fork()).ldelim();return n},s.encodeDelimited=function(i,n){return this.encode(i,n).ldelim()},s.decode=function(i,n){i instanceof g||(i=g.create(i));for(var l=n===void 0?i.len:i.pos+n,c=new d.opentelemetry.proto.logs.v1.LogsData;i.pos<l;){var u=i.uint32();switch(u>>>3){case 1:{c.resourceLogs&&c.resourceLogs.length||(c.resourceLogs=[]),c.resourceLogs.push(d.opentelemetry.proto.logs.v1.ResourceLogs.decode(i,i.uint32()));break}default:i.skipType(u&7);break}}return c},s.decodeDelimited=function(i){return i instanceof g||(i=new g(i)),this.decode(i,i.uint32())},s.verify=function(i){if(typeof i!="object"||i===null)return"object expected";if(i.resourceLogs!=null&&i.hasOwnProperty("resourceLogs")){if(!Array.isArray(i.resourceLogs))return"resourceLogs: array expected";for(var n=0;n<i.resourceLogs.length;++n){var l=d.opentelemetry.proto.logs.v1.ResourceLogs.verify(i.resourceLogs[n]);if(l)return"resourceLogs."+l}}return null},s.fromObject=function(i){if(i instanceof d.opentelemetry.proto.logs.v1.LogsData)return i;var n=new d.opentelemetry.proto.logs.v1.LogsData;if(i.resourceLogs){if(!Array.isArray(i.resourceLogs))throw TypeError(".opentelemetry.proto.logs.v1.LogsData.resourceLogs: array expected");n.resourceLogs=[];for(var l=0;l<i.resourceLogs.length;++l){if(typeof i.resourceLogs[l]!="object")throw TypeError(".opentelemetry.proto.logs.v1.LogsData.resourceLogs: object expected");n.resourceLogs[l]=d.opentelemetry.proto.logs.v1.ResourceLogs.fromObject(i.resourceLogs[l])}}return n},s.toObject=function(i,n){n||(n={});var l={};if((n.arrays||n.defaults)&&(l.resourceLogs=[]),i.resourceLogs&&i.resourceLogs.length){l.resourceLogs=[];for(var c=0;c<i.resourceLogs.length;++c)l.resourceLogs[c]=d.opentelemetry.proto.logs.v1.ResourceLogs.toObject(i.resourceLogs[c],n)}return l},s.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},s.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/opentelemetry.proto.logs.v1.LogsData"},s}(),o.ResourceLogs=function(){function s(a){if(this.scopeLogs=[],a)for(var i=Object.keys(a),n=0;n<i.length;++n)a[i[n]]!=null&&(this[i[n]]=a[i[n]])}return s.prototype.resource=null,s.prototype.scopeLogs=h.emptyArray,s.prototype.schemaUrl=null,s.create=function(i){return new s(i)},s.encode=function(i,n){if(n||(n=oe.create()),i.resource!=null&&Object.hasOwnProperty.call(i,"resource")&&d.opentelemetry.proto.resource.v1.Resource.encode(i.resource,n.uint32(10).fork()).ldelim(),i.scopeLogs!=null&&i.scopeLogs.length)for(var l=0;l<i.scopeLogs.length;++l)d.opentelemetry.proto.logs.v1.ScopeLogs.encode(i.scopeLogs[l],n.uint32(18).fork()).ldelim();return i.schemaUrl!=null&&Object.hasOwnProperty.call(i,"schemaUrl")&&n.uint32(26).string(i.schemaUrl),n},s.encodeDelimited=function(i,n){return this.encode(i,n).ldelim()},s.decode=function(i,n){i instanceof g||(i=g.create(i));for(var l=n===void 0?i.len:i.pos+n,c=new d.opentelemetry.proto.logs.v1.ResourceLogs;i.pos<l;){var u=i.uint32();switch(u>>>3){case 1:{c.resource=d.opentelemetry.proto.resource.v1.Resource.decode(i,i.uint32());break}case 2:{c.scopeLogs&&c.scopeLogs.length||(c.scopeLogs=[]),c.scopeLogs.push(d.opentelemetry.proto.logs.v1.ScopeLogs.decode(i,i.uint32()));break}case 3:{c.schemaUrl=i.string();break}default:i.skipType(u&7);break}}return c},s.decodeDelimited=function(i){return i instanceof g||(i=new g(i)),this.decode(i,i.uint32())},s.verify=function(i){if(typeof i!="object"||i===null)return"object expected";if(i.resource!=null&&i.hasOwnProperty("resource")){var n=d.opentelemetry.proto.resource.v1.Resource.verify(i.resource);if(n)return"resource."+n}if(i.scopeLogs!=null&&i.hasOwnProperty("scopeLogs")){if(!Array.isArray(i.scopeLogs))return"scopeLogs: array expected";for(var l=0;l<i.scopeLogs.length;++l){var n=d.opentelemetry.proto.logs.v1.ScopeLogs.verify(i.scopeLogs[l]);if(n)return"scopeLogs."+n}}return i.schemaUrl!=null&&i.hasOwnProperty("schemaUrl")&&!h.isString(i.schemaUrl)?"schemaUrl: string expected":null},s.fromObject=function(i){if(i instanceof d.opentelemetry.proto.logs.v1.ResourceLogs)return i;var n=new d.opentelemetry.proto.logs.v1.ResourceLogs;if(i.resource!=null){if(typeof i.resource!="object")throw TypeError(".opentelemetry.proto.logs.v1.ResourceLogs.resource: object expected");n.resource=d.opentelemetry.proto.resource.v1.Resource.fromObject(i.resource)}if(i.scopeLogs){if(!Array.isArray(i.scopeLogs))throw TypeError(".opentelemetry.proto.logs.v1.ResourceLogs.scopeLogs: array expected");n.scopeLogs=[];for(var l=0;l<i.scopeLogs.length;++l){if(typeof i.scopeLogs[l]!="object")throw TypeError(".opentelemetry.proto.logs.v1.ResourceLogs.scopeLogs: object expected");n.scopeLogs[l]=d.opentelemetry.proto.logs.v1.ScopeLogs.fromObject(i.scopeLogs[l])}}return i.schemaUrl!=null&&(n.schemaUrl=String(i.schemaUrl)),n},s.toObject=function(i,n){n||(n={});var l={};if((n.arrays||n.defaults)&&(l.scopeLogs=[]),n.defaults&&(l.resource=null,l.schemaUrl=""),i.resource!=null&&i.hasOwnProperty("resource")&&(l.resource=d.opentelemetry.proto.resource.v1.Resource.toObject(i.resource,n)),i.scopeLogs&&i.scopeLogs.length){l.scopeLogs=[];for(var c=0;c<i.scopeLogs.length;++c)l.scopeLogs[c]=d.opentelemetry.proto.logs.v1.ScopeLogs.toObject(i.scopeLogs[c],n)}return i.schemaUrl!=null&&i.hasOwnProperty("schemaUrl")&&(l.schemaUrl=i.schemaUrl),l},s.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},s.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/opentelemetry.proto.logs.v1.ResourceLogs"},s}(),o.ScopeLogs=function(){function s(a){if(this.logRecords=[],a)for(var i=Object.keys(a),n=0;n<i.length;++n)a[i[n]]!=null&&(this[i[n]]=a[i[n]])}return s.prototype.scope=null,s.prototype.logRecords=h.emptyArray,s.prototype.schemaUrl=null,s.create=function(i){return new s(i)},s.encode=function(i,n){if(n||(n=oe.create()),i.scope!=null&&Object.hasOwnProperty.call(i,"scope")&&d.opentelemetry.proto.common.v1.InstrumentationScope.encode(i.scope,n.uint32(10).fork()).ldelim(),i.logRecords!=null&&i.logRecords.length)for(var l=0;l<i.logRecords.length;++l)d.opentelemetry.proto.logs.v1.LogRecord.encode(i.logRecords[l],n.uint32(18).fork()).ldelim();return i.schemaUrl!=null&&Object.hasOwnProperty.call(i,"schemaUrl")&&n.uint32(26).string(i.schemaUrl),n},s.encodeDelimited=function(i,n){return this.encode(i,n).ldelim()},s.decode=function(i,n){i instanceof g||(i=g.create(i));for(var l=n===void 0?i.len:i.pos+n,c=new d.opentelemetry.proto.logs.v1.ScopeLogs;i.pos<l;){var u=i.uint32();switch(u>>>3){case 1:{c.scope=d.opentelemetry.proto.common.v1.InstrumentationScope.decode(i,i.uint32());break}case 2:{c.logRecords&&c.logRecords.length||(c.logRecords=[]),c.logRecords.push(d.opentelemetry.proto.logs.v1.LogRecord.decode(i,i.uint32()));break}case 3:{c.schemaUrl=i.string();break}default:i.skipType(u&7);break}}return c},s.decodeDelimited=function(i){return i instanceof g||(i=new g(i)),this.decode(i,i.uint32())},s.verify=function(i){if(typeof i!="object"||i===null)return"object expected";if(i.scope!=null&&i.hasOwnProperty("scope")){var n=d.opentelemetry.proto.common.v1.InstrumentationScope.verify(i.scope);if(n)return"scope."+n}if(i.logRecords!=null&&i.hasOwnProperty("logRecords")){if(!Array.isArray(i.logRecords))return"logRecords: array expected";for(var l=0;l<i.logRecords.length;++l){var n=d.opentelemetry.proto.logs.v1.LogRecord.verify(i.logRecords[l]);if(n)return"logRecords."+n}}return i.schemaUrl!=null&&i.hasOwnProperty("schemaUrl")&&!h.isString(i.schemaUrl)?"schemaUrl: string expected":null},s.fromObject=function(i){if(i instanceof d.opentelemetry.proto.logs.v1.ScopeLogs)return i;var n=new d.opentelemetry.proto.logs.v1.ScopeLogs;if(i.scope!=null){if(typeof i.scope!="object")throw TypeError(".opentelemetry.proto.logs.v1.ScopeLogs.scope: object expected");n.scope=d.opentelemetry.proto.common.v1.InstrumentationScope.fromObject(i.scope)}if(i.logRecords){if(!Array.isArray(i.logRecords))throw TypeError(".opentelemetry.proto.logs.v1.ScopeLogs.logRecords: array expected");n.logRecords=[];for(var l=0;l<i.logRecords.length;++l){if(typeof i.logRecords[l]!="object")throw TypeError(".opentelemetry.proto.logs.v1.ScopeLogs.logRecords: object expected");n.logRecords[l]=d.opentelemetry.proto.logs.v1.LogRecord.fromObject(i.logRecords[l])}}return i.schemaUrl!=null&&(n.schemaUrl=String(i.schemaUrl)),n},s.toObject=function(i,n){n||(n={});var l={};if((n.arrays||n.defaults)&&(l.logRecords=[]),n.defaults&&(l.scope=null,l.schemaUrl=""),i.scope!=null&&i.hasOwnProperty("scope")&&(l.scope=d.opentelemetry.proto.common.v1.InstrumentationScope.toObject(i.scope,n)),i.logRecords&&i.logRecords.length){l.logRecords=[];for(var c=0;c<i.logRecords.length;++c)l.logRecords[c]=d.opentelemetry.proto.logs.v1.LogRecord.toObject(i.logRecords[c],n)}return i.schemaUrl!=null&&i.hasOwnProperty("schemaUrl")&&(l.schemaUrl=i.schemaUrl),l},s.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},s.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/opentelemetry.proto.logs.v1.ScopeLogs"},s}(),o.SeverityNumber=function(){var s={},a=Object.create(s);return a[s[0]="SEVERITY_NUMBER_UNSPECIFIED"]=0,a[s[1]="SEVERITY_NUMBER_TRACE"]=1,a[s[2]="SEVERITY_NUMBER_TRACE2"]=2,a[s[3]="SEVERITY_NUMBER_TRACE3"]=3,a[s[4]="SEVERITY_NUMBER_TRACE4"]=4,a[s[5]="SEVERITY_NUMBER_DEBUG"]=5,a[s[6]="SEVERITY_NUMBER_DEBUG2"]=6,a[s[7]="SEVERITY_NUMBER_DEBUG3"]=7,a[s[8]="SEVERITY_NUMBER_DEBUG4"]=8,a[s[9]="SEVERITY_NUMBER_INFO"]=9,a[s[10]="SEVERITY_NUMBER_INFO2"]=10,a[s[11]="SEVERITY_NUMBER_INFO3"]=11,a[s[12]="SEVERITY_NUMBER_INFO4"]=12,a[s[13]="SEVERITY_NUMBER_WARN"]=13,a[s[14]="SEVERITY_NUMBER_WARN2"]=14,a[s[15]="SEVERITY_NUMBER_WARN3"]=15,a[s[16]="SEVERITY_NUMBER_WARN4"]=16,a[s[17]="SEVERITY_NUMBER_ERROR"]=17,a[s[18]="SEVERITY_NUMBER_ERROR2"]=18,a[s[19]="SEVERITY_NUMBER_ERROR3"]=19,a[s[20]="SEVERITY_NUMBER_ERROR4"]=20,a[s[21]="SEVERITY_NUMBER_FATAL"]=21,a[s[22]="SEVERITY_NUMBER_FATAL2"]=22,a[s[23]="SEVERITY_NUMBER_FATAL3"]=23,a[s[24]="SEVERITY_NUMBER_FATAL4"]=24,a}(),o.LogRecordFlags=function(){var s={},a=Object.create(s);return a[s[0]="LOG_RECORD_FLAGS_DO_NOT_USE"]=0,a[s[255]="LOG_RECORD_FLAGS_TRACE_FLAGS_MASK"]=255,a}(),o.LogRecord=function(){function s(a){if(this.attributes=[],a)for(var i=Object.keys(a),n=0;n<i.length;++n)a[i[n]]!=null&&(this[i[n]]=a[i[n]])}return s.prototype.timeUnixNano=null,s.prototype.observedTimeUnixNano=null,s.prototype.severityNumber=null,s.prototype.severityText=null,s.prototype.body=null,s.prototype.attributes=h.emptyArray,s.prototype.droppedAttributesCount=null,s.prototype.flags=null,s.prototype.traceId=null,s.prototype.spanId=null,s.create=function(i){return new s(i)},s.encode=function(i,n){if(n||(n=oe.create()),i.timeUnixNano!=null&&Object.hasOwnProperty.call(i,"timeUnixNano")&&n.uint32(9).fixed64(i.timeUnixNano),i.severityNumber!=null&&Object.hasOwnProperty.call(i,"severityNumber")&&n.uint32(16).int32(i.severityNumber),i.severityText!=null&&Object.hasOwnProperty.call(i,"severityText")&&n.uint32(26).string(i.severityText),i.body!=null&&Object.hasOwnProperty.call(i,"body")&&d.opentelemetry.proto.common.v1.AnyValue.encode(i.body,n.uint32(42).fork()).ldelim(),i.attributes!=null&&i.attributes.length)for(var l=0;l<i.attributes.length;++l)d.opentelemetry.proto.common.v1.KeyValue.encode(i.attributes[l],n.uint32(50).fork()).ldelim();return i.droppedAttributesCount!=null&&Object.hasOwnProperty.call(i,"droppedAttributesCount")&&n.uint32(56).uint32(i.droppedAttributesCount),i.flags!=null&&Object.hasOwnProperty.call(i,"flags")&&n.uint32(69).fixed32(i.flags),i.traceId!=null&&Object.hasOwnProperty.call(i,"traceId")&&n.uint32(74).bytes(i.traceId),i.spanId!=null&&Object.hasOwnProperty.call(i,"spanId")&&n.uint32(82).bytes(i.spanId),i.observedTimeUnixNano!=null&&Object.hasOwnProperty.call(i,"observedTimeUnixNano")&&n.uint32(89).fixed64(i.observedTimeUnixNano),n},s.encodeDelimited=function(i,n){return this.encode(i,n).ldelim()},s.decode=function(i,n){i instanceof g||(i=g.create(i));for(var l=n===void 0?i.len:i.pos+n,c=new d.opentelemetry.proto.logs.v1.LogRecord;i.pos<l;){var u=i.uint32();switch(u>>>3){case 1:{c.timeUnixNano=i.fixed64();break}case 11:{c.observedTimeUnixNano=i.fixed64();break}case 2:{c.severityNumber=i.int32();break}case 3:{c.severityText=i.string();break}case 5:{c.body=d.opentelemetry.proto.common.v1.AnyValue.decode(i,i.uint32());break}case 6:{c.attributes&&c.attributes.length||(c.attributes=[]),c.attributes.push(d.opentelemetry.proto.common.v1.KeyValue.decode(i,i.uint32()));break}case 7:{c.droppedAttributesCount=i.uint32();break}case 8:{c.flags=i.fixed32();break}case 9:{c.traceId=i.bytes();break}case 10:{c.spanId=i.bytes();break}default:i.skipType(u&7);break}}return c},s.decodeDelimited=function(i){return i instanceof g||(i=new g(i)),this.decode(i,i.uint32())},s.verify=function(i){if(typeof i!="object"||i===null)return"object expected";if(i.timeUnixNano!=null&&i.hasOwnProperty("timeUnixNano")&&!h.isInteger(i.timeUnixNano)&&!(i.timeUnixNano&&h.isInteger(i.timeUnixNano.low)&&h.isInteger(i.timeUnixNano.high)))return"timeUnixNano: integer|Long expected";if(i.observedTimeUnixNano!=null&&i.hasOwnProperty("observedTimeUnixNano")&&!h.isInteger(i.observedTimeUnixNano)&&!(i.observedTimeUnixNano&&h.isInteger(i.observedTimeUnixNano.low)&&h.isInteger(i.observedTimeUnixNano.high)))return"observedTimeUnixNano: integer|Long expected";if(i.severityNumber!=null&&i.hasOwnProperty("severityNumber"))switch(i.severityNumber){default:return"severityNumber: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 18:case 19:case 20:case 21:case 22:case 23:case 24:break}if(i.severityText!=null&&i.hasOwnProperty("severityText")&&!h.isString(i.severityText))return"severityText: string expected";if(i.body!=null&&i.hasOwnProperty("body")){var n=d.opentelemetry.proto.common.v1.AnyValue.verify(i.body);if(n)return"body."+n}if(i.attributes!=null&&i.hasOwnProperty("attributes")){if(!Array.isArray(i.attributes))return"attributes: array expected";for(var l=0;l<i.attributes.length;++l){var n=d.opentelemetry.proto.common.v1.KeyValue.verify(i.attributes[l]);if(n)return"attributes."+n}}return i.droppedAttributesCount!=null&&i.hasOwnProperty("droppedAttributesCount")&&!h.isInteger(i.droppedAttributesCount)?"droppedAttributesCount: integer expected":i.flags!=null&&i.hasOwnProperty("flags")&&!h.isInteger(i.flags)?"flags: integer expected":i.traceId!=null&&i.hasOwnProperty("traceId")&&!(i.traceId&&typeof i.traceId.length=="number"||h.isString(i.traceId))?"traceId: buffer expected":i.spanId!=null&&i.hasOwnProperty("spanId")&&!(i.spanId&&typeof i.spanId.length=="number"||h.isString(i.spanId))?"spanId: buffer expected":null},s.fromObject=function(i){if(i instanceof d.opentelemetry.proto.logs.v1.LogRecord)return i;var n=new d.opentelemetry.proto.logs.v1.LogRecord;switch(i.timeUnixNano!=null&&(h.Long?(n.timeUnixNano=h.Long.fromValue(i.timeUnixNano)).unsigned=!1:typeof i.timeUnixNano=="string"?n.timeUnixNano=parseInt(i.timeUnixNano,10):typeof i.timeUnixNano=="number"?n.timeUnixNano=i.timeUnixNano:typeof i.timeUnixNano=="object"&&(n.timeUnixNano=new h.LongBits(i.timeUnixNano.low>>>0,i.timeUnixNano.high>>>0).toNumber())),i.observedTimeUnixNano!=null&&(h.Long?(n.observedTimeUnixNano=h.Long.fromValue(i.observedTimeUnixNano)).unsigned=!1:typeof i.observedTimeUnixNano=="string"?n.observedTimeUnixNano=parseInt(i.observedTimeUnixNano,10):typeof i.observedTimeUnixNano=="number"?n.observedTimeUnixNano=i.observedTimeUnixNano:typeof i.observedTimeUnixNano=="object"&&(n.observedTimeUnixNano=new h.LongBits(i.observedTimeUnixNano.low>>>0,i.observedTimeUnixNano.high>>>0).toNumber())),i.severityNumber){default:if(typeof i.severityNumber=="number"){n.severityNumber=i.severityNumber;break}break;case"SEVERITY_NUMBER_UNSPECIFIED":case 0:n.severityNumber=0;break;case"SEVERITY_NUMBER_TRACE":case 1:n.severityNumber=1;break;case"SEVERITY_NUMBER_TRACE2":case 2:n.severityNumber=2;break;case"SEVERITY_NUMBER_TRACE3":case 3:n.severityNumber=3;break;case"SEVERITY_NUMBER_TRACE4":case 4:n.severityNumber=4;break;case"SEVERITY_NUMBER_DEBUG":case 5:n.severityNumber=5;break;case"SEVERITY_NUMBER_DEBUG2":case 6:n.severityNumber=6;break;case"SEVERITY_NUMBER_DEBUG3":case 7:n.severityNumber=7;break;case"SEVERITY_NUMBER_DEBUG4":case 8:n.severityNumber=8;break;case"SEVERITY_NUMBER_INFO":case 9:n.severityNumber=9;break;case"SEVERITY_NUMBER_INFO2":case 10:n.severityNumber=10;break;case"SEVERITY_NUMBER_INFO3":case 11:n.severityNumber=11;break;case"SEVERITY_NUMBER_INFO4":case 12:n.severityNumber=12;break;case"SEVERITY_NUMBER_WARN":case 13:n.severityNumber=13;break;case"SEVERITY_NUMBER_WARN2":case 14:n.severityNumber=14;break;case"SEVERITY_NUMBER_WARN3":case 15:n.severityNumber=15;break;case"SEVERITY_NUMBER_WARN4":case 16:n.severityNumber=16;break;case"SEVERITY_NUMBER_ERROR":case 17:n.severityNumber=17;break;case"SEVERITY_NUMBER_ERROR2":case 18:n.severityNumber=18;break;case"SEVERITY_NUMBER_ERROR3":case 19:n.severityNumber=19;break;case"SEVERITY_NUMBER_ERROR4":case 20:n.severityNumber=20;break;case"SEVERITY_NUMBER_FATAL":case 21:n.severityNumber=21;break;case"SEVERITY_NUMBER_FATAL2":case 22:n.severityNumber=22;break;case"SEVERITY_NUMBER_FATAL3":case 23:n.severityNumber=23;break;case"SEVERITY_NUMBER_FATAL4":case 24:n.severityNumber=24;break}if(i.severityText!=null&&(n.severityText=String(i.severityText)),i.body!=null){if(typeof i.body!="object")throw TypeError(".opentelemetry.proto.logs.v1.LogRecord.body: object expected");n.body=d.opentelemetry.proto.common.v1.AnyValue.fromObject(i.body)}if(i.attributes){if(!Array.isArray(i.attributes))throw TypeError(".opentelemetry.proto.logs.v1.LogRecord.attributes: array expected");n.attributes=[];for(var l=0;l<i.attributes.length;++l){if(typeof i.attributes[l]!="object")throw TypeError(".opentelemetry.proto.logs.v1.LogRecord.attributes: object expected");n.attributes[l]=d.opentelemetry.proto.common.v1.KeyValue.fromObject(i.attributes[l])}}return i.droppedAttributesCount!=null&&(n.droppedAttributesCount=i.droppedAttributesCount>>>0),i.flags!=null&&(n.flags=i.flags>>>0),i.traceId!=null&&(typeof i.traceId=="string"?h.base64.decode(i.traceId,n.traceId=h.newBuffer(h.base64.length(i.traceId)),0):i.traceId.length>=0&&(n.traceId=i.traceId)),i.spanId!=null&&(typeof i.spanId=="string"?h.base64.decode(i.spanId,n.spanId=h.newBuffer(h.base64.length(i.spanId)),0):i.spanId.length>=0&&(n.spanId=i.spanId)),n},s.toObject=function(i,n){n||(n={});var l={};if((n.arrays||n.defaults)&&(l.attributes=[]),n.defaults){if(h.Long){var c=new h.Long(0,0,!1);l.timeUnixNano=n.longs===String?c.toString():n.longs===Number?c.toNumber():c}else l.timeUnixNano=n.longs===String?"0":0;if(l.severityNumber=n.enums===String?"SEVERITY_NUMBER_UNSPECIFIED":0,l.severityText="",l.body=null,l.droppedAttributesCount=0,l.flags=0,n.bytes===String?l.traceId="":(l.traceId=[],n.bytes!==Array&&(l.traceId=h.newBuffer(l.traceId))),n.bytes===String?l.spanId="":(l.spanId=[],n.bytes!==Array&&(l.spanId=h.newBuffer(l.spanId))),h.Long){var c=new h.Long(0,0,!1);l.observedTimeUnixNano=n.longs===String?c.toString():n.longs===Number?c.toNumber():c}else l.observedTimeUnixNano=n.longs===String?"0":0}if(i.timeUnixNano!=null&&i.hasOwnProperty("timeUnixNano")&&(typeof i.timeUnixNano=="number"?l.timeUnixNano=n.longs===String?String(i.timeUnixNano):i.timeUnixNano:l.timeUnixNano=n.longs===String?h.Long.prototype.toString.call(i.timeUnixNano):n.longs===Number?new h.LongBits(i.timeUnixNano.low>>>0,i.timeUnixNano.high>>>0).toNumber():i.timeUnixNano),i.severityNumber!=null&&i.hasOwnProperty("severityNumber")&&(l.severityNumber=n.enums===String?d.opentelemetry.proto.logs.v1.SeverityNumber[i.severityNumber]===void 0?i.severityNumber:d.opentelemetry.proto.logs.v1.SeverityNumber[i.severityNumber]:i.severityNumber),i.severityText!=null&&i.hasOwnProperty("severityText")&&(l.severityText=i.severityText),i.body!=null&&i.hasOwnProperty("body")&&(l.body=d.opentelemetry.proto.common.v1.AnyValue.toObject(i.body,n)),i.attributes&&i.attributes.length){l.attributes=[];for(var u=0;u<i.attributes.length;++u)l.attributes[u]=d.opentelemetry.proto.common.v1.KeyValue.toObject(i.attributes[u],n)}return i.droppedAttributesCount!=null&&i.hasOwnProperty("droppedAttributesCount")&&(l.droppedAttributesCount=i.droppedAttributesCount),i.flags!=null&&i.hasOwnProperty("flags")&&(l.flags=i.flags),i.traceId!=null&&i.hasOwnProperty("traceId")&&(l.traceId=n.bytes===String?h.base64.encode(i.traceId,0,i.traceId.length):n.bytes===Array?Array.prototype.slice.call(i.traceId):i.traceId),i.spanId!=null&&i.hasOwnProperty("spanId")&&(l.spanId=n.bytes===String?h.base64.encode(i.spanId,0,i.spanId.length):n.bytes===Array?Array.prototype.slice.call(i.spanId):i.spanId),i.observedTimeUnixNano!=null&&i.hasOwnProperty("observedTimeUnixNano")&&(typeof i.observedTimeUnixNano=="number"?l.observedTimeUnixNano=n.longs===String?String(i.observedTimeUnixNano):i.observedTimeUnixNano:l.observedTimeUnixNano=n.longs===String?h.Long.prototype.toString.call(i.observedTimeUnixNano):n.longs===Number?new h.LongBits(i.observedTimeUnixNano.low>>>0,i.observedTimeUnixNano.high>>>0).toNumber():i.observedTimeUnixNano),l},s.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},s.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/opentelemetry.proto.logs.v1.LogRecord"},s}(),o}(),t}(),e}(),r}();wG.exports=d});var ro,zae,$ae,Xae,Wae,Jae,Qae,Ch,UG,Ph,kG=p(()=>{ro=Nn(DG());Th();Sh();gh();zae=ro.opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse,$ae=ro.opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest,Xae=ro.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse,Wae=ro.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest,Jae=ro.opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse,Qae=ro.opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest,Ch={serializeRequest:r=>{let e=Js(r);return $ae.encode(e).finish()},deserializeResponse:r=>zae.decode(r)},UG={serializeRequest:r=>{let e=Ws([r]);return Wae.encode(e).finish()},deserializeResponse:r=>Xae.decode(r)},Ph={serializeRequest:r=>{let e=Xn(r);return Qae.encode(e).finish()},deserializeResponse:r=>Jae.decode(r)}});var Ih,BG,Lh,VG=p(()=>{Th();Sh();gh();Ih={serializeRequest:r=>{let e=Xn(r,{useHex:!0,useLongBits:!1});return new TextEncoder().encode(JSON.stringify(e))},deserializeResponse:r=>{let e=new TextDecoder;return JSON.parse(e.decode(r))}},BG={serializeRequest:r=>{let e=Ws([r],{useLongBits:!1});return new TextEncoder().encode(JSON.stringify(e))},deserializeResponse:r=>{let e=new TextDecoder;return JSON.parse(e.decode(r))}},Lh={serializeRequest:r=>{let e=Js(r,{useHex:!0,useLongBits:!1});return new TextEncoder().encode(JSON.stringify(e))},deserializeResponse:r=>{let e=new TextDecoder;return JSON.parse(e.decode(r))}}});var fv={};Ae(fv,{ESpanKind:()=>hh,JsonLogsSerializer:()=>Lh,JsonMetricsSerializer:()=>BG,JsonTraceSerializer:()=>Ih,ProtobufLogsSerializer:()=>Ch,ProtobufMetricsSerializer:()=>UG,ProtobufTraceSerializer:()=>Ph,createExportLogsServiceRequest:()=>Js,createExportMetricsServiceRequest:()=>Ws,createExportTraceServiceRequest:()=>Xn,encodeAsLongBits:()=>dh,encodeAsString:()=>$g,getOtlpEncoder:()=>$n,hrTimeToNanos:()=>ph,toLongBits:()=>zg});var Qn=p(()=>{Sc();UF();Th();Sh();gh();kG();VG()});var FG,GG=p(()=>{FG="0.56.0"});function HG(r){var e=[429,502,503,504];return e.includes(r)}function qG(r){if(r!=null){var e=Number.parseInt(r,10);if(Number.isInteger(e))return e>0?e*1e3:-1;var t=new Date(r).getTime()-Date.now();return t>=0?t:0}}var jG=p(()=>{});var zG={};Ae(zG,{compressAndSend:()=>KG,createHttpAgent:()=>rle,sendWithHttp:()=>ele});import*as bh from"http";import*as xh from"https";import*as YG from"zlib";import{Readable as Zae}from"stream";function ele(r,e,t,o,s){var a=new URL(r.url),i=Number(process.versions.node.split(".")[0]),n={hostname:a.hostname,port:a.port,path:a.pathname,method:"POST",headers:pv({},r.headers()),agent:e},l=a.protocol==="http:"?bh.request:xh.request,c=l(n,function(f){var _=[];f.on("data",function(m){return _.push(m)}),f.on("end",function(){if(f.statusCode&&f.statusCode<299)o({status:"success",data:Buffer.concat(_)});else if(f.statusCode&&HG(f.statusCode))o({status:"retryable",retryInMillis:qG(f.headers["retry-after"])});else{var m=new Zi(f.statusMessage,f.statusCode,Buffer.concat(_).toString());o({status:"failure",error:m})}})});c.setTimeout(s,function(){c.destroy(),o({status:"failure",error:new Error("Request Timeout")})}),c.on("error",function(f){o({status:"failure",error:f})});var u=i>=14?"close":"abort";c.on(u,function(){o({status:"failure",error:new Error("Request timed out")})}),KG(c,r.compression,t,function(f){o({status:"failure",error:f})})}function KG(r,e,t,o){var s=tle(t);e==="gzip"&&(r.setHeader("Content-Encoding","gzip"),s=s.on("error",o).pipe(YG.createGzip()).on("error",o)),s.pipe(r).on("error",o)}function tle(r){var e=new Zae;return e.push(r),e.push(null),e}function rle(r,e){var t=new URL(r),o=t.protocol==="http:"?bh.Agent:xh.Agent;return new o(e)}var pv,$G=p(()=>{jG();ih();pv=function(){return pv=Object.assign||function(r){for(var e,t=1,o=arguments.length;t<o;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s])}return r},pv.apply(this,arguments)}});function XG(r){return new ole(r)}var nle,ile,ole,WG=p(()=>{nle=function(r,e,t,o){function s(a){return a instanceof t?a:new t(function(i){i(a)})}return new(t||(t=Promise))(function(a,i){function n(u){try{c(o.next(u))}catch(f){i(f)}}function l(u){try{c(o.throw(u))}catch(f){i(f)}}function c(u){u.done?a(u.value):s(u.value).then(n,l)}c((o=o.apply(r,e||[])).next())})},ile=function(r,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},o,s,a,i;return i={next:n(0),throw:n(1),return:n(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function n(c){return function(u){return l([c,u])}}function l(c){if(o)throw new TypeError("Generator is already executing.");for(;t;)try{if(o=1,s&&(a=c[0]&2?s.return:c[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,c[1])).done)return a;switch(s=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,s=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){t.label=c[1];break}if(c[0]===6&&t.label<a[1]){t.label=a[1],a=c;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(c);break}a[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(r,t)}catch(u){c=[6,u],s=0}finally{o=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},ole=function(){function r(e){this._parameters=e,this._send=null,this._agent=null}return r.prototype.send=function(e,t){return nle(this,void 0,void 0,function(){var o,s,a,i=this;return ile(this,function(n){return this._send==null&&(o=($G(),ee(zG)),s=o.sendWithHttp,a=o.createHttpAgent,this._agent=a(this._parameters.url,this._parameters.agentOptions),this._send=s),[2,new Promise(function(l){var c;(c=i._send)===null||c===void 0||c.call(i,i._parameters,i._agent,e,function(u){l(u)},t)})]})})},r.prototype.shutdown=function(){},r}()});function ple(){return Math.random()*(2*JG)-JG}function QG(r){return new dle(r.transport)}var sle,ale,lle,cle,ule,fle,JG,dle,ZG=p(()=>{sle=function(r,e,t,o){function s(a){return a instanceof t?a:new t(function(i){i(a)})}return new(t||(t=Promise))(function(a,i){function n(u){try{c(o.next(u))}catch(f){i(f)}}function l(u){try{c(o.throw(u))}catch(f){i(f)}}function c(u){u.done?a(u.value):s(u.value).then(n,l)}c((o=o.apply(r,e||[])).next())})},ale=function(r,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},o,s,a,i;return i={next:n(0),throw:n(1),return:n(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function n(c){return function(u){return l([c,u])}}function l(c){if(o)throw new TypeError("Generator is already executing.");for(;t;)try{if(o=1,s&&(a=c[0]&2?s.return:c[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,c[1])).done)return a;switch(s=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,s=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){t.label=c[1];break}if(c[0]===6&&t.label<a[1]){t.label=a[1],a=c;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(c);break}a[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(r,t)}catch(u){c=[6,u],s=0}finally{o=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},lle=5,cle=1e3,ule=5e3,fle=1.5,JG=.2;dle=function(){function r(e){this._transport=e}return r.prototype.retry=function(e,t,o){var s=this;return new Promise(function(a,i){setTimeout(function(){s._transport.send(e,t).then(a,i)},o)})},r.prototype.send=function(e,t){var o;return sle(this,void 0,void 0,function(){var s,a,i,n,l,c,u;return ale(this,function(f){switch(f.label){case 0:return s=Date.now()+t,[4,this._transport.send(e,t)];case 1:a=f.sent(),i=lle,n=cle,f.label=2;case 2:return a.status==="retryable"&&i>0?(i--,l=Math.max(Math.min(n,ule)+ple(),0),n=n*fle,c=(o=a.retryInMillis)!==null&&o!==void 0?o:l,u=s-Date.now(),c>u?[2,a]:[4,this.retry(e,u,c)]):[3,4];case 3:return a=f.sent(),[3,2];case 4:return[2,a]}})})},r.prototype.shutdown=function(){return this._transport.shutdown()},r}()});function Hr(r,e){return fh({transport:QG({transport:XG(r)}),serializer:e,promiseHandler:ch(r)},{timeout:r.timeoutMillis})}var e3=p(()=>{Yg();WG();Gg();ZG()});function t3(r){var e,t=(e=process.env[r])===null||e===void 0?void 0:e.trim();if(t!=null&&t!==""){var o=Number(t);if(!Number.isNaN(o)&&Number.isFinite(o)&&o>0)return o;S.warn("Configuration: "+r+" is invalid, expected number greater than 0 (actual: "+t+")")}}function hle(r){var e=t3("OTEL_EXPORTER_OTLP_"+r+"_TIMEOUT"),t=t3("OTEL_EXPORTER_OTLP_TIMEOUT");return e??t}function r3(r){var e,t=(e=process.env[r])===null||e===void 0?void 0:e.trim();if(t!==""){if(t==null||t==="none"||t==="gzip")return t;S.warn("Configuration: "+r+" is invalid, expected 'none' or 'gzip' (actual: '"+t+"')")}}function _le(r){var e=r3("OTEL_EXPORTER_OTLP_"+r+"_COMPRESSION"),t=r3("OTEL_EXPORTER_OTLP_COMPRESSION");return e??t}function Mh(r){return{timeoutMillis:hle(r),compression:_le(r)}}var dv=p(()=>{P()});function n3(r){return function(){var e,t={};return Object.entries((e=r==null?void 0:r())!==null&&e!==void 0?e:{}).forEach(function(o){var s=Ele(o,2),a=s[0],i=s[1];typeof i<"u"?t[a]=String(i):S.warn('Header "'+a+'" has invalid value ('+i+") and will be ignored")}),t}}var Ele,i3=p(()=>{P();Ele=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var o=t.call(r),s,a=[],i;try{for(;(e===void 0||e-- >0)&&!(s=o.next()).done;)a.push(s.value)}catch(n){i={error:n}}finally{try{s&&!s.done&&(t=o.return)&&t.call(o)}finally{if(i)throw i.error}}return a}});function mle(r,e,t){var o=no({},t()),s={};return function(){return e!=null&&Object.assign(s,e()),r!=null&&Object.assign(s,r()),Object.assign(s,o)}}function Tle(r){if(r!=null)try{return new URL(r),r}catch{throw new Error("Configuration: Could not parse user-provided export URL: '"+r+"'")}}function o3(r,e,t){var o,s,a,i;return no(no({},sh(r,e,t)),{headers:mle(n3(r.headers),e.headers,t.headers),url:(s=(o=Tle(r.url))!==null&&o!==void 0?o:e.url)!==null&&s!==void 0?s:t.url,agentOptions:(i=(a=r.agentOptions)!==null&&a!==void 0?a:e.agentOptions)!==null&&i!==void 0?i:t.agentOptions})}function s3(r,e){return no(no({},ah()),{headers:function(){return r},url:"http://localhost:4318/"+e,agentOptions:{keepAlive:!0}})}var no,a3=p(()=>{_c();i3();no=function(){return no=Object.assign||function(r){for(var e,t=1,o=arguments.length;t<o;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s])}return r},no.apply(this,arguments)}});function Sle(r){var e,t,o=(e=process.env["OTEL_EXPORTER_OTLP_"+r+"_HEADERS"])===null||e===void 0?void 0:e.trim(),s=(t=process.env.OTEL_EXPORTER_OTLP_HEADERS)===null||t===void 0?void 0:t.trim(),a=Ec.parseKeyPairsIntoRecord(o),i=Ec.parseKeyPairsIntoRecord(s);if(!(Object.keys(a).length===0&&Object.keys(i).length===0))return Object.assign({},Ec.parseKeyPairsIntoRecord(s),Ec.parseKeyPairsIntoRecord(o))}function gle(r){try{var e=new URL(r);return e.toString()}catch{S.warn("Configuration: Could not parse environment-provided export URL: '"+r+"', falling back to undefined");return}}function vle(r,e){try{new URL(r)}catch{S.warn("Configuration: Could not parse environment-provided export URL: '"+r+"', falling back to undefined");return}r.endsWith("/")||(r=r+"/"),r+=e;try{new URL(r)}catch{S.warn("Configuration: Provided URL appended with '"+e+"' is not a valid URL, using 'undefined' instead of '"+r+"'");return}return r}function yle(r){var e,t=(e=process.env.OTEL_EXPORTER_OTLP_ENDPOINT)===null||e===void 0?void 0:e.trim();if(!(t==null||t===""))return vle(t,r)}function Ole(r){var e,t=(e=process.env["OTEL_EXPORTER_OTLP_"+r+"_ENDPOINT"])===null||e===void 0?void 0:e.trim();if(!(t==null||t===""))return gle(t)}function l3(r,e){var t;return wh(wh({},Mh(r)),{url:(t=Ole(r))!==null&&t!==void 0?t:yle(e),headers:oh(Sle(r))})}var wh,c3=p(()=>{jg();P();dv();_c();wh=function(){return wh=Object.assign||function(r){for(var e,t=1,o=arguments.length;t<o;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s])}return r},wh.apply(this,arguments)}});function Ale(r){return(r==null?void 0:r.keepAlive)!=null&&(r.httpAgentOptions!=null?r.httpAgentOptions.keepAlive==null&&(r.httpAgentOptions.keepAlive=r.keepAlive):r.httpAgentOptions={keepAlive:r.keepAlive}),r.httpAgentOptions}function qr(r,e,t,o){return r.metadata&&S.warn("Metadata cannot be set when using http"),o3({url:r.url,headers:oh(r.headers),concurrencyLimit:r.concurrencyLimit,timeoutMillis:r.timeoutMillis,compression:r.compression,agentOptions:Ale(r)},l3(e,t),s3(o,t))}var u3=p(()=>{a3();c3();P();_c()});var f3={};Ae(f3,{convertLegacyHttpOptions:()=>qr,createOtlpHttpExportDelegate:()=>Hr,getSharedConfigurationFromEnvironment:()=>Mh});var Zs=p(()=>{e3();dv();u3()});var ea,p3=p(()=>{_n();Qn();GG();Zs();ea=class extends Br{constructor(e={}){super(Hr(qr(e,"LOGS","v1/logs",{"User-Agent":`OTel-OTLP-Exporter-JavaScript/${FG}`,"Content-Type":"application/json"}),Lh))}}});var d3=p(()=>{p3()});var h3=p(()=>{d3()});var _3={};Ae(_3,{OTLPLogExporter:()=>ea});var E3=p(()=>{h3()});var ue=T(er=>{"use strict";Object.defineProperty(er,"__esModule",{value:!0});er.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH=er.DEFAULT_MAX_SEND_MESSAGE_LENGTH=er.Propagate=er.LogVerbosity=er.Status=void 0;var m3;(function(r){r[r.OK=0]="OK",r[r.CANCELLED=1]="CANCELLED",r[r.UNKNOWN=2]="UNKNOWN",r[r.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",r[r.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",r[r.NOT_FOUND=5]="NOT_FOUND",r[r.ALREADY_EXISTS=6]="ALREADY_EXISTS",r[r.PERMISSION_DENIED=7]="PERMISSION_DENIED",r[r.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",r[r.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",r[r.ABORTED=10]="ABORTED",r[r.OUT_OF_RANGE=11]="OUT_OF_RANGE",r[r.UNIMPLEMENTED=12]="UNIMPLEMENTED",r[r.INTERNAL=13]="INTERNAL",r[r.UNAVAILABLE=14]="UNAVAILABLE",r[r.DATA_LOSS=15]="DATA_LOSS",r[r.UNAUTHENTICATED=16]="UNAUTHENTICATED"})(m3||(er.Status=m3={}));var T3;(function(r){r[r.DEBUG=0]="DEBUG",r[r.INFO=1]="INFO",r[r.ERROR=2]="ERROR",r[r.NONE=3]="NONE"})(T3||(er.LogVerbosity=T3={}));var S3;(function(r){r[r.DEADLINE=1]="DEADLINE",r[r.CENSUS_STATS_CONTEXT=2]="CENSUS_STATS_CONTEXT",r[r.CENSUS_TRACING_CONTEXT=4]="CENSUS_TRACING_CONTEXT",r[r.CANCELLATION=8]="CANCELLATION",r[r.DEFAULTS=65535]="DEFAULTS"})(S3||(er.Propagate=S3={}));er.DEFAULT_MAX_SEND_MESSAGE_LENGTH=-1;er.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH=4*1024*1024});var hv=T((dVe,Rle)=>{Rle.exports={name:"@grpc/grpc-js",version:"1.13.4",description:"gRPC Library for Node - pure JS implementation",homepage:"https://grpc.io/",repository:"https://github.com/grpc/grpc-node/tree/master/packages/grpc-js",main:"build/src/index.js",engines:{node:">=12.10.0"},keywords:[],author:{name:"Google Inc."},types:"build/src/index.d.ts",license:"Apache-2.0",devDependencies:{"@grpc/proto-loader":"file:../proto-loader","@types/gulp":"^4.0.17","@types/gulp-mocha":"0.0.37","@types/lodash":"^4.14.202","@types/mocha":"^10.0.6","@types/ncp":"^2.0.8","@types/node":">=20.11.20","@types/pify":"^5.0.4","@types/semver":"^7.5.8","@typescript-eslint/eslint-plugin":"^7.1.0","@typescript-eslint/parser":"^7.1.0","@typescript-eslint/typescript-estree":"^7.1.0","clang-format":"^1.8.0",eslint:"^8.42.0","eslint-config-prettier":"^8.8.0","eslint-plugin-node":"^11.1.0","eslint-plugin-prettier":"^4.2.1",execa:"^2.0.3",gulp:"^4.0.2","gulp-mocha":"^6.0.0",lodash:"^4.17.21",madge:"^5.0.1","mocha-jenkins-reporter":"^0.4.1",ncp:"^2.0.0",pify:"^4.0.1",prettier:"^2.8.8",rimraf:"^3.0.2",semver:"^7.6.0","ts-node":"^10.9.2",typescript:"^5.3.3"},contributors:[{name:"Google Inc."}],scripts:{build:"npm run compile",clean:"rimraf ./build",compile:"tsc -p .",format:'clang-format -i -style="{Language: JavaScript, BasedOnStyle: Google, ColumnLimit: 80}" src/*.ts test/*.ts',lint:"eslint src/*.ts test/*.ts",prepare:"npm run generate-types && npm run compile",test:"gulp test",check:"npm run lint",fix:"eslint --fix src/*.ts test/*.ts",pretest:"npm run generate-types && npm run generate-test-types && npm run compile",posttest:"npm run check && madge -c ./build/src","generate-types":"proto-loader-gen-types --keepCase --longs String --enums String --defaults --oneofs --includeComments --includeDirs proto/ --include-dirs test/fixtures/ -O src/generated/ --grpcLib ../index channelz.proto","generate-test-types":"proto-loader-gen-types --keepCase --longs String --enums String --defaults --oneofs --includeComments --include-dirs test/fixtures/ -O test/generated/ --grpcLib ../../src/index test_service.proto"},dependencies:{"@grpc/proto-loader":"^0.7.13","@js-sdsl/ordered-map":"^4.4.2"},files:["src/**/*.ts","build/src/**/*.{js,d.ts,js.map}","proto/*.proto","LICENSE","deps/envoy-api/envoy/api/v2/**/*.proto","deps/envoy-api/envoy/config/**/*.proto","deps/envoy-api/envoy/service/**/*.proto","deps/envoy-api/envoy/type/**/*.proto","deps/udpa/udpa/**/*.proto","deps/googleapis/google/api/*.proto","deps/googleapis/google/rpc/*.proto","deps/protoc-gen-validate/validate/**/*.proto"]}});var Pe=T(Bt=>{"use strict";var _v,Ev,mv,Tv;Object.defineProperty(Bt,"__esModule",{value:!0});Bt.log=Bt.setLoggerVerbosity=Bt.setLogger=Bt.getLogger=void 0;Bt.trace=Ule;Bt.isTracerEnabled=v3;var Zn=ue(),Nle=V("process"),Cle=hv().version,Ple={error:(r,...e)=>{console.error("E "+r,...e)},info:(r,...e)=>{console.error("I "+r,...e)},debug:(r,...e)=>{console.error("D "+r,...e)}},io=Ple,ta=Zn.LogVerbosity.ERROR,Ile=(Ev=(_v=process.env.GRPC_NODE_VERBOSITY)!==null&&_v!==void 0?_v:process.env.GRPC_VERBOSITY)!==null&&Ev!==void 0?Ev:"";switch(Ile.toUpperCase()){case"DEBUG":ta=Zn.LogVerbosity.DEBUG;break;case"INFO":ta=Zn.LogVerbosity.INFO;break;case"ERROR":ta=Zn.LogVerbosity.ERROR;break;case"NONE":ta=Zn.LogVerbosity.NONE;break;default:}var Lle=()=>io;Bt.getLogger=Lle;var ble=r=>{io=r};Bt.setLogger=ble;var xle=r=>{ta=r};Bt.setLoggerVerbosity=xle;var Mle=(r,...e)=>{let t;if(r>=ta){switch(r){case Zn.LogVerbosity.DEBUG:t=io.debug;break;case Zn.LogVerbosity.INFO:t=io.info;break;case Zn.LogVerbosity.ERROR:t=io.error;break}t||(t=io.error),t&&t.bind(io)(...e)}};Bt.log=Mle;var wle=(Tv=(mv=process.env.GRPC_NODE_TRACE)!==null&&mv!==void 0?mv:process.env.GRPC_TRACE)!==null&&Tv!==void 0?Tv:"",Sv=new Set,g3=new Set;for(let r of wle.split(","))r.startsWith("-")?g3.add(r.substring(1)):Sv.add(r);var Dle=Sv.has("all");function Ule(r,e,t){v3(e)&&(0,Bt.log)(r,new Date().toISOString()+" | v"+Cle+" "+Nle.pid+" | "+e+" | "+t)}function v3(r){return!g3.has(r)&&(Dle||Sv.has(r))}});var Uh=T(Dh=>{"use strict";Object.defineProperty(Dh,"__esModule",{value:!0});Dh.getErrorMessage=kle;Dh.getErrorCode=Ble;function kle(r){return r instanceof Error?r.message:String(r)}function Ble(r){return typeof r=="object"&&r!==null&&"code"in r&&typeof r.code=="number"?r.code:null}});var ht=T(Bh=>{"use strict";Object.defineProperty(Bh,"__esModule",{value:!0});Bh.Metadata=void 0;var Vle=Pe(),Fle=ue(),Gle=Uh(),Hle=/^[0-9a-z_.-]+$/,qle=/^[ -~]*$/;function jle(r){return Hle.test(r)}function Yle(r){return qle.test(r)}function O3(r){return r.endsWith("-bin")}function Kle(r){return!r.startsWith("grpc-")}function kh(r){return r.toLowerCase()}function y3(r,e){if(!jle(r))throw new Error('Metadata key "'+r+'" contains illegal characters');if(e!=null)if(O3(r)){if(!Buffer.isBuffer(e))throw new Error("keys that end with '-bin' must have Buffer values")}else{if(Buffer.isBuffer(e))throw new Error("keys that don't end with '-bin' must have String values");if(!Yle(e))throw new Error('Metadata string value "'+e+'" contains illegal characters')}}var gv=class r{constructor(e={}){this.internalRepr=new Map,this.options=e}set(e,t){e=kh(e),y3(e,t),this.internalRepr.set(e,[t])}add(e,t){e=kh(e),y3(e,t);let o=this.internalRepr.get(e);o===void 0?this.internalRepr.set(e,[t]):o.push(t)}remove(e){e=kh(e),this.internalRepr.delete(e)}get(e){return e=kh(e),this.internalRepr.get(e)||[]}getMap(){let e={};for(let[t,o]of this.internalRepr)if(o.length>0){let s=o[0];e[t]=Buffer.isBuffer(s)?Buffer.from(s):s}return e}clone(){let e=new r(this.options),t=e.internalRepr;for(let[o,s]of this.internalRepr){let a=s.map(i=>Buffer.isBuffer(i)?Buffer.from(i):i);t.set(o,a)}return e}merge(e){for(let[t,o]of e.internalRepr){let s=(this.internalRepr.get(t)||[]).concat(o);this.internalRepr.set(t,s)}}setOptions(e){this.options=e}getOptions(){return this.options}toHttp2Headers(){let e={};for(let[t,o]of this.internalRepr)e[t]=o.map(zle);return e}toJSON(){let e={};for(let[t,o]of this.internalRepr)e[t]=o;return e}static fromHttp2Headers(e){let t=new r;for(let o of Object.keys(e)){if(o.charAt(0)===":")continue;let s=e[o];try{O3(o)?Array.isArray(s)?s.forEach(a=>{t.add(o,Buffer.from(a,"base64"))}):s!==void 0&&(Kle(o)?s.split(",").forEach(a=>{t.add(o,Buffer.from(a.trim(),"base64"))}):t.add(o,Buffer.from(s,"base64"))):Array.isArray(s)?s.forEach(a=>{t.add(o,a)}):s!==void 0&&t.add(o,s)}catch(a){let i=`Failed to add metadata entry ${o}: ${s}. ${(0,Gle.getErrorMessage)(a)}. For more information see https://github.com/grpc/grpc-node/issues/1173`;(0,Vle.log)(Fle.LogVerbosity.ERROR,i)}}return t}};Bh.Metadata=gv;var zle=r=>Buffer.isBuffer(r)?r.toString("base64"):r});var Fh=T(Vh=>{"use strict";Object.defineProperty(Vh,"__esModule",{value:!0});Vh.CallCredentials=void 0;var Av=ht();function $le(r){return"getRequestHeaders"in r&&typeof r.getRequestHeaders=="function"}var ra=class r{static createFromMetadataGenerator(e){return new yv(e)}static createFromGoogleCredential(e){return r.createFromMetadataGenerator((t,o)=>{let s;$le(e)?s=e.getRequestHeaders(t.service_url):s=new Promise((a,i)=>{e.getRequestMetadata(t.service_url,(n,l)=>{if(n){i(n);return}if(!l){i(new Error("Headers not set by metadata plugin"));return}a(l)})}),s.then(a=>{let i=new Av.Metadata;for(let n of Object.keys(a))i.add(n,a[n]);o(null,i)},a=>{o(a)})})}static createEmpty(){return new Ov}};Vh.CallCredentials=ra;var vv=class r extends ra{constructor(e){super(),this.creds=e}async generateMetadata(e){let t=new Av.Metadata,o=await Promise.all(this.creds.map(s=>s.generateMetadata(e)));for(let s of o)t.merge(s);return t}compose(e){return new r(this.creds.concat([e]))}_equals(e){return this===e?!0:e instanceof r?this.creds.every((t,o)=>t._equals(e.creds[o])):!1}},yv=class r extends ra{constructor(e){super(),this.metadataGenerator=e}generateMetadata(e){return new Promise((t,o)=>{this.metadataGenerator(e,(s,a)=>{a!==void 0?t(a):o(s)})})}compose(e){return new vv([this,e])}_equals(e){return this===e?!0:e instanceof r?this.metadataGenerator===e.metadataGenerator:!1}},Ov=class r extends ra{generateMetadata(e){return Promise.resolve(new Av.Metadata)}compose(e){return e}_equals(e){return e instanceof r}}});var Nv=T(Oc=>{"use strict";Object.defineProperty(Oc,"__esModule",{value:!0});Oc.CIPHER_SUITES=void 0;Oc.getDefaultRootsData=Wle;var Xle=V("fs");Oc.CIPHER_SUITES=process.env.GRPC_SSL_CIPHER_SUITES;var A3=process.env.GRPC_DEFAULT_SSL_ROOTS_FILE_PATH,Rv=null;function Wle(){return A3?(Rv===null&&(Rv=Xle.readFileSync(A3)),Rv):null}});var Pt=T(na=>{"use strict";Object.defineProperty(na,"__esModule",{value:!0});na.parseUri=Qle;na.splitHostPort=Zle;na.combineHostPort=ece;na.uriToString=tce;var Jle=/^(?:([A-Za-z0-9+.-]+):)?(?:\/\/([^/]*)\/)?(.+)$/;function Qle(r){let e=Jle.exec(r);return e===null?null:{scheme:e[1],authority:e[2],path:e[3]}}var R3=/^\d+$/;function Zle(r){if(r.startsWith("[")){let e=r.indexOf("]");if(e===-1)return null;let t=r.substring(1,e);if(t.indexOf(":")===-1)return null;if(r.length>e+1)if(r[e+1]===":"){let o=r.substring(e+2);return R3.test(o)?{host:t,port:+o}:null}else return null;else return{host:t}}else{let e=r.split(":");return e.length===2?R3.test(e[1])?{host:e[0],port:+e[1]}:null:{host:r}}}function ece(r){return r.port===void 0?r.host:r.host.includes(":")?`[${r.host}]:${r.port}`:`${r.host}:${r.port}`}function tce(r){let e="";return r.scheme!==void 0&&(e+=r.scheme+":"),r.authority!==void 0&&(e+="//"+r.authority+"/"),e+=r.path,e}});var jr=T(oo=>{"use strict";Object.defineProperty(oo,"__esModule",{value:!0});oo.registerResolver=rce;oo.registerDefaultScheme=nce;oo.createResolver=ice;oo.getDefaultAuthority=oce;oo.mapUriDefaultScheme=sce;var Pv=Pt(),ia={},Cv=null;function rce(r,e){ia[r]=e}function nce(r){Cv=r}function ice(r,e,t){if(r.scheme!==void 0&&r.scheme in ia)return new ia[r.scheme](r,e,t);throw new Error(`No resolver could be created for target ${(0,Pv.uriToString)(r)}`)}function oce(r){if(r.scheme!==void 0&&r.scheme in ia)return ia[r.scheme].getDefaultAuthority(r);throw new Error(`Invalid target ${(0,Pv.uriToString)(r)}`)}function sce(r){return r.scheme===void 0||!(r.scheme in ia)?Cv!==null?{scheme:Cv,authority:void 0,path:(0,Pv.uriToString)(r)}:null:r}});var Nc=T(Rc=>{"use strict";Object.defineProperty(Rc,"__esModule",{value:!0});Rc.ChannelCredentials=void 0;Rc.createCertificateProviderChannelCredentials=uce;var Ac=V("tls"),qh=Fh(),Lv=Nv(),N3=Pt(),ace=jr(),lce=Pe(),cce=ue();function Iv(r,e){if(r&&!(r instanceof Buffer))throw new TypeError(`${e}, if provided, must be a Buffer.`)}var so=class{compose(e){return new Mv(this,e)}static createSsl(e,t,o,s){var a;if(Iv(e,"Root certificate"),Iv(t,"Private key"),Iv(o,"Certificate chain"),t&&!o)throw new Error("Private key must be given with accompanying certificate chain");if(!t&&o)throw new Error("Certificate chain must be given with accompanying private key");let i=(0,Ac.createSecureContext)({ca:(a=e??(0,Lv.getDefaultRootsData)())!==null&&a!==void 0?a:void 0,key:t??void 0,cert:o??void 0,ciphers:Lv.CIPHER_SUITES});return new Gh(i,s??{})}static createFromSecureContext(e,t){return new Gh(e,t??{})}static createInsecure(){return new bv}};Rc.ChannelCredentials=so;var bv=class r extends so{constructor(){super()}compose(e){throw new Error("Cannot compose insecure credentials")}_isSecure(){return!1}_equals(e){return e instanceof r}_createSecureConnector(e,t,o){return{connect(s){return Promise.resolve({socket:s,secure:!1})},waitForReady:()=>Promise.resolve(),getCallCredentials:()=>o??qh.CallCredentials.createEmpty(),destroy(){}}}};function C3(r,e,t,o){var s,a;let i={secureContext:r},n=t;if("grpc.http_connect_target"in o){let f=(0,N3.parseUri)(o["grpc.http_connect_target"]);f&&(n=f)}let l=(0,ace.getDefaultAuthority)(n),c=(0,N3.splitHostPort)(l),u=(s=c==null?void 0:c.host)!==null&&s!==void 0?s:l;if(i.host=u,e.checkServerIdentity&&(i.checkServerIdentity=e.checkServerIdentity),e.rejectUnauthorized!==void 0&&(i.rejectUnauthorized=e.rejectUnauthorized),i.ALPNProtocols=["h2"],o["grpc.ssl_target_name_override"]){let f=o["grpc.ssl_target_name_override"],_=(a=i.checkServerIdentity)!==null&&a!==void 0?a:Ac.checkServerIdentity;i.checkServerIdentity=(m,O)=>_(f,O),i.servername=f}else i.servername=u;return o["grpc-node.tls_enable_trace"]&&(i.enableTrace=!0),i}var xv=class{constructor(e,t){this.connectionOptions=e,this.callCredentials=t}connect(e){let t=Object.assign({socket:e},this.connectionOptions);return new Promise((o,s)=>{let a=(0,Ac.connect)(t,()=>{var i;if((!((i=this.connectionOptions.rejectUnauthorized)!==null&&i!==void 0)||i)&&!a.authorized){s(a.authorizationError);return}o({socket:a,secure:!0})});a.on("error",i=>{s(i)})})}waitForReady(){return Promise.resolve()}getCallCredentials(){return this.callCredentials}destroy(){}},Gh=class r extends so{constructor(e,t){super(),this.secureContext=e,this.verifyOptions=t}_isSecure(){return!0}_equals(e){return this===e?!0:e instanceof r?this.secureContext===e.secureContext&&this.verifyOptions.checkServerIdentity===e.verifyOptions.checkServerIdentity:!1}_createSecureConnector(e,t,o){let s=C3(this.secureContext,this.verifyOptions,e,t);return new xv(s,o??qh.CallCredentials.createEmpty())}},Hh=class r extends so{constructor(e,t,o){super(),this.caCertificateProvider=e,this.identityCertificateProvider=t,this.verifyOptions=o,this.refcount=0,this.latestCaUpdate=void 0,this.latestIdentityUpdate=void 0,this.caCertificateUpdateListener=this.handleCaCertificateUpdate.bind(this),this.identityCertificateUpdateListener=this.handleIdentityCertitificateUpdate.bind(this),this.secureContextWatchers=[]}_isSecure(){return!0}_equals(e){var t,o;return this===e?!0:e instanceof r?this.caCertificateProvider===e.caCertificateProvider&&this.identityCertificateProvider===e.identityCertificateProvider&&((t=this.verifyOptions)===null||t===void 0?void 0:t.checkServerIdentity)===((o=e.verifyOptions)===null||o===void 0?void 0:o.checkServerIdentity):!1}ref(){var e;this.refcount===0&&(this.caCertificateProvider.addCaCertificateListener(this.caCertificateUpdateListener),(e=this.identityCertificateProvider)===null||e===void 0||e.addIdentityCertificateListener(this.identityCertificateUpdateListener)),this.refcount+=1}unref(){var e;this.refcount-=1,this.refcount===0&&(this.caCertificateProvider.removeCaCertificateListener(this.caCertificateUpdateListener),(e=this.identityCertificateProvider)===null||e===void 0||e.removeIdentityCertificateListener(this.identityCertificateUpdateListener))}_createSecureConnector(e,t,o){return this.ref(),new r.SecureConnectorImpl(this,e,t,o??qh.CallCredentials.createEmpty())}maybeUpdateWatchers(){if(this.hasReceivedUpdates()){for(let e of this.secureContextWatchers)e(this.getLatestSecureContext());this.secureContextWatchers=[]}}handleCaCertificateUpdate(e){this.latestCaUpdate=e,this.maybeUpdateWatchers()}handleIdentityCertitificateUpdate(e){this.latestIdentityUpdate=e,this.maybeUpdateWatchers()}hasReceivedUpdates(){return!(this.latestCaUpdate===void 0||this.identityCertificateProvider&&this.latestIdentityUpdate===void 0)}getSecureContext(){return this.hasReceivedUpdates()?Promise.resolve(this.getLatestSecureContext()):new Promise(e=>{this.secureContextWatchers.push(e)})}getLatestSecureContext(){var e,t;if(!this.latestCaUpdate||this.identityCertificateProvider!==null&&!this.latestIdentityUpdate)return null;try{return(0,Ac.createSecureContext)({ca:this.latestCaUpdate.caCertificate,key:(e=this.latestIdentityUpdate)===null||e===void 0?void 0:e.privateKey,cert:(t=this.latestIdentityUpdate)===null||t===void 0?void 0:t.certificate,ciphers:Lv.CIPHER_SUITES})}catch(o){return(0,lce.log)(cce.LogVerbosity.ERROR,"Failed to createSecureContext with error "+o.message),null}}};Hh.SecureConnectorImpl=class{constructor(r,e,t,o){this.parent=r,this.channelTarget=e,this.options=t,this.callCredentials=o}connect(r){return new Promise((e,t)=>{let o=this.parent.getLatestSecureContext();if(!o){t(new Error("Failed to load credentials"));return}r.closed&&t(new Error("Socket closed while loading credentials"));let s=C3(o,this.parent.verifyOptions,this.channelTarget,this.options),a=Object.assign({socket:r},s),i=()=>{t(new Error("Socket closed"))},n=c=>{t(c)},l=(0,Ac.connect)(a,()=>{var c;if(l.removeListener("close",i),l.removeListener("error",n),(!((c=this.parent.verifyOptions.rejectUnauthorized)!==null&&c!==void 0)||c)&&!l.authorized){t(l.authorizationError);return}e({socket:l,secure:!0})});l.once("close",i),l.once("error",n)})}async waitForReady(){await this.parent.getSecureContext()}getCallCredentials(){return this.callCredentials}destroy(){this.parent.unref()}};function uce(r,e,t){return new Hh(r,e,t??{})}var Mv=class r extends so{constructor(e,t){if(super(),this.channelCredentials=e,this.callCredentials=t,!e._isSecure())throw new Error("Cannot compose insecure credentials")}compose(e){let t=this.callCredentials.compose(e);return new r(this.channelCredentials,t)}_isSecure(){return!0}_equals(e){return this===e?!0:e instanceof r?this.channelCredentials._equals(e.channelCredentials)&&this.callCredentials._equals(e.callCredentials):!1}_createSecureConnector(e,t,o){let s=this.callCredentials.compose(o??qh.CallCredentials.createEmpty());return this.channelCredentials._createSecureConnector(e,t,s)}}});var ao=T(Yr=>{"use strict";Object.defineProperty(Yr,"__esModule",{value:!0});Yr.createChildChannelControlHelper=dce;Yr.registerLoadBalancerType=hce;Yr.registerDefaultLoadBalancerType=_ce;Yr.createLoadBalancer=Ece;Yr.isLoadBalancerNameRegistered=mce;Yr.parseLoadBalancingConfig=P3;Yr.getDefaultConfig=Tce;Yr.selectLbConfigFromList=Sce;var fce=Pe(),pce=ue();function dce(r,e){var t,o,s,a,i,n,l,c,u,f;return{createSubchannel:(o=(t=e.createSubchannel)===null||t===void 0?void 0:t.bind(e))!==null&&o!==void 0?o:r.createSubchannel.bind(r),updateState:(a=(s=e.updateState)===null||s===void 0?void 0:s.bind(e))!==null&&a!==void 0?a:r.updateState.bind(r),requestReresolution:(n=(i=e.requestReresolution)===null||i===void 0?void 0:i.bind(e))!==null&&n!==void 0?n:r.requestReresolution.bind(r),addChannelzChild:(c=(l=e.addChannelzChild)===null||l===void 0?void 0:l.bind(e))!==null&&c!==void 0?c:r.addChannelzChild.bind(r),removeChannelzChild:(f=(u=e.removeChannelzChild)===null||u===void 0?void 0:u.bind(e))!==null&&f!==void 0?f:r.removeChannelzChild.bind(r)}}var ei={},Cc=null;function hce(r,e,t){ei[r]={LoadBalancer:e,LoadBalancingConfig:t}}function _ce(r){Cc=r}function Ece(r,e){let t=r.getLoadBalancerName();return t in ei?new ei[t].LoadBalancer(e):null}function mce(r){return r in ei}function P3(r){let e=Object.keys(r);if(e.length!==1)throw new Error("Provided load balancing config has multiple conflicting entries");let t=e[0];if(t in ei)try{return ei[t].LoadBalancingConfig.createFromJson(r[t])}catch(o){throw new Error(`${t}: ${o.message}`)}else throw new Error(`Unrecognized load balancing config name ${t}`)}function Tce(){if(!Cc)throw new Error("No default load balancer type registered");return new ei[Cc].LoadBalancingConfig}function Sce(r,e=!1){for(let t of r)try{return P3(t)}catch(o){(0,fce.log)(pce.LogVerbosity.DEBUG,"Config parsing failed with error",o.message);continue}return e&&Cc?new ei[Cc].LoadBalancingConfig:null}});var wv=T(Pc=>{"use strict";Object.defineProperty(Pc,"__esModule",{value:!0});Pc.validateRetryThrottling=I3;Pc.validateServiceConfig=L3;Pc.extractAndSelectServiceConfig=Ice;var gce=V("os"),jh=ue(),Yh=/^\d+(\.\d{1,9})?s$/,vce="node";function yce(r){if("service"in r&&r.service!==""){if(typeof r.service!="string")throw new Error(`Invalid method config name: invalid service: expected type string, got ${typeof r.service}`);if("method"in r&&r.method!==""){if(typeof r.method!="string")throw new Error(`Invalid method config name: invalid method: expected type string, got ${typeof r.service}`);return{service:r.service,method:r.method}}else return{service:r.service}}else{if("method"in r&&r.method!==void 0)throw new Error("Invalid method config name: method set with empty or unset service");return{}}}function Oce(r){if(!("maxAttempts"in r)||!Number.isInteger(r.maxAttempts)||r.maxAttempts<2)throw new Error("Invalid method config retry policy: maxAttempts must be an integer at least 2");if(!("initialBackoff"in r)||typeof r.initialBackoff!="string"||!Yh.test(r.initialBackoff))throw new Error("Invalid method config retry policy: initialBackoff must be a string consisting of a positive integer or decimal followed by s");if(!("maxBackoff"in r)||typeof r.maxBackoff!="string"||!Yh.test(r.maxBackoff))throw new Error("Invalid method config retry policy: maxBackoff must be a string consisting of a positive integer or decimal followed by s");if(!("backoffMultiplier"in r)||typeof r.backoffMultiplier!="number"||r.backoffMultiplier<=0)throw new Error("Invalid method config retry policy: backoffMultiplier must be a number greater than 0");if(!("retryableStatusCodes"in r&&Array.isArray(r.retryableStatusCodes)))throw new Error("Invalid method config retry policy: retryableStatusCodes is required");if(r.retryableStatusCodes.length===0)throw new Error("Invalid method config retry policy: retryableStatusCodes must be non-empty");for(let e of r.retryableStatusCodes)if(typeof e=="number"){if(!Object.values(jh.Status).includes(e))throw new Error("Invalid method config retry policy: retryableStatusCodes value not in status code range")}else if(typeof e=="string"){if(!Object.values(jh.Status).includes(e.toUpperCase()))throw new Error("Invalid method config retry policy: retryableStatusCodes value not a status code name")}else throw new Error("Invalid method config retry policy: retryableStatusCodes value must be a string or number");return{maxAttempts:r.maxAttempts,initialBackoff:r.initialBackoff,maxBackoff:r.maxBackoff,backoffMultiplier:r.backoffMultiplier,retryableStatusCodes:r.retryableStatusCodes}}function Ace(r){if(!("maxAttempts"in r)||!Number.isInteger(r.maxAttempts)||r.maxAttempts<2)throw new Error("Invalid method config hedging policy: maxAttempts must be an integer at least 2");if("hedgingDelay"in r&&(typeof r.hedgingDelay!="string"||!Yh.test(r.hedgingDelay)))throw new Error("Invalid method config hedging policy: hedgingDelay must be a string consisting of a positive integer followed by s");if("nonFatalStatusCodes"in r&&Array.isArray(r.nonFatalStatusCodes))for(let t of r.nonFatalStatusCodes)if(typeof t=="number"){if(!Object.values(jh.Status).includes(t))throw new Error("Invalid method config hedging policy: nonFatalStatusCodes value not in status code range")}else if(typeof t=="string"){if(!Object.values(jh.Status).includes(t.toUpperCase()))throw new Error("Invalid method config hedging policy: nonFatalStatusCodes value not a status code name")}else throw new Error("Invalid method config hedging policy: nonFatalStatusCodes value must be a string or number");let e={maxAttempts:r.maxAttempts};return r.hedgingDelay&&(e.hedgingDelay=r.hedgingDelay),r.nonFatalStatusCodes&&(e.nonFatalStatusCodes=r.nonFatalStatusCodes),e}function Rce(r){var e;let t={name:[]};if(!("name"in r)||!Array.isArray(r.name))throw new Error("Invalid method config: invalid name array");for(let o of r.name)t.name.push(yce(o));if("waitForReady"in r){if(typeof r.waitForReady!="boolean")throw new Error("Invalid method config: invalid waitForReady");t.waitForReady=r.waitForReady}if("timeout"in r)if(typeof r.timeout=="object"){if(!("seconds"in r.timeout)||typeof r.timeout.seconds!="number")throw new Error("Invalid method config: invalid timeout.seconds");if(!("nanos"in r.timeout)||typeof r.timeout.nanos!="number")throw new Error("Invalid method config: invalid timeout.nanos");t.timeout=r.timeout}else if(typeof r.timeout=="string"&&Yh.test(r.timeout)){let o=r.timeout.substring(0,r.timeout.length-1).split(".");t.timeout={seconds:o[0]|0,nanos:((e=o[1])!==null&&e!==void 0?e:0)|0}}else throw new Error("Invalid method config: invalid timeout");if("maxRequestBytes"in r){if(typeof r.maxRequestBytes!="number")throw new Error("Invalid method config: invalid maxRequestBytes");t.maxRequestBytes=r.maxRequestBytes}if("maxResponseBytes"in r){if(typeof r.maxResponseBytes!="number")throw new Error("Invalid method config: invalid maxRequestBytes");t.maxResponseBytes=r.maxResponseBytes}if("retryPolicy"in r){if("hedgingPolicy"in r)throw new Error("Invalid method config: retryPolicy and hedgingPolicy cannot both be specified");t.retryPolicy=Oce(r.retryPolicy)}else"hedgingPolicy"in r&&(t.hedgingPolicy=Ace(r.hedgingPolicy));return t}function I3(r){if(!("maxTokens"in r)||typeof r.maxTokens!="number"||r.maxTokens<=0||r.maxTokens>1e3)throw new Error("Invalid retryThrottling: maxTokens must be a number in (0, 1000]");if(!("tokenRatio"in r)||typeof r.tokenRatio!="number"||r.tokenRatio<=0)throw new Error("Invalid retryThrottling: tokenRatio must be a number greater than 0");return{maxTokens:+r.maxTokens.toFixed(3),tokenRatio:+r.tokenRatio.toFixed(3)}}function Nce(r){if(!(typeof r=="object"&&r!==null))throw new Error(`Invalid loadBalancingConfig: unexpected type ${typeof r}`);let e=Object.keys(r);if(e.length>1)throw new Error(`Invalid loadBalancingConfig: unexpected multiple keys ${e}`);if(e.length===0)throw new Error("Invalid loadBalancingConfig: load balancing policy name required");return{[e[0]]:r[e[0]]}}function L3(r){let e={loadBalancingConfig:[],methodConfig:[]};if("loadBalancingPolicy"in r)if(typeof r.loadBalancingPolicy=="string")e.loadBalancingPolicy=r.loadBalancingPolicy;else throw new Error("Invalid service config: invalid loadBalancingPolicy");if("loadBalancingConfig"in r)if(Array.isArray(r.loadBalancingConfig))for(let o of r.loadBalancingConfig)e.loadBalancingConfig.push(Nce(o));else throw new Error("Invalid service config: invalid loadBalancingConfig");if("methodConfig"in r&&Array.isArray(r.methodConfig))for(let o of r.methodConfig)e.methodConfig.push(Rce(o));"retryThrottling"in r&&(e.retryThrottling=I3(r.retryThrottling));let t=[];for(let o of e.methodConfig)for(let s of o.name){for(let a of t)if(s.service===a.service&&s.method===a.method)throw new Error(`Invalid service config: duplicate name ${s.service}/${s.method}`);t.push(s)}return e}function Cce(r){if(!("serviceConfig"in r))throw new Error("Invalid service config choice: missing service config");let e={serviceConfig:L3(r.serviceConfig)};if("clientLanguage"in r)if(Array.isArray(r.clientLanguage)){e.clientLanguage=[];for(let o of r.clientLanguage)if(typeof o=="string")e.clientLanguage.push(o);else throw new Error("Invalid service config choice: invalid clientLanguage")}else throw new Error("Invalid service config choice: invalid clientLanguage");if("clientHostname"in r)if(Array.isArray(r.clientHostname)){e.clientHostname=[];for(let o of r.clientHostname)if(typeof o=="string")e.clientHostname.push(o);else throw new Error("Invalid service config choice: invalid clientHostname")}else throw new Error("Invalid service config choice: invalid clientHostname");if("percentage"in r)if(typeof r.percentage=="number"&&0<=r.percentage&&r.percentage<=100)e.percentage=r.percentage;else throw new Error("Invalid service config choice: invalid percentage");let t=["clientLanguage","percentage","clientHostname","serviceConfig"];for(let o in r)if(!t.includes(o))throw new Error(`Invalid service config choice: unexpected field ${o}`);return e}function Pce(r,e){if(!Array.isArray(r))throw new Error("Invalid service config list");for(let t of r){let o=Cce(t);if(!(typeof o.percentage=="number"&&e>o.percentage)){if(Array.isArray(o.clientHostname)){let s=!1;for(let a of o.clientHostname)a===gce.hostname()&&(s=!0);if(!s)continue}if(Array.isArray(o.clientLanguage)){let s=!1;for(let a of o.clientLanguage)a===vce&&(s=!0);if(!s)continue}return o.serviceConfig}}throw new Error("No matching service config found")}function Ice(r,e){for(let t of r)if(t.length>0&&t[0].startsWith("grpc_config=")){let o=t.join("").substring(12),s=JSON.parse(o);return Pce(s,e)}return null}});var tr=T(Kh=>{"use strict";Object.defineProperty(Kh,"__esModule",{value:!0});Kh.ConnectivityState=void 0;var b3;(function(r){r[r.IDLE=0]="IDLE",r[r.CONNECTING=1]="CONNECTING",r[r.READY=2]="READY",r[r.TRANSIENT_FAILURE=3]="TRANSIENT_FAILURE",r[r.SHUTDOWN=4]="SHUTDOWN"})(b3||(Kh.ConnectivityState=b3={}))});var ri=T(ti=>{"use strict";Object.defineProperty(ti,"__esModule",{value:!0});ti.QueuePicker=ti.UnavailablePicker=ti.PickResultType=void 0;var Lce=ht(),bce=ue(),zh;(function(r){r[r.COMPLETE=0]="COMPLETE",r[r.QUEUE=1]="QUEUE",r[r.TRANSIENT_FAILURE=2]="TRANSIENT_FAILURE",r[r.DROP=3]="DROP"})(zh||(ti.PickResultType=zh={}));var Dv=class{constructor(e){this.status=Object.assign({code:bce.Status.UNAVAILABLE,details:"No connection established",metadata:new Lce.Metadata},e)}pick(e){return{pickResultType:zh.TRANSIENT_FAILURE,subchannel:null,status:this.status,onCallStarted:null,onCallEnded:null}}};ti.UnavailablePicker=Dv;var Uv=class{constructor(e,t){this.loadBalancer=e,this.childPicker=t,this.calledExitIdle=!1}pick(e){return this.calledExitIdle||(process.nextTick(()=>{this.loadBalancer.exitIdle()}),this.calledExitIdle=!0),this.childPicker?this.childPicker.pick(e):{pickResultType:zh.QUEUE,subchannel:null,status:null,onCallStarted:null,onCallEnded:null}}};ti.QueuePicker=Uv});var Ic=T(Xh=>{"use strict";Object.defineProperty(Xh,"__esModule",{value:!0});Xh.BackoffTimeout=void 0;var xce=ue(),Mce=Pe(),wce="backoff",Dce=1e3,Uce=1.6,kce=12e4,Bce=.2;function Vce(r,e){return Math.random()*(e-r)+r}var $h=class r{constructor(e,t){this.callback=e,this.initialDelay=Dce,this.multiplier=Uce,this.maxDelay=kce,this.jitter=Bce,this.running=!1,this.hasRef=!0,this.startTime=new Date,this.endTime=new Date,this.id=r.getNextId(),t&&(t.initialDelay&&(this.initialDelay=t.initialDelay),t.multiplier&&(this.multiplier=t.multiplier),t.jitter&&(this.jitter=t.jitter),t.maxDelay&&(this.maxDelay=t.maxDelay)),this.trace("constructed initialDelay="+this.initialDelay+" multiplier="+this.multiplier+" jitter="+this.jitter+" maxDelay="+this.maxDelay),this.nextDelay=this.initialDelay,this.timerId=setTimeout(()=>{},0),clearTimeout(this.timerId)}static getNextId(){return this.nextId++}trace(e){Mce.trace(xce.LogVerbosity.DEBUG,wce,"{"+this.id+"} "+e)}runTimer(e){var t,o;this.trace("runTimer(delay="+e+")"),this.endTime=this.startTime,this.endTime.setMilliseconds(this.endTime.getMilliseconds()+e),clearTimeout(this.timerId),this.timerId=setTimeout(()=>{this.trace("timer fired"),this.running=!1,this.callback()},e),this.hasRef||(o=(t=this.timerId).unref)===null||o===void 0||o.call(t)}runOnce(){this.trace("runOnce()"),this.running=!0,this.startTime=new Date,this.runTimer(this.nextDelay);let e=Math.min(this.nextDelay*this.multiplier,this.maxDelay),t=e*this.jitter;this.nextDelay=e+Vce(-t,t)}stop(){this.trace("stop()"),clearTimeout(this.timerId),this.running=!1}reset(){if(this.trace("reset() running="+this.running),this.nextDelay=this.initialDelay,this.running){let e=new Date,t=this.startTime;t.setMilliseconds(t.getMilliseconds()+this.nextDelay),clearTimeout(this.timerId),e<t?this.runTimer(t.getTime()-e.getTime()):this.running=!1}}isRunning(){return this.running}ref(){var e,t;this.hasRef=!0,(t=(e=this.timerId).ref)===null||t===void 0||t.call(e)}unref(){var e,t;this.hasRef=!1,(t=(e=this.timerId).unref)===null||t===void 0||t.call(e)}getEndTime(){return this.endTime}};Xh.BackoffTimeout=$h;$h.nextId=0});var Jh=T(Wh=>{"use strict";Object.defineProperty(Wh,"__esModule",{value:!0});Wh.ChildLoadBalancerHandler=void 0;var Fce=ao(),Gce=tr(),Hce="child_load_balancer_helper",kv=class{constructor(e){this.channelControlHelper=e,this.currentChild=null,this.pendingChild=null,this.latestConfig=null,this.ChildPolicyHelper=class{constructor(t){this.parent=t,this.child=null}createSubchannel(t,o){return this.parent.channelControlHelper.createSubchannel(t,o)}updateState(t,o,s){var a;if(this.calledByPendingChild()){if(t===Gce.ConnectivityState.CONNECTING)return;(a=this.parent.currentChild)===null||a===void 0||a.destroy(),this.parent.currentChild=this.parent.pendingChild,this.parent.pendingChild=null}else if(!this.calledByCurrentChild())return;this.parent.channelControlHelper.updateState(t,o,s)}requestReresolution(){var t;let o=(t=this.parent.pendingChild)!==null&&t!==void 0?t:this.parent.currentChild;this.child===o&&this.parent.channelControlHelper.requestReresolution()}setChild(t){this.child=t}addChannelzChild(t){this.parent.channelControlHelper.addChannelzChild(t)}removeChannelzChild(t){this.parent.channelControlHelper.removeChannelzChild(t)}calledByPendingChild(){return this.child===this.parent.pendingChild}calledByCurrentChild(){return this.child===this.parent.currentChild}}}configUpdateRequiresNewPolicyInstance(e,t){return e.getLoadBalancerName()!==t.getLoadBalancerName()}updateAddressList(e,t,o){let s;if(this.currentChild===null||this.latestConfig===null||this.configUpdateRequiresNewPolicyInstance(this.latestConfig,t)){let a=new this.ChildPolicyHelper(this),i=(0,Fce.createLoadBalancer)(t,a);a.setChild(i),this.currentChild===null?(this.currentChild=i,s=this.currentChild):(this.pendingChild&&this.pendingChild.destroy(),this.pendingChild=i,s=this.pendingChild)}else this.pendingChild===null?s=this.currentChild:s=this.pendingChild;this.latestConfig=t,s.updateAddressList(e,t,o)}exitIdle(){this.currentChild&&(this.currentChild.exitIdle(),this.pendingChild&&this.pendingChild.exitIdle())}resetBackoff(){this.currentChild&&(this.currentChild.resetBackoff(),this.pendingChild&&this.pendingChild.resetBackoff())}destroy(){this.currentChild&&(this.currentChild.destroy(),this.currentChild=null),this.pendingChild&&(this.pendingChild.destroy(),this.pendingChild=null)}getTypeName(){return Hce}};Wh.ChildLoadBalancerHandler=kv});var M3=T(Qh=>{"use strict";Object.defineProperty(Qh,"__esModule",{value:!0});Qh.ResolvingLoadBalancer=void 0;var qce=ao(),jce=wv(),It=tr(),Yce=jr(),Lc=ri(),Kce=Ic(),Bv=ue(),zce=ht(),$ce=Pe(),Xce=ue(),Wce=Pt(),Jce=Jh(),Qce="resolving_load_balancer";function x3(r){$ce.trace(Xce.LogVerbosity.DEBUG,Qce,r)}var Zce=["SERVICE_AND_METHOD","SERVICE","EMPTY"];function eue(r,e,t,o){for(let s of t.name)switch(o){case"EMPTY":if(!s.service&&!s.method)return!0;break;case"SERVICE":if(s.service===r&&!s.method)return!0;break;case"SERVICE_AND_METHOD":if(s.service===r&&s.method===e)return!0}return!1}function tue(r,e,t,o){for(let s of t)if(eue(r,e,s,o))return s;return null}function rue(r){return{invoke(e,t){var o,s;let a=e.split("/").filter(l=>l.length>0),i=(o=a[0])!==null&&o!==void 0?o:"",n=(s=a[1])!==null&&s!==void 0?s:"";if(r&&r.methodConfig)for(let l of Zce){let c=tue(i,n,r.methodConfig,l);if(c)return{methodConfig:c,pickInformation:{},status:Bv.Status.OK,dynamicFilterFactories:[]}}return{methodConfig:{name:[]},pickInformation:{},status:Bv.Status.OK,dynamicFilterFactories:[]}},unref(){}}}var Vv=class{constructor(e,t,o,s,a){this.target=e,this.channelControlHelper=t,this.channelOptions=o,this.onSuccessfulResolution=s,this.onFailedResolution=a,this.latestChildState=It.ConnectivityState.IDLE,this.latestChildPicker=new Lc.QueuePicker(this),this.latestChildErrorMessage=null,this.currentState=It.ConnectivityState.IDLE,this.previousServiceConfig=null,this.continueResolving=!1,o["grpc.service_config"]?this.defaultServiceConfig=(0,jce.validateServiceConfig)(JSON.parse(o["grpc.service_config"])):this.defaultServiceConfig={loadBalancingConfig:[],methodConfig:[]},this.updateState(It.ConnectivityState.IDLE,new Lc.QueuePicker(this),null),this.childLoadBalancer=new Jce.ChildLoadBalancerHandler({createSubchannel:t.createSubchannel.bind(t),requestReresolution:()=>{this.backoffTimeout.isRunning()?(x3("requestReresolution delayed by backoff timer until "+this.backoffTimeout.getEndTime().toISOString()),this.continueResolving=!0):this.updateResolution()},updateState:(n,l,c)=>{this.latestChildState=n,this.latestChildPicker=l,this.latestChildErrorMessage=c,this.updateState(n,l,c)},addChannelzChild:t.addChannelzChild.bind(t),removeChannelzChild:t.removeChannelzChild.bind(t)}),this.innerResolver=(0,Yce.createResolver)(e,{onSuccessfulResolution:(n,l,c,u,f)=>{var _;this.backoffTimeout.stop(),this.backoffTimeout.reset();let m=null;l===null?c===null?(this.previousServiceConfig=null,m=this.defaultServiceConfig):this.previousServiceConfig===null?this.handleResolutionFailure(c):m=this.previousServiceConfig:(m=l,this.previousServiceConfig=l);let O=(_=m==null?void 0:m.loadBalancingConfig)!==null&&_!==void 0?_:[],y=(0,qce.selectLbConfigFromList)(O,!0);if(y===null){this.handleResolutionFailure({code:Bv.Status.UNAVAILABLE,details:"All load balancer options in service config are not compatible",metadata:new zce.Metadata}),u==null||u.unref();return}this.childLoadBalancer.updateAddressList(n,y,Object.assign(Object.assign({},this.channelOptions),f));let A=m??this.defaultServiceConfig;this.onSuccessfulResolution(A,u??rue(A))},onError:n=>{this.handleResolutionFailure(n)}},o);let i={initialDelay:o["grpc.initial_reconnect_backoff_ms"],maxDelay:o["grpc.max_reconnect_backoff_ms"]};this.backoffTimeout=new Kce.BackoffTimeout(()=>{this.continueResolving?(this.updateResolution(),this.continueResolving=!1):this.updateState(this.latestChildState,this.latestChildPicker,this.latestChildErrorMessage)},i),this.backoffTimeout.unref()}updateResolution(){this.innerResolver.updateResolution(),this.currentState===It.ConnectivityState.IDLE&&this.updateState(It.ConnectivityState.CONNECTING,this.latestChildPicker,this.latestChildErrorMessage),this.backoffTimeout.runOnce()}updateState(e,t,o){x3((0,Wce.uriToString)(this.target)+" "+It.ConnectivityState[this.currentState]+" -> "+It.ConnectivityState[e]),e===It.ConnectivityState.IDLE&&(t=new Lc.QueuePicker(this,t)),this.currentState=e,this.channelControlHelper.updateState(e,t,o)}handleResolutionFailure(e){this.latestChildState===It.ConnectivityState.IDLE&&(this.updateState(It.ConnectivityState.TRANSIENT_FAILURE,new Lc.UnavailablePicker(e),e.details),this.onFailedResolution(e))}exitIdle(){(this.currentState===It.ConnectivityState.IDLE||this.currentState===It.ConnectivityState.TRANSIENT_FAILURE)&&(this.backoffTimeout.isRunning()?this.continueResolving=!0:this.updateResolution()),this.childLoadBalancer.exitIdle()}updateAddressList(e,t){throw new Error("updateAddressList not supported on ResolvingLoadBalancer")}resetBackoff(){this.backoffTimeout.reset(),this.childLoadBalancer.resetBackoff()}destroy(){this.childLoadBalancer.destroy(),this.innerResolver.destroy(),this.backoffTimeout.reset(),this.backoffTimeout.stop(),this.latestChildState=It.ConnectivityState.IDLE,this.latestChildPicker=new Lc.QueuePicker(this),this.currentState=It.ConnectivityState.IDLE,this.previousServiceConfig=null,this.continueResolving=!1}getTypeName(){return"resolving_load_balancer"}};Qh.ResolvingLoadBalancer=Vv});var w3=T(bc=>{"use strict";Object.defineProperty(bc,"__esModule",{value:!0});bc.recognizedOptions=void 0;bc.channelOptionsEqual=nue;bc.recognizedOptions={"grpc.ssl_target_name_override":!0,"grpc.primary_user_agent":!0,"grpc.secondary_user_agent":!0,"grpc.default_authority":!0,"grpc.keepalive_time_ms":!0,"grpc.keepalive_timeout_ms":!0,"grpc.keepalive_permit_without_calls":!0,"grpc.service_config":!0,"grpc.max_concurrent_streams":!0,"grpc.initial_reconnect_backoff_ms":!0,"grpc.max_reconnect_backoff_ms":!0,"grpc.use_local_subchannel_pool":!0,"grpc.max_send_message_length":!0,"grpc.max_receive_message_length":!0,"grpc.enable_http_proxy":!0,"grpc.enable_channelz":!0,"grpc.dns_min_time_between_resolutions_ms":!0,"grpc.enable_retries":!0,"grpc.per_rpc_retry_buffer_size":!0,"grpc.retry_buffer_size":!0,"grpc.max_connection_age_ms":!0,"grpc.max_connection_age_grace_ms":!0,"grpc-node.max_session_memory":!0,"grpc.service_config_disable_resolution":!0,"grpc.client_idle_timeout_ms":!0,"grpc-node.tls_enable_trace":!0,"grpc.lb.ring_hash.ring_size_cap":!0,"grpc-node.retry_max_attempts_limit":!0,"grpc-node.flow_control_window":!0};function nue(r,e){let t=Object.keys(r).sort(),o=Object.keys(e).sort();if(t.length!==o.length)return!1;for(let s=0;s<t.length;s+=1)if(t[s]!==o[s]||r[t[s]]!==e[o[s]])return!1;return!0}});var rr=T(Sr=>{"use strict";Object.defineProperty(Sr,"__esModule",{value:!0});Sr.EndpointMap=void 0;Sr.isTcpSubchannelAddress=Mc;Sr.subchannelAddressEqual=Zh;Sr.subchannelAddressToString=U3;Sr.stringToSubchannelAddress=oue;Sr.endpointEqual=sue;Sr.endpointToString=aue;Sr.endpointHasAddress=k3;var D3=V("net");function Mc(r){return"port"in r}function Zh(r,e){return!r&&!e?!0:!r||!e?!1:Mc(r)?Mc(e)&&r.host===e.host&&r.port===e.port:!Mc(e)&&r.path===e.path}function U3(r){return Mc(r)?(0,D3.isIPv6)(r.host)?"["+r.host+"]:"+r.port:r.host+":"+r.port:r.path}var iue=443;function oue(r,e){return(0,D3.isIP)(r)?{host:r,port:e??iue}:{path:r}}function sue(r,e){if(r.addresses.length!==e.addresses.length)return!1;for(let t=0;t<r.addresses.length;t++)if(!Zh(r.addresses[t],e.addresses[t]))return!1;return!0}function aue(r){return"["+r.addresses.map(U3).join(", ")+"]"}function k3(r,e){for(let t of r.addresses)if(Zh(t,e))return!0;return!1}function xc(r,e){if(r.addresses.length!==e.addresses.length)return!1;for(let t of r.addresses){let o=!1;for(let s of e.addresses)if(Zh(t,s)){o=!0;break}if(!o)return!1}return!0}var Fv=class{constructor(){this.map=new Set}get size(){return this.map.size}getForSubchannelAddress(e){for(let t of this.map)if(k3(t.key,e))return t.value}deleteMissing(e){let t=[];for(let o of this.map){let s=!1;for(let a of e)xc(a,o.key)&&(s=!0);s||(t.push(o.value),this.map.delete(o))}return t}get(e){for(let t of this.map)if(xc(e,t.key))return t.value}set(e,t){for(let o of this.map)if(xc(e,o.key)){o.value=t;return}this.map.add({key:e,value:t})}delete(e){for(let t of this.map)if(xc(e,t.key)){this.map.delete(t);return}}has(e){for(let t of this.map)if(xc(e,t.key))return!0;return!1}clear(){this.map.clear()}*keys(){for(let e of this.map)yield e.key}*values(){for(let e of this.map)yield e.value}*entries(){for(let e of this.map)yield[e.key,e.value]}};Sr.EndpointMap=Fv});var V3={};Ae(V3,{OrderedMap:()=>_ue});function oa(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Gv(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}function lue(r,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},o,s,a,i;return i={next:n(0),throw:n(1),return:n(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function n(c){return function(u){return l([c,u])}}function l(c){if(o)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(t=0)),t;)try{if(o=1,s&&(a=c[0]&2?s.return:c[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,c[1])).done)return a;switch(s=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,s=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){t.label=c[1];break}if(c[0]===6&&t.label<a[1]){t.label=a[1],a=c;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(c);break}a[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(r,t)}catch(u){c=[6,u],s=0}finally{o=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function lo(){throw new RangeError("Iterator access denied!")}var Gv,B3,cue,uue,fue,pue,due,hue,En,_ue,F3=p(()=>{Gv=function(r,e){return Gv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])},Gv(r,e)};B3=function(){function r(e,t,o){o===void 0&&(o=1),this.t=void 0,this.i=void 0,this.h=void 0,this.u=e,this.o=t,this.l=o}return r.prototype.v=function(){var e=this,t=e.h.h===e;if(t&&e.l===1)e=e.i;else if(e.t)for(e=e.t;e.i;)e=e.i;else{if(t)return e.h;for(var o=e.h;o.t===e;)e=o,o=e.h;e=o}return e},r.prototype.p=function(){var e=this;if(e.i){for(e=e.i;e.t;)e=e.t;return e}else{for(var t=e.h;t.i===e;)e=t,t=e.h;return e.i!==t?t:e}},r.prototype.T=function(){var e=this.h,t=this.i,o=t.t;return e.h===this?e.h=t:e.t===this?e.t=t:e.i=t,t.h=e,t.t=this,this.h=t,this.i=o,o&&(o.h=this),t},r.prototype.I=function(){var e=this.h,t=this.t,o=t.i;return e.h===this?e.h=t:e.t===this?e.t=t:e.i=t,t.h=e,t.i=this,this.h=t,this.t=o,o&&(o.h=this),t},r}(),cue=function(r){oa(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.O=1,t}return e.prototype.T=function(){var t=r.prototype.T.call(this);return this.M(),t.M(),t},e.prototype.I=function(){var t=r.prototype.I.call(this);return this.M(),t.M(),t},e.prototype.M=function(){this.O=1,this.t&&(this.O+=this.t.O),this.i&&(this.O+=this.i.O)},e}(B3),uue=function(){function r(e){e===void 0&&(e=0),this.iteratorType=e}return r.prototype.equals=function(e){return this.C===e.C},r}(),fue=function(){function r(){this._=0}return Object.defineProperty(r.prototype,"length",{get:function(){return this._},enumerable:!1,configurable:!0}),r.prototype.size=function(){return this._},r.prototype.empty=function(){return this._===0},r}(),pue=function(r){oa(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e}(fue);due=function(r){oa(e,r);function e(t,o){t===void 0&&(t=function(a,i){return a<i?-1:a>i?1:0}),o===void 0&&(o=!1);var s=r.call(this)||this;return s.N=void 0,s.g=t,s.enableIndex=o,s.S=o?cue:B3,s.A=new s.S,s}return e.prototype.m=function(t,o){for(var s=this.A;t;){var a=this.g(t.u,o);if(a<0)t=t.i;else if(a>0)s=t,t=t.t;else return t}return s},e.prototype.B=function(t,o){for(var s=this.A;t;){var a=this.g(t.u,o);a<=0?t=t.i:(s=t,t=t.t)}return s},e.prototype.j=function(t,o){for(var s=this.A;t;){var a=this.g(t.u,o);if(a<0)s=t,t=t.i;else if(a>0)t=t.t;else return t}return s},e.prototype.k=function(t,o){for(var s=this.A;t;){var a=this.g(t.u,o);a<0?(s=t,t=t.i):t=t.t}return s},e.prototype.R=function(t){for(;;){var o=t.h;if(o===this.A)return;if(t.l===1){t.l=0;return}if(t===o.t){var s=o.i;if(s.l===1)s.l=0,o.l=1,o===this.N?this.N=o.T():o.T();else if(s.i&&s.i.l===1){s.l=o.l,o.l=0,s.i.l=0,o===this.N?this.N=o.T():o.T();return}else s.t&&s.t.l===1?(s.l=1,s.t.l=0,s.I()):(s.l=1,t=o)}else{var s=o.t;if(s.l===1)s.l=0,o.l=1,o===this.N?this.N=o.I():o.I();else if(s.t&&s.t.l===1){s.l=o.l,o.l=0,s.t.l=0,o===this.N?this.N=o.I():o.I();return}else s.i&&s.i.l===1?(s.l=1,s.i.l=0,s.T()):(s.l=1,t=o)}}},e.prototype.G=function(t){if(this._===1){this.clear();return}for(var o=t;o.t||o.i;){if(o.i)for(o=o.i;o.t;)o=o.t;else o=o.t;var s=t.u;t.u=o.u,o.u=s;var a=t.o;t.o=o.o,o.o=a,t=o}this.A.t===o?this.A.t=o.h:this.A.i===o&&(this.A.i=o.h),this.R(o);var i=o.h;if(o===i.t?i.t=void 0:i.i=void 0,this._-=1,this.N.l=0,this.enableIndex)for(;i!==this.A;)i.O-=1,i=i.h},e.prototype.P=function(t){for(var o=typeof t=="number"?t:void 0,s=typeof t=="function"?t:void 0,a=typeof t>"u"?[]:void 0,i=0,n=this.N,l=[];l.length||n;)if(n)l.push(n),n=n.t;else{if(n=l.pop(),i===o)return n;a&&a.push(n),s&&s(n,i,this),i+=1,n=n.i}return a},e.prototype.q=function(t){for(;;){var o=t.h;if(o.l===0)return;var s=o.h;if(o===s.t){var a=s.i;if(a&&a.l===1){if(a.l=o.l=0,s===this.N)return;s.l=1,t=s;continue}else if(t===o.i){if(t.l=0,t.t&&(t.t.h=o),t.i&&(t.i.h=s),o.i=t.t,s.t=t.i,t.t=o,t.i=s,s===this.N)this.N=t,this.A.h=t;else{var i=s.h;i.t===s?i.t=t:i.i=t}t.h=s.h,o.h=t,s.h=t,s.l=1}else{o.l=0,s===this.N?this.N=s.I():s.I(),s.l=1;return}}else{var a=s.t;if(a&&a.l===1){if(a.l=o.l=0,s===this.N)return;s.l=1,t=s;continue}else if(t===o.t){if(t.l=0,t.t&&(t.t.h=s),t.i&&(t.i.h=o),s.i=t.t,o.t=t.i,t.t=s,t.i=o,s===this.N)this.N=t,this.A.h=t;else{var i=s.h;i.t===s?i.t=t:i.i=t}t.h=s.h,o.h=t,s.h=t,s.l=1}else{o.l=0,s===this.N?this.N=s.T():s.T(),s.l=1;return}}this.enableIndex&&(o.M(),s.M(),t.M());return}},e.prototype.D=function(t,o,s){if(this.N===void 0)return this._+=1,this.N=new this.S(t,o,0),this.N.h=this.A,this.A.h=this.A.t=this.A.i=this.N,this._;var a,i=this.A.t,n=this.g(i.u,t);if(n===0)return i.o=o,this._;if(n>0)i.t=new this.S(t,o),i.t.h=i,a=i.t,this.A.t=a;else{var l=this.A.i,c=this.g(l.u,t);if(c===0)return l.o=o,this._;if(c<0)l.i=new this.S(t,o),l.i.h=l,a=l.i,this.A.i=a;else{if(s!==void 0){var u=s.C;if(u!==this.A){var f=this.g(u.u,t);if(f===0)return u.o=o,this._;if(f>0){var _=u.v(),m=this.g(_.u,t);if(m===0)return _.o=o,this._;m<0&&(a=new this.S(t,o),_.i===void 0?(_.i=a,a.h=_):(u.t=a,a.h=u))}}}if(a===void 0)for(a=this.N;;){var O=this.g(a.u,t);if(O>0){if(a.t===void 0){a.t=new this.S(t,o),a.t.h=a,a=a.t;break}a=a.t}else if(O<0){if(a.i===void 0){a.i=new this.S(t,o),a.i.h=a,a=a.i;break}a=a.i}else return a.o=o,this._}}}if(this.enableIndex)for(var y=a.h;y!==this.A;)y.O+=1,y=y.h;return this.q(a),this._+=1,this._},e.prototype.F=function(t,o){for(;t;){var s=this.g(t.u,o);if(s<0)t=t.i;else if(s>0)t=t.t;else return t}return t||this.A},e.prototype.clear=function(){this._=0,this.N=void 0,this.A.h=void 0,this.A.t=this.A.i=void 0},e.prototype.updateKeyByIterator=function(t,o){var s=t.C;if(s===this.A&&lo(),this._===1)return s.u=o,!0;var a=s.p().u;if(s===this.A.t)return this.g(a,o)>0?(s.u=o,!0):!1;var i=s.v().u;return s===this.A.i?this.g(i,o)<0?(s.u=o,!0):!1:this.g(i,o)>=0||this.g(a,o)<=0?!1:(s.u=o,!0)},e.prototype.eraseElementByPos=function(t){if(t<0||t>this._-1)throw new RangeError;var o=this.P(t);return this.G(o),this._},e.prototype.eraseElementByKey=function(t){if(this._===0)return!1;var o=this.F(this.N,t);return o===this.A?!1:(this.G(o),!0)},e.prototype.eraseElementByIterator=function(t){var o=t.C;o===this.A&&lo();var s=o.i===void 0,a=t.iteratorType===0;return a?s&&t.next():(!s||o.t===void 0)&&t.next(),this.G(o),t},e.prototype.getHeight=function(){if(this._===0)return 0;function t(o){return o?Math.max(t(o.t),t(o.i))+1:0}return t(this.N)},e}(pue),hue=function(r){oa(e,r);function e(t,o,s){var a=r.call(this,s)||this;return a.C=t,a.A=o,a.iteratorType===0?(a.pre=function(){return this.C===this.A.t&&lo(),this.C=this.C.v(),this},a.next=function(){return this.C===this.A&&lo(),this.C=this.C.p(),this}):(a.pre=function(){return this.C===this.A.i&&lo(),this.C=this.C.p(),this},a.next=function(){return this.C===this.A&&lo(),this.C=this.C.v(),this}),a}return Object.defineProperty(e.prototype,"index",{get:function(){var t=this.C,o=this.A.h;if(t===this.A)return o?o.O-1:0;var s=0;for(t.t&&(s+=t.t.O);t!==o;){var a=t.h;t===a.i&&(s+=1,a.t&&(s+=a.t.O)),t=a}return s},enumerable:!1,configurable:!0}),e.prototype.isAccessible=function(){return this.C!==this.A},e}(uue),En=function(r){oa(e,r);function e(t,o,s,a){var i=r.call(this,t,o,a)||this;return i.container=s,i}return Object.defineProperty(e.prototype,"pointer",{get:function(){this.C===this.A&&lo();var t=this;return new Proxy([],{get:function(o,s){return s==="0"?t.C.u:s==="1"?t.C.o:(o[0]=t.C.u,o[1]=t.C.o,o[s])},set:function(o,s,a){if(s!=="1")throw new TypeError("prop must be 1");return t.C.o=a,!0}})},enumerable:!1,configurable:!0}),e.prototype.copy=function(){return new e(this.C,this.A,this.container,this.iteratorType)},e}(hue),_ue=function(r){oa(e,r);function e(t,o,s){t===void 0&&(t=[]);var a=r.call(this,o,s)||this,i=a;return t.forEach(function(n){i.setElement(n[0],n[1])}),a}return e.prototype.begin=function(){return new En(this.A.t||this.A,this.A,this)},e.prototype.end=function(){return new En(this.A,this.A,this)},e.prototype.rBegin=function(){return new En(this.A.i||this.A,this.A,this,1)},e.prototype.rEnd=function(){return new En(this.A,this.A,this,1)},e.prototype.front=function(){if(this._!==0){var t=this.A.t;return[t.u,t.o]}},e.prototype.back=function(){if(this._!==0){var t=this.A.i;return[t.u,t.o]}},e.prototype.lowerBound=function(t){var o=this.m(this.N,t);return new En(o,this.A,this)},e.prototype.upperBound=function(t){var o=this.B(this.N,t);return new En(o,this.A,this)},e.prototype.reverseLowerBound=function(t){var o=this.j(this.N,t);return new En(o,this.A,this)},e.prototype.reverseUpperBound=function(t){var o=this.k(this.N,t);return new En(o,this.A,this)},e.prototype.forEach=function(t){this.P(function(o,s,a){t([o.u,o.o],s,a)})},e.prototype.setElement=function(t,o,s){return this.D(t,o,s)},e.prototype.getElementByPos=function(t){if(t<0||t>this._-1)throw new RangeError;var o=this.P(t);return[o.u,o.o]},e.prototype.find=function(t){var o=this.F(this.N,t);return new En(o,this.A,this)},e.prototype.getElementByKey=function(t){var o=this.F(this.N,t);return o.o},e.prototype.union=function(t){var o=this;return t.forEach(function(s){o.setElement(s[0],s[1])}),this._},e.prototype[Symbol.iterator]=function(){var t,o,s,a;return lue(this,function(i){switch(i.label){case 0:t=this._,o=this.P(),s=0,i.label=1;case 1:return s<t?(a=o[s],[4,[a.u,a.o]]):[3,4];case 2:i.sent(),i.label=3;case 3:return++s,[3,1];case 4:return[2]}})},e}(due)});var t_=T(e_=>{"use strict";Object.defineProperty(e_,"__esModule",{value:!0});e_.registerAdminService=Eue;e_.addAdminServicesToServer=mue;var G3=[];function Eue(r,e){G3.push({getServiceDefinition:r,getHandlers:e})}function mue(r){for(let{getServiceDefinition:e,getHandlers:t}of G3)r.addService(e(),t())}});var H3=T(gr=>{"use strict";Object.defineProperty(gr,"__esModule",{value:!0});gr.ClientDuplexStreamImpl=gr.ClientWritableStreamImpl=gr.ClientReadableStreamImpl=gr.ClientUnaryCallImpl=void 0;gr.callErrorFromStatus=Sue;var Tue=V("events"),Kv=V("stream"),wc=ue();function Sue(r,e){let t=`${r.code} ${wc.Status[r.code]}: ${r.details}`,s=`${new Error(t).stack}
for call at
${e}`;return Object.assign(new Error(t),r,{stack:s})}var Hv=class extends Tue.EventEmitter{constructor(){super()}cancel(){var e;(e=this.call)===null||e===void 0||e.cancelWithStatus(wc.Status.CANCELLED,"Cancelled on client")}getPeer(){var e,t;return(t=(e=this.call)===null||e===void 0?void 0:e.getPeer())!==null&&t!==void 0?t:"unknown"}};gr.ClientUnaryCallImpl=Hv;var qv=class extends Kv.Readable{constructor(e){super({objectMode:!0}),this.deserialize=e}cancel(){var e;(e=this.call)===null||e===void 0||e.cancelWithStatus(wc.Status.CANCELLED,"Cancelled on client")}getPeer(){var e,t;return(t=(e=this.call)===null||e===void 0?void 0:e.getPeer())!==null&&t!==void 0?t:"unknown"}_read(e){var t;(t=this.call)===null||t===void 0||t.startRead()}};gr.ClientReadableStreamImpl=qv;var jv=class extends Kv.Writable{constructor(e){super({objectMode:!0}),this.serialize=e}cancel(){var e;(e=this.call)===null||e===void 0||e.cancelWithStatus(wc.Status.CANCELLED,"Cancelled on client")}getPeer(){var e,t;return(t=(e=this.call)===null||e===void 0?void 0:e.getPeer())!==null&&t!==void 0?t:"unknown"}_write(e,t,o){var s;let a={callback:o},i=Number(t);Number.isNaN(i)||(a.flags=i),(s=this.call)===null||s===void 0||s.sendMessageWithContext(a,e)}_final(e){var t;(t=this.call)===null||t===void 0||t.halfClose(),e()}};gr.ClientWritableStreamImpl=jv;var Yv=class extends Kv.Duplex{constructor(e,t){super({objectMode:!0}),this.serialize=e,this.deserialize=t}cancel(){var e;(e=this.call)===null||e===void 0||e.cancelWithStatus(wc.Status.CANCELLED,"Cancelled on client")}getPeer(){var e,t;return(t=(e=this.call)===null||e===void 0?void 0:e.getPeer())!==null&&t!==void 0?t:"unknown"}_read(e){var t;(t=this.call)===null||t===void 0||t.startRead()}_write(e,t,o){var s;let a={callback:o},i=Number(t);Number.isNaN(i)||(a.flags=i),(s=this.call)===null||s===void 0||s.sendMessageWithContext(a,e)}_final(e){var t;(t=this.call)===null||t===void 0||t.halfClose(),e()}};gr.ClientDuplexStreamImpl=Yv});var q3=T(Dc=>{"use strict";Object.defineProperty(Dc,"__esModule",{value:!0});Dc.InterceptingListenerImpl=void 0;Dc.isInterceptingListener=gue;function gue(r){return r.onReceiveMetadata!==void 0&&r.onReceiveMetadata.length===1}var zv=class{constructor(e,t){this.listener=e,this.nextListener=t,this.processingMetadata=!1,this.hasPendingMessage=!1,this.processingMessage=!1,this.pendingStatus=null}processPendingMessage(){this.hasPendingMessage&&(this.nextListener.onReceiveMessage(this.pendingMessage),this.pendingMessage=null,this.hasPendingMessage=!1)}processPendingStatus(){this.pendingStatus&&this.nextListener.onReceiveStatus(this.pendingStatus)}onReceiveMetadata(e){this.processingMetadata=!0,this.listener.onReceiveMetadata(e,t=>{this.processingMetadata=!1,this.nextListener.onReceiveMetadata(t),this.processPendingMessage(),this.processPendingStatus()})}onReceiveMessage(e){this.processingMessage=!0,this.listener.onReceiveMessage(e,t=>{this.processingMessage=!1,this.processingMetadata?(this.pendingMessage=t,this.hasPendingMessage=!0):(this.nextListener.onReceiveMessage(t),this.processPendingStatus())})}onReceiveStatus(e){this.listener.onReceiveStatus(e,t=>{this.processingMetadata||this.processingMessage?this.pendingStatus=t:this.nextListener.onReceiveStatus(t)})}};Dc.InterceptingListenerImpl=zv});var ey=T(vr=>{"use strict";Object.defineProperty(vr,"__esModule",{value:!0});vr.InterceptingCall=vr.RequesterBuilder=vr.ListenerBuilder=vr.InterceptorConfigurationError=void 0;vr.getInterceptingCall=Aue;var vue=ht(),j3=q3(),Y3=ue(),K3=Uh(),kc=class r extends Error{constructor(e){super(e),this.name="InterceptorConfigurationError",Error.captureStackTrace(this,r)}};vr.InterceptorConfigurationError=kc;var Xv=class{constructor(){this.metadata=void 0,this.message=void 0,this.status=void 0}withOnReceiveMetadata(e){return this.metadata=e,this}withOnReceiveMessage(e){return this.message=e,this}withOnReceiveStatus(e){return this.status=e,this}build(){return{onReceiveMetadata:this.metadata,onReceiveMessage:this.message,onReceiveStatus:this.status}}};vr.ListenerBuilder=Xv;var Wv=class{constructor(){this.start=void 0,this.message=void 0,this.halfClose=void 0,this.cancel=void 0}withStart(e){return this.start=e,this}withSendMessage(e){return this.message=e,this}withHalfClose(e){return this.halfClose=e,this}withCancel(e){return this.cancel=e,this}build(){return{start:this.start,sendMessage:this.message,halfClose:this.halfClose,cancel:this.cancel}}};vr.RequesterBuilder=Wv;var $v={onReceiveMetadata:(r,e)=>{e(r)},onReceiveMessage:(r,e)=>{e(r)},onReceiveStatus:(r,e)=>{e(r)}},Uc={start:(r,e,t)=>{t(r,e)},sendMessage:(r,e)=>{e(r)},halfClose:r=>{r()},cancel:r=>{r()}},Jv=class{constructor(e,t){var o,s,a,i;this.nextCall=e,this.processingMetadata=!1,this.pendingMessageContext=null,this.processingMessage=!1,this.pendingHalfClose=!1,t?this.requester={start:(o=t.start)!==null&&o!==void 0?o:Uc.start,sendMessage:(s=t.sendMessage)!==null&&s!==void 0?s:Uc.sendMessage,halfClose:(a=t.halfClose)!==null&&a!==void 0?a:Uc.halfClose,cancel:(i=t.cancel)!==null&&i!==void 0?i:Uc.cancel}:this.requester=Uc}cancelWithStatus(e,t){this.requester.cancel(()=>{this.nextCall.cancelWithStatus(e,t)})}getPeer(){return this.nextCall.getPeer()}processPendingMessage(){this.pendingMessageContext&&(this.nextCall.sendMessageWithContext(this.pendingMessageContext,this.pendingMessage),this.pendingMessageContext=null,this.pendingMessage=null)}processPendingHalfClose(){this.pendingHalfClose&&this.nextCall.halfClose()}start(e,t){var o,s,a,i,n,l;let c={onReceiveMetadata:(s=(o=t==null?void 0:t.onReceiveMetadata)===null||o===void 0?void 0:o.bind(t))!==null&&s!==void 0?s:u=>{},onReceiveMessage:(i=(a=t==null?void 0:t.onReceiveMessage)===null||a===void 0?void 0:a.bind(t))!==null&&i!==void 0?i:u=>{},onReceiveStatus:(l=(n=t==null?void 0:t.onReceiveStatus)===null||n===void 0?void 0:n.bind(t))!==null&&l!==void 0?l:u=>{}};this.processingMetadata=!0,this.requester.start(e,c,(u,f)=>{var _,m,O;this.processingMetadata=!1;let y;if((0,j3.isInterceptingListener)(f))y=f;else{let A={onReceiveMetadata:(_=f.onReceiveMetadata)!==null&&_!==void 0?_:$v.onReceiveMetadata,onReceiveMessage:(m=f.onReceiveMessage)!==null&&m!==void 0?m:$v.onReceiveMessage,onReceiveStatus:(O=f.onReceiveStatus)!==null&&O!==void 0?O:$v.onReceiveStatus};y=new j3.InterceptingListenerImpl(A,c)}this.nextCall.start(u,y),this.processPendingMessage(),this.processPendingHalfClose()})}sendMessageWithContext(e,t){this.processingMessage=!0,this.requester.sendMessage(t,o=>{this.processingMessage=!1,this.processingMetadata?(this.pendingMessageContext=e,this.pendingMessage=t):(this.nextCall.sendMessageWithContext(e,o),this.processPendingHalfClose())})}sendMessage(e){this.sendMessageWithContext({},e)}startRead(){this.nextCall.startRead()}halfClose(){this.requester.halfClose(()=>{this.processingMetadata||this.processingMessage?this.pendingHalfClose=!0:this.nextCall.halfClose()})}};vr.InterceptingCall=Jv;function yue(r,e,t){var o,s;let a=(o=t.deadline)!==null&&o!==void 0?o:1/0,i=t.host,n=(s=t.parent)!==null&&s!==void 0?s:null,l=t.propagate_flags,c=t.credentials,u=r.createCall(e,a,i,n,l);return c&&u.setCredentials(c),u}var r_=class{constructor(e,t){this.call=e,this.methodDefinition=t}cancelWithStatus(e,t){this.call.cancelWithStatus(e,t)}getPeer(){return this.call.getPeer()}sendMessageWithContext(e,t){let o;try{o=this.methodDefinition.requestSerialize(t)}catch(s){this.call.cancelWithStatus(Y3.Status.INTERNAL,`Request message serialization failure: ${(0,K3.getErrorMessage)(s)}`);return}this.call.sendMessageWithContext(e,o)}sendMessage(e){this.sendMessageWithContext({},e)}start(e,t){let o=null;this.call.start(e,{onReceiveMetadata:s=>{var a;(a=t==null?void 0:t.onReceiveMetadata)===null||a===void 0||a.call(t,s)},onReceiveMessage:s=>{var a;let i;try{i=this.methodDefinition.responseDeserialize(s)}catch(n){o={code:Y3.Status.INTERNAL,details:`Response message parsing error: ${(0,K3.getErrorMessage)(n)}`,metadata:new vue.Metadata},this.call.cancelWithStatus(o.code,o.details);return}(a=t==null?void 0:t.onReceiveMessage)===null||a===void 0||a.call(t,i)},onReceiveStatus:s=>{var a,i;o?(a=t==null?void 0:t.onReceiveStatus)===null||a===void 0||a.call(t,o):(i=t==null?void 0:t.onReceiveStatus)===null||i===void 0||i.call(t,s)}})}startRead(){this.call.startRead()}halfClose(){this.call.halfClose()}},Qv=class extends r_{constructor(e,t){super(e,t)}start(e,t){var o,s;let a=!1,i={onReceiveMetadata:(s=(o=t==null?void 0:t.onReceiveMetadata)===null||o===void 0?void 0:o.bind(t))!==null&&s!==void 0?s:n=>{},onReceiveMessage:n=>{var l;a=!0,(l=t==null?void 0:t.onReceiveMessage)===null||l===void 0||l.call(t,n)},onReceiveStatus:n=>{var l,c;a||(l=t==null?void 0:t.onReceiveMessage)===null||l===void 0||l.call(t,null),(c=t==null?void 0:t.onReceiveStatus)===null||c===void 0||c.call(t,n)}};super.start(e,i),this.call.startRead()}},Zv=class extends r_{};function Oue(r,e,t){let o=yue(r,t.path,e);return t.responseStream?new Zv(o,t):new Qv(o,t)}function Aue(r,e,t,o){if(r.clientInterceptors.length>0&&r.clientInterceptorProviders.length>0)throw new kc("Both interceptors and interceptor_providers were passed as options to the client constructor. Only one of these is allowed.");if(r.callInterceptors.length>0&&r.callInterceptorProviders.length>0)throw new kc("Both interceptors and interceptor_providers were passed as call options. Only one of these is allowed.");let s=[];r.callInterceptors.length>0||r.callInterceptorProviders.length>0?s=[].concat(r.callInterceptors,r.callInterceptorProviders.map(n=>n(e))).filter(n=>n):s=[].concat(r.clientInterceptors,r.clientInterceptorProviders.map(n=>n(e))).filter(n=>n);let a=Object.assign({},t,{method_definition:e});return s.reduceRight((n,l)=>c=>l(c,n),n=>Oue(o,n,e))(a)}});var ny=T(i_=>{"use strict";Object.defineProperty(i_,"__esModule",{value:!0});i_.Client=void 0;var Kr=H3(),Rue=iy(),Nue=tr(),ni=ue(),sa=ht(),n_=ey(),yr=Symbol(),aa=Symbol(),la=Symbol(),mn=Symbol();function ty(r){return typeof r=="function"}function ca(r){var e;return((e=r.stack)===null||e===void 0?void 0:e.split(`
`).slice(1).join(`
`))||"no stack trace available"}var ry=class{constructor(e,t,o={}){var s,a;if(o=Object.assign({},o),this[aa]=(s=o.interceptors)!==null&&s!==void 0?s:[],delete o.interceptors,this[la]=(a=o.interceptor_providers)!==null&&a!==void 0?a:[],delete o.interceptor_providers,this[aa].length>0&&this[la].length>0)throw new Error("Both interceptors and interceptor_providers were passed as options to the client constructor. Only one of these is allowed.");if(this[mn]=o.callInvocationTransformer,delete o.callInvocationTransformer,o.channelOverride)this[yr]=o.channelOverride;else if(o.channelFactoryOverride){let i=o.channelFactoryOverride;delete o.channelFactoryOverride,this[yr]=i(e,t,o)}else this[yr]=new Rue.ChannelImplementation(e,t,o)}close(){this[yr].close()}getChannel(){return this[yr]}waitForReady(e,t){let o=s=>{if(s){t(new Error("Failed to connect before the deadline"));return}let a;try{a=this[yr].getConnectivityState(!0)}catch{t(new Error("The channel has been closed"));return}if(a===Nue.ConnectivityState.READY)t();else try{this[yr].watchConnectivityState(a,e,o)}catch{t(new Error("The channel has been closed"))}};setImmediate(o)}checkOptionalUnaryResponseArguments(e,t,o){if(ty(e))return{metadata:new sa.Metadata,options:{},callback:e};if(ty(t))return e instanceof sa.Metadata?{metadata:e,options:{},callback:t}:{metadata:new sa.Metadata,options:e,callback:t};if(!(e instanceof sa.Metadata&&t instanceof Object&&ty(o)))throw new Error("Incorrect arguments passed");return{metadata:e,options:t,callback:o}}makeUnaryRequest(e,t,o,s,a,i,n){var l,c;let u=this.checkOptionalUnaryResponseArguments(a,i,n),f={path:e,requestStream:!1,responseStream:!1,requestSerialize:t,responseDeserialize:o},_={argument:s,metadata:u.metadata,call:new Kr.ClientUnaryCallImpl,channel:this[yr],methodDefinition:f,callOptions:u.options,callback:u.callback};this[mn]&&(_=this[mn](_));let m=_.call,O={clientInterceptors:this[aa],clientInterceptorProviders:this[la],callInterceptors:(l=_.callOptions.interceptors)!==null&&l!==void 0?l:[],callInterceptorProviders:(c=_.callOptions.interceptor_providers)!==null&&c!==void 0?c:[]},y=(0,n_.getInterceptingCall)(O,_.methodDefinition,_.callOptions,_.channel);m.call=y;let A=null,I=!1,M=new Error;return y.start(_.metadata,{onReceiveMetadata:F=>{m.emit("metadata",F)},onReceiveMessage(F){A!==null&&y.cancelWithStatus(ni.Status.UNIMPLEMENTED,"Too many responses received"),A=F},onReceiveStatus(F){if(!I){if(I=!0,F.code===ni.Status.OK)if(A===null){let N=ca(M);_.callback((0,Kr.callErrorFromStatus)({code:ni.Status.UNIMPLEMENTED,details:"No message received",metadata:F.metadata},N))}else _.callback(null,A);else{let N=ca(M);_.callback((0,Kr.callErrorFromStatus)(F,N))}M=null,m.emit("status",F)}}}),y.sendMessage(s),y.halfClose(),m}makeClientStreamRequest(e,t,o,s,a,i){var n,l;let c=this.checkOptionalUnaryResponseArguments(s,a,i),u={path:e,requestStream:!0,responseStream:!1,requestSerialize:t,responseDeserialize:o},f={metadata:c.metadata,call:new Kr.ClientWritableStreamImpl(t),channel:this[yr],methodDefinition:u,callOptions:c.options,callback:c.callback};this[mn]&&(f=this[mn](f));let _=f.call,m={clientInterceptors:this[aa],clientInterceptorProviders:this[la],callInterceptors:(n=f.callOptions.interceptors)!==null&&n!==void 0?n:[],callInterceptorProviders:(l=f.callOptions.interceptor_providers)!==null&&l!==void 0?l:[]},O=(0,n_.getInterceptingCall)(m,f.methodDefinition,f.callOptions,f.channel);_.call=O;let y=null,A=!1,I=new Error;return O.start(f.metadata,{onReceiveMetadata:M=>{_.emit("metadata",M)},onReceiveMessage(M){y!==null&&O.cancelWithStatus(ni.Status.UNIMPLEMENTED,"Too many responses received"),y=M,O.startRead()},onReceiveStatus(M){if(!A){if(A=!0,M.code===ni.Status.OK)if(y===null){let F=ca(I);f.callback((0,Kr.callErrorFromStatus)({code:ni.Status.UNIMPLEMENTED,details:"No message received",metadata:M.metadata},F))}else f.callback(null,y);else{let F=ca(I);f.callback((0,Kr.callErrorFromStatus)(M,F))}I=null,_.emit("status",M)}}}),_}checkMetadataAndOptions(e,t){let o,s;return e instanceof sa.Metadata?(o=e,t?s=t:s={}):(e?s=e:s={},o=new sa.Metadata),{metadata:o,options:s}}makeServerStreamRequest(e,t,o,s,a,i){var n,l;let c=this.checkMetadataAndOptions(a,i),u={path:e,requestStream:!1,responseStream:!0,requestSerialize:t,responseDeserialize:o},f={argument:s,metadata:c.metadata,call:new Kr.ClientReadableStreamImpl(o),channel:this[yr],methodDefinition:u,callOptions:c.options};this[mn]&&(f=this[mn](f));let _=f.call,m={clientInterceptors:this[aa],clientInterceptorProviders:this[la],callInterceptors:(n=f.callOptions.interceptors)!==null&&n!==void 0?n:[],callInterceptorProviders:(l=f.callOptions.interceptor_providers)!==null&&l!==void 0?l:[]},O=(0,n_.getInterceptingCall)(m,f.methodDefinition,f.callOptions,f.channel);_.call=O;let y=!1,A=new Error;return O.start(f.metadata,{onReceiveMetadata(I){_.emit("metadata",I)},onReceiveMessage(I){_.push(I)},onReceiveStatus(I){if(!y){if(y=!0,_.push(null),I.code!==ni.Status.OK){let M=ca(A);_.emit("error",(0,Kr.callErrorFromStatus)(I,M))}A=null,_.emit("status",I)}}}),O.sendMessage(s),O.halfClose(),_}makeBidiStreamRequest(e,t,o,s,a){var i,n;let l=this.checkMetadataAndOptions(s,a),c={path:e,requestStream:!0,responseStream:!0,requestSerialize:t,responseDeserialize:o},u={metadata:l.metadata,call:new Kr.ClientDuplexStreamImpl(t,o),channel:this[yr],methodDefinition:c,callOptions:l.options};this[mn]&&(u=this[mn](u));let f=u.call,_={clientInterceptors:this[aa],clientInterceptorProviders:this[la],callInterceptors:(i=u.callOptions.interceptors)!==null&&i!==void 0?i:[],callInterceptorProviders:(n=u.callOptions.interceptor_providers)!==null&&n!==void 0?n:[]},m=(0,n_.getInterceptingCall)(_,u.methodDefinition,u.callOptions,u.channel);f.call=m;let O=!1,y=new Error;return m.start(u.metadata,{onReceiveMetadata(A){f.emit("metadata",A)},onReceiveMessage(A){f.push(A)},onReceiveStatus(A){if(!O){if(O=!0,f.push(null),A.code!==ni.Status.OK){let I=ca(y);f.emit("error",(0,Kr.callErrorFromStatus)(A,I))}y=null,f.emit("status",A)}}}),f}};i_.Client=ry});var sy=T(o_=>{"use strict";Object.defineProperty(o_,"__esModule",{value:!0});o_.makeClientConstructor=z3;o_.loadPackageDefinition=Lue;var Bc=ny(),Cue={unary:Bc.Client.prototype.makeUnaryRequest,server_stream:Bc.Client.prototype.makeServerStreamRequest,client_stream:Bc.Client.prototype.makeClientStreamRequest,bidi:Bc.Client.prototype.makeBidiStreamRequest};function oy(r){return["__proto__","prototype","constructor"].includes(r)}function z3(r,e,t){t||(t={});class o extends Bc.Client{}return Object.keys(r).forEach(s=>{if(oy(s))return;let a=r[s],i;if(typeof s=="string"&&s.charAt(0)==="$")throw new Error("Method names cannot start with $");a.requestStream?a.responseStream?i="bidi":i="client_stream":a.responseStream?i="server_stream":i="unary";let n=a.requestSerialize,l=a.responseDeserialize,c=Pue(Cue[i],a.path,n,l);o.prototype[s]=c,Object.assign(o.prototype[s],a),a.originalName&&!oy(a.originalName)&&(o.prototype[a.originalName]=o.prototype[s])}),o.service=r,o.serviceName=e,o}function Pue(r,e,t,o){return function(...s){return r.call(this,e,t,o,...s)}}function Iue(r){return"format"in r}function Lue(r){let e={};for(let t in r)if(Object.prototype.hasOwnProperty.call(r,t)){let o=r[t],s=t.split(".");if(s.some(n=>oy(n)))continue;let a=s[s.length-1],i=e;for(let n of s.slice(0,-1))i[n]||(i[n]={}),i=i[n];Iue(o)?i[a]=o:i[a]=z3(o,a,{})}return e}});var TH=T((VVe,mH)=>{var bue=1/0,xue="[object Symbol]",Mue=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,wue=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,a_="\\ud800-\\udfff",tH="\\u0300-\\u036f\\ufe20-\\ufe23",rH="\\u20d0-\\u20f0",nH="\\u2700-\\u27bf",iH="a-z\\xdf-\\xf6\\xf8-\\xff",Due="\\xac\\xb1\\xd7\\xf7",Uue="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",kue="\\u2000-\\u206f",Bue=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",oH="A-Z\\xc0-\\xd6\\xd8-\\xde",sH="\\ufe0e\\ufe0f",aH=Due+Uue+kue+Bue,ly="['\u2019]",Vue="["+a_+"]",$3="["+aH+"]",s_="["+tH+rH+"]",lH="\\d+",Fue="["+nH+"]",cH="["+iH+"]",uH="[^"+a_+aH+lH+nH+iH+oH+"]",ay="\\ud83c[\\udffb-\\udfff]",Gue="(?:"+s_+"|"+ay+")",fH="[^"+a_+"]",cy="(?:\\ud83c[\\udde6-\\uddff]){2}",uy="[\\ud800-\\udbff][\\udc00-\\udfff]",ua="["+oH+"]",pH="\\u200d",X3="(?:"+cH+"|"+uH+")",Hue="(?:"+ua+"|"+uH+")",W3="(?:"+ly+"(?:d|ll|m|re|s|t|ve))?",J3="(?:"+ly+"(?:D|LL|M|RE|S|T|VE))?",dH=Gue+"?",hH="["+sH+"]?",que="(?:"+pH+"(?:"+[fH,cy,uy].join("|")+")"+hH+dH+")*",_H=hH+dH+que,jue="(?:"+[Fue,cy,uy].join("|")+")"+_H,Yue="(?:"+[fH+s_+"?",s_,cy,uy,Vue].join("|")+")",Kue=RegExp(ly,"g"),zue=RegExp(s_,"g"),$ue=RegExp(ay+"(?="+ay+")|"+Yue+_H,"g"),Xue=RegExp([ua+"?"+cH+"+"+W3+"(?="+[$3,ua,"$"].join("|")+")",Hue+"+"+J3+"(?="+[$3,ua+X3,"$"].join("|")+")",ua+"?"+X3+"+"+W3,ua+"+"+J3,lH,jue].join("|"),"g"),Wue=RegExp("["+pH+a_+tH+rH+sH+"]"),Jue=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Que={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"ss"},Zue=typeof global=="object"&&global&&global.Object===Object&&global,efe=typeof self=="object"&&self&&self.Object===Object&&self,tfe=Zue||efe||Function("return this")();function rfe(r,e,t,o){var s=-1,a=r?r.length:0;for(o&&a&&(t=r[++s]);++s<a;)t=e(t,r[s],s,r);return t}function nfe(r){return r.split("")}function ife(r){return r.match(Mue)||[]}function ofe(r){return function(e){return r==null?void 0:r[e]}}var sfe=ofe(Que);function EH(r){return Wue.test(r)}function afe(r){return Jue.test(r)}function lfe(r){return EH(r)?cfe(r):nfe(r)}function cfe(r){return r.match($ue)||[]}function ufe(r){return r.match(Xue)||[]}var ffe=Object.prototype,pfe=ffe.toString,Q3=tfe.Symbol,Z3=Q3?Q3.prototype:void 0,eH=Z3?Z3.toString:void 0;function dfe(r,e,t){var o=-1,s=r.length;e<0&&(e=-e>s?0:s+e),t=t>s?s:t,t<0&&(t+=s),s=e>t?0:t-e>>>0,e>>>=0;for(var a=Array(s);++o<s;)a[o]=r[o+e];return a}function hfe(r){if(typeof r=="string")return r;if(Sfe(r))return eH?eH.call(r):"";var e=r+"";return e=="0"&&1/r==-bue?"-0":e}function _fe(r,e,t){var o=r.length;return t=t===void 0?o:t,!e&&t>=o?r:dfe(r,e,t)}function Efe(r){return function(e){e=l_(e);var t=EH(e)?lfe(e):void 0,o=t?t[0]:e.charAt(0),s=t?_fe(t,1).join(""):e.slice(1);return o[r]()+s}}function mfe(r){return function(e){return rfe(Afe(yfe(e).replace(Kue,"")),r,"")}}function Tfe(r){return!!r&&typeof r=="object"}function Sfe(r){return typeof r=="symbol"||Tfe(r)&&pfe.call(r)==xue}function l_(r){return r==null?"":hfe(r)}var gfe=mfe(function(r,e,t){return e=e.toLowerCase(),r+(t?vfe(e):e)});function vfe(r){return Ofe(l_(r).toLowerCase())}function yfe(r){return r=l_(r),r&&r.replace(wue,sfe).replace(zue,"")}var Ofe=Efe("toUpperCase");function Afe(r,e,t){return r=l_(r),e=t?void 0:e,e===void 0?afe(r)?ufe(r):ife(r):r.match(e)||[]}mH.exports=gfe});var gH=T((FVe,SH)=>{"use strict";SH.exports=fy;function fy(r,e){typeof r=="string"&&(e=r,r=void 0);var t=[];function o(a){if(typeof a!="string"){var i=s();if(fy.verbose&&console.log("codegen: "+i),i="return "+i,a){for(var n=Object.keys(a),l=new Array(n.length+1),c=new Array(n.length),u=0;u<n.length;)l[u]=n[u],c[u]=a[n[u++]];return l[u]=i,Function.apply(null,l).apply(null,c)}return Function(i)()}for(var f=new Array(arguments.length-1),_=0;_<f.length;)f[_]=arguments[++_];if(_=0,a=a.replace(/%([%dfijs])/g,function(O,y){var A=f[_++];switch(y){case"d":case"f":return String(Number(A));case"i":return String(Math.floor(A));case"j":return JSON.stringify(A);case"s":return String(A)}return"%"}),_!==f.length)throw Error("parameter count mismatch");return t.push(a),o}function s(a){return"function "+(a||e||"")+"("+(r&&r.join(",")||"")+`){
  `+t.join(`
  `)+`
}`}return o.toString=s,o}fy.verbose=!1});var yH=T((GVe,vH)=>{"use strict";vH.exports=Vc;var Rfe=Xg(),Nfe=Wg(),py=Nfe("fs");function Vc(r,e,t){return typeof e=="function"?(t=e,e={}):e||(e={}),t?!e.xhr&&py&&py.readFile?py.readFile(r,function(s,a){return s&&typeof XMLHttpRequest<"u"?Vc.xhr(r,e,t):s?t(s):t(null,e.binary?a:a.toString("utf8"))}):Vc.xhr(r,e,t):Rfe(Vc,this,r,e)}Vc.xhr=function(e,t,o){var s=new XMLHttpRequest;s.onreadystatechange=function(){if(s.readyState===4){if(s.status!==0&&s.status!==200)return o(Error("status "+s.status));if(t.binary){var i=s.response;if(!i){i=[];for(var n=0;n<s.responseText.length;++n)i.push(s.responseText.charCodeAt(n)&255)}return o(null,typeof Uint8Array<"u"?new Uint8Array(i):i)}return o(null,s.responseText)}},t.binary&&("overrideMimeType"in s&&s.overrideMimeType("text/plain; charset=x-user-defined"),s.responseType="arraybuffer"),s.open("GET",e),s.send()}});var RH=T(AH=>{"use strict";var hy=AH,OH=hy.isAbsolute=function(e){return/^(?:\/|\w+:)/.test(e)},dy=hy.normalize=function(e){e=e.replace(/\\/g,"/").replace(/\/{2,}/g,"/");var t=e.split("/"),o=OH(e),s="";o&&(s=t.shift()+"/");for(var a=0;a<t.length;)t[a]===".."?a>0&&t[a-1]!==".."?t.splice(--a,2):o?t.splice(a,1):++a:t[a]==="."?t.splice(a,1):++a;return s+t.join("/")};hy.resolve=function(e,t,o){return o||(t=dy(t)),OH(t)?t:(o||(e=dy(e)),(e=e.replace(/(?:\/|^)[^/]+$/,"")).length?dy(e+"/"+t):t)}});var pa=T((qVe,PH)=>{"use strict";PH.exports=pe;var c_=oi();((pe.prototype=Object.create(c_.prototype)).constructor=pe).className="Namespace";var _y=ii(),u_=rt(),Cfe=fo(),co,fa,uo;pe.fromJSON=function(e,t){return new pe(e,t.options).addJSON(t.nested)};function NH(r,e){if(r&&r.length){for(var t={},o=0;o<r.length;++o)t[r[o].name]=r[o].toJSON(e);return t}}pe.arrayToJSON=NH;pe.isReservedId=function(e,t){if(e){for(var o=0;o<e.length;++o)if(typeof e[o]!="string"&&e[o][0]<=t&&e[o][1]>t)return!0}return!1};pe.isReservedName=function(e,t){if(e){for(var o=0;o<e.length;++o)if(e[o]===t)return!0}return!1};function pe(r,e){c_.call(this,r,e),this.nested=void 0,this._nestedArray=null,this._lookupCache={},this._needsRecursiveFeatureResolution=!0,this._needsRecursiveResolve=!0}function CH(r){r._nestedArray=null,r._lookupCache={};for(var e=r;e=e.parent;)e._lookupCache={};return r}Object.defineProperty(pe.prototype,"nestedArray",{get:function(){return this._nestedArray||(this._nestedArray=u_.toArray(this.nested))}});pe.prototype.toJSON=function(e){return u_.toObject(["options",this.options,"nested",NH(this.nestedArray,e)])};pe.prototype.addJSON=function(e){var t=this;if(e)for(var o=Object.keys(e),s=0,a;s<o.length;++s)a=e[o[s]],t.add((a.fields!==void 0?co.fromJSON:a.values!==void 0?uo.fromJSON:a.methods!==void 0?fa.fromJSON:a.id!==void 0?_y.fromJSON:pe.fromJSON)(o[s],a));return this};pe.prototype.get=function(e){return this.nested&&this.nested[e]||null};pe.prototype.getEnum=function(e){if(this.nested&&this.nested[e]instanceof uo)return this.nested[e].values;throw Error("no such enum: "+e)};pe.prototype.add=function(e){if(!(e instanceof _y&&e.extend!==void 0||e instanceof co||e instanceof Cfe||e instanceof uo||e instanceof fa||e instanceof pe))throw TypeError("object must be a valid nested object");if(!this.nested)this.nested={};else{var t=this.get(e.name);if(t)if(t instanceof pe&&e instanceof pe&&!(t instanceof co||t instanceof fa)){for(var o=t.nestedArray,s=0;s<o.length;++s)e.add(o[s]);this.remove(t),this.nested||(this.nested={}),e.setOptions(t.options,!0)}else throw Error("duplicate name '"+e.name+"' in "+this)}this.nested[e.name]=e,this instanceof co||this instanceof fa||this instanceof uo||this instanceof _y||e._edition||(e._edition=e._defaultEdition),this._needsRecursiveFeatureResolution=!0,this._needsRecursiveResolve=!0;for(var a=this;a=a.parent;)a._needsRecursiveFeatureResolution=!0,a._needsRecursiveResolve=!0;return e.onAdd(this),CH(this)};pe.prototype.remove=function(e){if(!(e instanceof c_))throw TypeError("object must be a ReflectionObject");if(e.parent!==this)throw Error(e+" is not a member of "+this);return delete this.nested[e.name],Object.keys(this.nested).length||(this.nested=void 0),e.onRemove(this),CH(this)};pe.prototype.define=function(e,t){if(u_.isString(e))e=e.split(".");else if(!Array.isArray(e))throw TypeError("illegal path");if(e&&e.length&&e[0]==="")throw Error("path must be relative");for(var o=this;e.length>0;){var s=e.shift();if(o.nested&&o.nested[s]){if(o=o.nested[s],!(o instanceof pe))throw Error("path conflicts with non-namespace objects")}else o.add(o=new pe(s))}return t&&o.addJSON(t),o};pe.prototype.resolveAll=function(){if(!this._needsRecursiveResolve)return this;this._resolveFeaturesRecursive(this._edition);var e=this.nestedArray,t=0;for(this.resolve();t<e.length;)e[t]instanceof pe?e[t++].resolveAll():e[t++].resolve();return this._needsRecursiveResolve=!1,this};pe.prototype._resolveFeaturesRecursive=function(e){return this._needsRecursiveFeatureResolution?(this._needsRecursiveFeatureResolution=!1,e=this._edition||e,c_.prototype._resolveFeaturesRecursive.call(this,e),this.nestedArray.forEach(t=>{t._resolveFeaturesRecursive(e)}),this):this};pe.prototype.lookup=function(e,t,o){if(typeof t=="boolean"?(o=t,t=void 0):t&&!Array.isArray(t)&&(t=[t]),u_.isString(e)&&e.length){if(e===".")return this.root;e=e.split(".")}else if(!e.length)return this;var s=e.join(".");if(e[0]==="")return this.root.lookup(e.slice(1),t);var a=this.root._fullyQualifiedObjects&&this.root._fullyQualifiedObjects["."+s];if(a&&(!t||t.indexOf(a.constructor)>-1)||(a=this._lookupImpl(e,s),a&&(!t||t.indexOf(a.constructor)>-1)))return a;if(o)return null;for(var i=this;i.parent;){if(a=i.parent._lookupImpl(e,s),a&&(!t||t.indexOf(a.constructor)>-1))return a;i=i.parent}return null};pe.prototype._lookupImpl=function(e,t){if(Object.prototype.hasOwnProperty.call(this._lookupCache,t))return this._lookupCache[t];var o=this.get(e[0]),s=null;if(o)e.length===1?s=o:o instanceof pe&&(e=e.slice(1),s=o._lookupImpl(e,e.join(".")));else for(var a=0;a<this.nestedArray.length;++a)this._nestedArray[a]instanceof pe&&(o=this._nestedArray[a]._lookupImpl(e,t))&&(s=o);return this._lookupCache[t]=s,s};pe.prototype.lookupType=function(e){var t=this.lookup(e,[co]);if(!t)throw Error("no such type: "+e);return t};pe.prototype.lookupEnum=function(e){var t=this.lookup(e,[uo]);if(!t)throw Error("no such Enum '"+e+"' in "+this);return t};pe.prototype.lookupTypeOrEnum=function(e){var t=this.lookup(e,[co,uo]);if(!t)throw Error("no such Type or Enum '"+e+"' in "+this);return t};pe.prototype.lookupService=function(e){var t=this.lookup(e,[fa]);if(!t)throw Error("no such Service '"+e+"' in "+this);return t};pe._configure=function(r,e,t){co=r,fa=e,uo=t}});var f_=T((jVe,IH)=>{"use strict";IH.exports=Tn;var Ey=ii();((Tn.prototype=Object.create(Ey.prototype)).constructor=Tn).className="MapField";var Pfe=po(),Fc=rt();function Tn(r,e,t,o,s,a){if(Ey.call(this,r,e,o,void 0,void 0,s,a),!Fc.isString(t))throw TypeError("keyType must be a string");this.keyType=t,this.resolvedKeyType=null,this.map=!0}Tn.fromJSON=function(e,t){return new Tn(e,t.id,t.keyType,t.type,t.options,t.comment)};Tn.prototype.toJSON=function(e){var t=e?!!e.keepComments:!1;return Fc.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:void 0])};Tn.prototype.resolve=function(){if(this.resolved)return this;if(Pfe.mapKey[this.keyType]===void 0)throw Error("invalid key type: "+this.keyType);return Ey.prototype.resolve.call(this)};Tn.d=function(e,t,o){return typeof o=="function"?o=Fc.decorateType(o).name:o&&typeof o=="object"&&(o=Fc.decorateEnum(o).name),function(a,i){Fc.decorateType(a.constructor).add(new Tn(i,e,t,o))}}});var p_=T((YVe,LH)=>{"use strict";LH.exports=ho;var my=oi();((ho.prototype=Object.create(my.prototype)).constructor=ho).className="Method";var da=rt();function ho(r,e,t,o,s,a,i,n,l){if(da.isObject(s)?(i=s,s=a=void 0):da.isObject(a)&&(i=a,a=void 0),!(e===void 0||da.isString(e)))throw TypeError("type must be a string");if(!da.isString(t))throw TypeError("requestType must be a string");if(!da.isString(o))throw TypeError("responseType must be a string");my.call(this,r,i),this.type=e||"rpc",this.requestType=t,this.requestStream=s?!0:void 0,this.responseType=o,this.responseStream=a?!0:void 0,this.resolvedRequestType=null,this.resolvedResponseType=null,this.comment=n,this.parsedOptions=l}ho.fromJSON=function(e,t){return new ho(e,t.type,t.requestType,t.responseType,t.requestStream,t.responseStream,t.options,t.comment,t.parsedOptions)};ho.prototype.toJSON=function(e){var t=e?!!e.keepComments:!1;return da.toObject(["type",this.type!=="rpc"&&this.type||void 0,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",t?this.comment:void 0,"parsedOptions",this.parsedOptions])};ho.prototype.resolve=function(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),my.prototype.resolve.call(this))}});var d_=T((KVe,xH)=>{"use strict";xH.exports=Vt;var Sn=pa();((Vt.prototype=Object.create(Sn.prototype)).constructor=Vt).className="Service";var Ty=p_(),Gc=rt(),Ife=lv();function Vt(r,e){Sn.call(this,r,e),this.methods={},this._methodsArray=null}Vt.fromJSON=function(e,t){var o=new Vt(e,t.options);if(t.methods)for(var s=Object.keys(t.methods),a=0;a<s.length;++a)o.add(Ty.fromJSON(s[a],t.methods[s[a]]));return t.nested&&o.addJSON(t.nested),t.edition&&(o._edition=t.edition),o.comment=t.comment,o._defaultEdition="proto3",o};Vt.prototype.toJSON=function(e){var t=Sn.prototype.toJSON.call(this,e),o=e?!!e.keepComments:!1;return Gc.toObject(["edition",this._editionToJSON(),"options",t&&t.options||void 0,"methods",Sn.arrayToJSON(this.methodsArray,e)||{},"nested",t&&t.nested||void 0,"comment",o?this.comment:void 0])};Object.defineProperty(Vt.prototype,"methodsArray",{get:function(){return this._methodsArray||(this._methodsArray=Gc.toArray(this.methods))}});function bH(r){return r._methodsArray=null,r}Vt.prototype.get=function(e){return this.methods[e]||Sn.prototype.get.call(this,e)};Vt.prototype.resolveAll=function(){if(!this._needsRecursiveResolve)return this;Sn.prototype.resolve.call(this);for(var e=this.methodsArray,t=0;t<e.length;++t)e[t].resolve();return this};Vt.prototype._resolveFeaturesRecursive=function(e){return this._needsRecursiveFeatureResolution?(e=this._edition||e,Sn.prototype._resolveFeaturesRecursive.call(this,e),this.methodsArray.forEach(t=>{t._resolveFeaturesRecursive(e)}),this):this};Vt.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);return e instanceof Ty?(this.methods[e.name]=e,e.parent=this,bH(this)):Sn.prototype.add.call(this,e)};Vt.prototype.remove=function(e){if(e instanceof Ty){if(this.methods[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.methods[e.name],e.parent=null,bH(this)}return Sn.prototype.remove.call(this,e)};Vt.prototype.create=function(e,t,o){for(var s=new Ife.Service(e,t,o),a=0,i;a<this.methodsArray.length;++a){var n=Gc.lcFirst((i=this._methodsArray[a]).resolve().name).replace(/[^$\w_]/g,"");s[n]=Gc.codegen(["r","c"],Gc.isReserved(n)?n+"_":n)("return this.rpcCall(m,q,s,r,c)")({m:i,q:i.resolvedRequestType.ctor,s:i.resolvedResponseType.ctor})}return s}});var h_=T((zVe,MH)=>{"use strict";MH.exports=zr;var Lfe=Fr();function zr(r){if(r)for(var e=Object.keys(r),t=0;t<e.length;++t)this[e[t]]=r[e[t]]}zr.create=function(e){return this.$type.create(e)};zr.encode=function(e,t){return this.$type.encode(e,t)};zr.encodeDelimited=function(e,t){return this.$type.encodeDelimited(e,t)};zr.decode=function(e){return this.$type.decode(e)};zr.decodeDelimited=function(e){return this.$type.decodeDelimited(e)};zr.verify=function(e){return this.$type.verify(e)};zr.fromObject=function(e){return this.$type.fromObject(e)};zr.toObject=function(e,t){return this.$type.toObject(e,t)};zr.prototype.toJSON=function(){return this.$type.toObject(this,Lfe.toJSONOptions)}});var Sy=T(($Ve,DH)=>{"use strict";DH.exports=Mfe;var bfe=Or(),gn=po(),wH=rt();function xfe(r){return"missing required '"+r.name+"'"}function Mfe(r){for(var e=wH.codegen(["r","l","e"],r.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+(r.fieldsArray.filter(function(n){return n.map}).length?",k,value":""))("while(r.pos<c){")("var t=r.uint32()")("if(t===e)")("break")("switch(t>>>3){"),t=0;t<r.fieldsArray.length;++t){var o=r._fieldsArray[t].resolve(),s=o.resolvedType instanceof bfe?"int32":o.type,a="m"+wH.safeProp(o.name);e("case %i: {",o.id),o.map?(e("if(%s===util.emptyObject)",a)("%s={}",a)("var c2 = r.uint32()+r.pos"),gn.defaults[o.keyType]!==void 0?e("k=%j",gn.defaults[o.keyType]):e("k=null"),gn.defaults[s]!==void 0?e("value=%j",gn.defaults[s]):e("value=null"),e("while(r.pos<c2){")("var tag2=r.uint32()")("switch(tag2>>>3){")("case 1: k=r.%s(); break",o.keyType)("case 2:"),gn.basic[s]===void 0?e("value=types[%i].decode(r,r.uint32())",t):e("value=r.%s()",s),e("break")("default:")("r.skipType(tag2&7)")("break")("}")("}"),gn.long[o.keyType]!==void 0?e('%s[typeof k==="object"?util.longToHash(k):k]=value',a):e("%s[k]=value",a)):o.repeated?(e("if(!(%s&&%s.length))",a,a)("%s=[]",a),gn.packed[s]!==void 0&&e("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",a,s)("}else"),gn.basic[s]===void 0?e(o.delimited?"%s.push(types[%i].decode(r,undefined,((t&~7)|4)))":"%s.push(types[%i].decode(r,r.uint32()))",a,t):e("%s.push(r.%s())",a,s)):gn.basic[s]===void 0?e(o.delimited?"%s=types[%i].decode(r,undefined,((t&~7)|4))":"%s=types[%i].decode(r,r.uint32())",a,t):e("%s=r.%s()",a,s),e("break")("}")}for(e("default:")("r.skipType(t&7)")("break")("}")("}"),t=0;t<r._fieldsArray.length;++t){var i=r._fieldsArray[t];i.required&&e("if(!m.hasOwnProperty(%j))",i.name)("throw util.ProtocolError(%j,{instance:m})",xfe(i))}return e("return m")}});var yy=T((XVe,UH)=>{"use strict";UH.exports=Ufe;var wfe=Or(),gy=rt();function nr(r,e){return r.name+": "+e+(r.repeated&&e!=="array"?"[]":r.map&&e!=="object"?"{k:"+r.keyType+"}":"")+" expected"}function vy(r,e,t,o){if(e.resolvedType)if(e.resolvedType instanceof wfe){r("switch(%s){",o)("default:")("return%j",nr(e,"enum value"));for(var s=Object.keys(e.resolvedType.values),a=0;a<s.length;++a)r("case %i:",e.resolvedType.values[s[a]]);r("break")("}")}else r("{")("var e=types[%i].verify(%s);",t,o)("if(e)")("return%j+e",e.name+".")("}");else switch(e.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":r("if(!util.isInteger(%s))",o)("return%j",nr(e,"integer"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":r("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))",o,o,o,o)("return%j",nr(e,"integer|Long"));break;case"float":case"double":r('if(typeof %s!=="number")',o)("return%j",nr(e,"number"));break;case"bool":r('if(typeof %s!=="boolean")',o)("return%j",nr(e,"boolean"));break;case"string":r("if(!util.isString(%s))",o)("return%j",nr(e,"string"));break;case"bytes":r('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))',o,o,o)("return%j",nr(e,"buffer"));break}return r}function Dfe(r,e,t){switch(e.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":r("if(!util.key32Re.test(%s))",t)("return%j",nr(e,"integer key"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":r("if(!util.key64Re.test(%s))",t)("return%j",nr(e,"integer|Long key"));break;case"bool":r("if(!util.key2Re.test(%s))",t)("return%j",nr(e,"boolean key"));break}return r}function Ufe(r){var e=gy.codegen(["m"],r.name+"$verify")('if(typeof m!=="object"||m===null)')("return%j","object expected"),t=r.oneofsArray,o={};t.length&&e("var p={}");for(var s=0;s<r.fieldsArray.length;++s){var a=r._fieldsArray[s].resolve(),i="m"+gy.safeProp(a.name);if(a.optional&&e("if(%s!=null&&m.hasOwnProperty(%j)){",i,a.name),a.map)e("if(!util.isObject(%s))",i)("return%j",nr(a,"object"))("var k=Object.keys(%s)",i)("for(var i=0;i<k.length;++i){"),Dfe(e,a,"k[i]"),vy(e,a,s,i+"[k[i]]")("}");else if(a.repeated)e("if(!Array.isArray(%s))",i)("return%j",nr(a,"array"))("for(var i=0;i<%s.length;++i){",i),vy(e,a,s,i+"[i]")("}");else{if(a.partOf){var n=gy.safeProp(a.partOf.name);o[a.partOf.name]===1&&e("if(p%s===1)",n)("return%j",a.partOf.name+": multiple values"),o[a.partOf.name]=1,e("p%s=1",n)}vy(e,a,s,i)}a.optional&&e("}")}return e("return null")}});var Ry=T(BH=>{"use strict";var kH=BH,Hc=Or(),$r=rt();function Oy(r,e,t,o){var s=!1;if(e.resolvedType)if(e.resolvedType instanceof Hc){r("switch(d%s){",o);for(var a=e.resolvedType.values,i=Object.keys(a),n=0;n<i.length;++n)a[i[n]]===e.typeDefault&&!s&&(r("default:")('if(typeof(d%s)==="number"){m%s=d%s;break}',o,o,o),e.repeated||r("break"),s=!0),r("case%j:",i[n])("case %i:",a[i[n]])("m%s=%j",o,a[i[n]])("break");r("}")}else r('if(typeof d%s!=="object")',o)("throw TypeError(%j)",e.fullName+": object expected")("m%s=types[%i].fromObject(d%s)",o,t,o);else{var l=!1;switch(e.type){case"double":case"float":r("m%s=Number(d%s)",o,o);break;case"uint32":case"fixed32":r("m%s=d%s>>>0",o,o);break;case"int32":case"sint32":case"sfixed32":r("m%s=d%s|0",o,o);break;case"uint64":l=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":r("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j",o,o,l)('else if(typeof d%s==="string")',o)("m%s=parseInt(d%s,10)",o,o)('else if(typeof d%s==="number")',o)("m%s=d%s",o,o)('else if(typeof d%s==="object")',o)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)",o,o,o,l?"true":"");break;case"bytes":r('if(typeof d%s==="string")',o)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)",o,o,o)("else if(d%s.length >= 0)",o)("m%s=d%s",o,o);break;case"string":r("m%s=String(d%s)",o,o);break;case"bool":r("m%s=Boolean(d%s)",o,o);break}}return r}kH.fromObject=function(e){var t=e.fieldsArray,o=$r.codegen(["d"],e.name+"$fromObject")("if(d instanceof this.ctor)")("return d");if(!t.length)return o("return new this.ctor");o("var m=new this.ctor");for(var s=0;s<t.length;++s){var a=t[s].resolve(),i=$r.safeProp(a.name);a.map?(o("if(d%s){",i)('if(typeof d%s!=="object")',i)("throw TypeError(%j)",a.fullName+": object expected")("m%s={}",i)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){",i),Oy(o,a,s,i+"[ks[i]]")("}")("}")):a.repeated?(o("if(d%s){",i)("if(!Array.isArray(d%s))",i)("throw TypeError(%j)",a.fullName+": array expected")("m%s=[]",i)("for(var i=0;i<d%s.length;++i){",i),Oy(o,a,s,i+"[i]")("}")("}")):(a.resolvedType instanceof Hc||o("if(d%s!=null){",i),Oy(o,a,s,i),a.resolvedType instanceof Hc||o("}"))}return o("return m")};function Ay(r,e,t,o){if(e.resolvedType)e.resolvedType instanceof Hc?r("d%s=o.enums===String?(types[%i].values[m%s]===undefined?m%s:types[%i].values[m%s]):m%s",o,t,o,o,t,o,o):r("d%s=types[%i].toObject(m%s,o)",o,t,o);else{var s=!1;switch(e.type){case"double":case"float":r("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s",o,o,o,o);break;case"uint64":s=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":r('if(typeof m%s==="number")',o)("d%s=o.longs===String?String(m%s):m%s",o,o,o)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s",o,o,o,o,s?"true":"",o);break;case"bytes":r("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s",o,o,o,o,o);break;default:r("d%s=m%s",o,o);break}}return r}kH.toObject=function(e){var t=e.fieldsArray.slice().sort($r.compareFieldsById);if(!t.length)return $r.codegen()("return {}");for(var o=$r.codegen(["m","o"],e.name+"$toObject")("if(!o)")("o={}")("var d={}"),s=[],a=[],i=[],n=0;n<t.length;++n)t[n].partOf||(t[n].resolve().repeated?s:t[n].map?a:i).push(t[n]);if(s.length){for(o("if(o.arrays||o.defaults){"),n=0;n<s.length;++n)o("d%s=[]",$r.safeProp(s[n].name));o("}")}if(a.length){for(o("if(o.objects||o.defaults){"),n=0;n<a.length;++n)o("d%s={}",$r.safeProp(a[n].name));o("}")}if(i.length){for(o("if(o.defaults){"),n=0;n<i.length;++n){var l=i[n],c=$r.safeProp(l.name);if(l.resolvedType instanceof Hc)o("d%s=o.enums===String?%j:%j",c,l.resolvedType.valuesById[l.typeDefault],l.typeDefault);else if(l.long)o("if(util.Long){")("var n=new util.Long(%i,%i,%j)",l.typeDefault.low,l.typeDefault.high,l.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n",c)("}else")("d%s=o.longs===String?%j:%i",c,l.typeDefault.toString(),l.typeDefault.toNumber());else if(l.bytes){var u="["+Array.prototype.slice.call(l.typeDefault).join(",")+"]";o("if(o.bytes===String)d%s=%j",c,String.fromCharCode.apply(String,l.typeDefault))("else{")("d%s=%s",c,u)("if(o.bytes!==Array)d%s=util.newBuffer(d%s)",c,c)("}")}else o("d%s=%j",c,l.typeDefault)}o("}")}var f=!1;for(n=0;n<t.length;++n){var l=t[n],_=e._fieldsArray.indexOf(l),c=$r.safeProp(l.name);l.map?(f||(f=!0,o("var ks2")),o("if(m%s&&(ks2=Object.keys(m%s)).length){",c,c)("d%s={}",c)("for(var j=0;j<ks2.length;++j){"),Ay(o,l,_,c+"[ks2[j]]")("}")):l.repeated?(o("if(m%s&&m%s.length){",c,c)("d%s=[]",c)("for(var j=0;j<m%s.length;++j){",c),Ay(o,l,_,c+"[j]")("}")):(o("if(m%s!=null&&m.hasOwnProperty(%j)){",c,l.name),Ay(o,l,_,c),l.partOf&&o("if(o.oneofs)")("d%s=%j",$r.safeProp(l.partOf.name),l.name)),o("}")}return o("return d")}});var Ny=T(VH=>{"use strict";var kfe=VH,Bfe=h_();kfe[".google.protobuf.Any"]={fromObject:function(r){if(r&&r["@type"]){var e=r["@type"].substring(r["@type"].lastIndexOf("/")+1),t=this.lookup(e);if(t){var o=r["@type"].charAt(0)==="."?r["@type"].slice(1):r["@type"];return o.indexOf("/")===-1&&(o="/"+o),this.create({type_url:o,value:t.encode(t.fromObject(r)).finish()})}}return this.fromObject(r)},toObject:function(r,e){var t="type.googleapis.com/",o="",s="";if(e&&e.json&&r.type_url&&r.value){s=r.type_url.substring(r.type_url.lastIndexOf("/")+1),o=r.type_url.substring(0,r.type_url.lastIndexOf("/")+1);var a=this.lookup(s);a&&(r=a.decode(r.value))}if(!(r instanceof this.ctor)&&r instanceof Bfe){var i=r.$type.toObject(r,e),n=r.$type.fullName[0]==="."?r.$type.fullName.slice(1):r.$type.fullName;return o===""&&(o=t),s=o+n,i["@type"]=s,i}return this.toObject(r,e)}}});var m_=T((QVe,GH)=>{"use strict";GH.exports=Re;var ir=pa();((Re.prototype=Object.create(ir.prototype)).constructor=Re).className="Type";var Vfe=Or(),Iy=fo(),__=ii(),Ffe=f_(),Gfe=d_(),Cy=h_(),Py=Nh(),Hfe=Ah(),_t=rt(),qfe=Ly(),jfe=Sy(),Yfe=yy(),FH=Ry(),Kfe=Ny();function Re(r,e){ir.call(this,r,e),this.fields={},this.oneofs=void 0,this.extensions=void 0,this.reserved=void 0,this.group=void 0,this._fieldsById=null,this._fieldsArray=null,this._oneofsArray=null,this._ctor=null}Object.defineProperties(Re.prototype,{fieldsById:{get:function(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var r=Object.keys(this.fields),e=0;e<r.length;++e){var t=this.fields[r[e]],o=t.id;if(this._fieldsById[o])throw Error("duplicate id "+o+" in "+this);this._fieldsById[o]=t}return this._fieldsById}},fieldsArray:{get:function(){return this._fieldsArray||(this._fieldsArray=_t.toArray(this.fields))}},oneofsArray:{get:function(){return this._oneofsArray||(this._oneofsArray=_t.toArray(this.oneofs))}},ctor:{get:function(){return this._ctor||(this.ctor=Re.generateConstructor(this)())},set:function(r){var e=r.prototype;e instanceof Cy||((r.prototype=new Cy).constructor=r,_t.merge(r.prototype,e)),r.$type=r.prototype.$type=this,_t.merge(r,Cy,!0),this._ctor=r;for(var t=0;t<this.fieldsArray.length;++t)this._fieldsArray[t].resolve();var o={};for(t=0;t<this.oneofsArray.length;++t)o[this._oneofsArray[t].resolve().name]={get:_t.oneOfGetter(this._oneofsArray[t].oneof),set:_t.oneOfSetter(this._oneofsArray[t].oneof)};t&&Object.defineProperties(r.prototype,o)}}});Re.generateConstructor=function(e){for(var t=_t.codegen(["p"],e.name),o=0,s;o<e.fieldsArray.length;++o)(s=e._fieldsArray[o]).map?t("this%s={}",_t.safeProp(s.name)):s.repeated&&t("this%s=[]",_t.safeProp(s.name));return t("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")};function E_(r){return r._fieldsById=r._fieldsArray=r._oneofsArray=null,delete r.encode,delete r.decode,delete r.verify,r}Re.fromJSON=function(e,t){var o=new Re(e,t.options);o.extensions=t.extensions,o.reserved=t.reserved;for(var s=Object.keys(t.fields),a=0;a<s.length;++a)o.add((typeof t.fields[s[a]].keyType<"u"?Ffe.fromJSON:__.fromJSON)(s[a],t.fields[s[a]]));if(t.oneofs)for(s=Object.keys(t.oneofs),a=0;a<s.length;++a)o.add(Iy.fromJSON(s[a],t.oneofs[s[a]]));if(t.nested)for(s=Object.keys(t.nested),a=0;a<s.length;++a){var i=t.nested[s[a]];o.add((i.id!==void 0?__.fromJSON:i.fields!==void 0?Re.fromJSON:i.values!==void 0?Vfe.fromJSON:i.methods!==void 0?Gfe.fromJSON:ir.fromJSON)(s[a],i))}return t.extensions&&t.extensions.length&&(o.extensions=t.extensions),t.reserved&&t.reserved.length&&(o.reserved=t.reserved),t.group&&(o.group=!0),t.comment&&(o.comment=t.comment),t.edition&&(o._edition=t.edition),o._defaultEdition="proto3",o};Re.prototype.toJSON=function(e){var t=ir.prototype.toJSON.call(this,e),o=e?!!e.keepComments:!1;return _t.toObject(["edition",this._editionToJSON(),"options",t&&t.options||void 0,"oneofs",ir.arrayToJSON(this.oneofsArray,e),"fields",ir.arrayToJSON(this.fieldsArray.filter(function(s){return!s.declaringField}),e)||{},"extensions",this.extensions&&this.extensions.length?this.extensions:void 0,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"group",this.group||void 0,"nested",t&&t.nested||void 0,"comment",o?this.comment:void 0])};Re.prototype.resolveAll=function(){if(!this._needsRecursiveResolve)return this;ir.prototype.resolveAll.call(this);var e=this.oneofsArray;for(o=0;o<e.length;)e[o++].resolve();for(var t=this.fieldsArray,o=0;o<t.length;)t[o++].resolve();return this};Re.prototype._resolveFeaturesRecursive=function(e){return this._needsRecursiveFeatureResolution?(e=this._edition||e,ir.prototype._resolveFeaturesRecursive.call(this,e),this.oneofsArray.forEach(t=>{t._resolveFeatures(e)}),this.fieldsArray.forEach(t=>{t._resolveFeatures(e)}),this):this};Re.prototype.get=function(e){return this.fields[e]||this.oneofs&&this.oneofs[e]||this.nested&&this.nested[e]||null};Re.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);if(e instanceof __&&e.extend===void 0){if(this._fieldsById?this._fieldsById[e.id]:this.fieldsById[e.id])throw Error("duplicate id "+e.id+" in "+this);if(this.isReservedId(e.id))throw Error("id "+e.id+" is reserved in "+this);if(this.isReservedName(e.name))throw Error("name '"+e.name+"' is reserved in "+this);return e.parent&&e.parent.remove(e),this.fields[e.name]=e,e.message=this,e.onAdd(this),E_(this)}return e instanceof Iy?(this.oneofs||(this.oneofs={}),this.oneofs[e.name]=e,e.onAdd(this),E_(this)):ir.prototype.add.call(this,e)};Re.prototype.remove=function(e){if(e instanceof __&&e.extend===void 0){if(!this.fields||this.fields[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.fields[e.name],e.parent=null,e.onRemove(this),E_(this)}if(e instanceof Iy){if(!this.oneofs||this.oneofs[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.oneofs[e.name],e.parent=null,e.onRemove(this),E_(this)}return ir.prototype.remove.call(this,e)};Re.prototype.isReservedId=function(e){return ir.isReservedId(this.reserved,e)};Re.prototype.isReservedName=function(e){return ir.isReservedName(this.reserved,e)};Re.prototype.create=function(e){return new this.ctor(e)};Re.prototype.setup=function(){for(var e=this.fullName,t=[],o=0;o<this.fieldsArray.length;++o)t.push(this._fieldsArray[o].resolve().resolvedType);this.encode=qfe(this)({Writer:Hfe,types:t,util:_t}),this.decode=jfe(this)({Reader:Py,types:t,util:_t}),this.verify=Yfe(this)({types:t,util:_t}),this.fromObject=FH.fromObject(this)({types:t,util:_t}),this.toObject=FH.toObject(this)({types:t,util:_t});var s=Kfe[e];if(s){var a=Object.create(this);a.fromObject=this.fromObject,this.fromObject=s.fromObject.bind(a),a.toObject=this.toObject,this.toObject=s.toObject.bind(a)}return this};Re.prototype.encode=function(e,t){return this.setup().encode(e,t)};Re.prototype.encodeDelimited=function(e,t){return this.encode(e,t&&t.len?t.fork():t).ldelim()};Re.prototype.decode=function(e,t){return this.setup().decode(e,t)};Re.prototype.decodeDelimited=function(e){return e instanceof Py||(e=Py.create(e)),this.decode(e,e.uint32())};Re.prototype.verify=function(e){return this.setup().verify(e)};Re.prototype.fromObject=function(e){return this.setup().fromObject(e)};Re.prototype.toObject=function(e,t){return this.setup().toObject(e,t)};Re.d=function(e){return function(o){_t.decorateType(o,e)}}});var v_=T((ZVe,jH)=>{"use strict";jH.exports=Ft;var g_=pa();((Ft.prototype=Object.create(g_.prototype)).constructor=Ft).className="Root";var T_=ii(),by=Or(),zfe=fo(),si=rt(),xy,My,qc;function Ft(r){g_.call(this,"",r),this.deferred=[],this.files=[],this._edition="proto2",this._fullyQualifiedObjects={}}Ft.fromJSON=function(e,t){return t||(t=new Ft),e.options&&t.setOptions(e.options),t.addJSON(e.nested).resolveAll()};Ft.prototype.resolvePath=si.path.resolve;Ft.prototype.fetch=si.fetch;function qH(){}Ft.prototype.load=function r(e,t,o){typeof t=="function"&&(o=t,t=void 0);var s=this;if(!o)return si.asPromise(r,s,e,t);var a=o===qH;function i(m,O){if(o){if(a)throw m;O&&O.resolveAll();var y=o;o=null,y(m,O)}}function n(m){var O=m.lastIndexOf("google/protobuf/");if(O>-1){var y=m.substring(O);if(y in qc)return y}return null}function l(m,O){try{if(si.isString(O)&&O.charAt(0)==="{"&&(O=JSON.parse(O)),!si.isString(O))s.setOptions(O.options).addJSON(O.nested);else{My.filename=m;var y=My(O,s,t),A,I=0;if(y.imports)for(;I<y.imports.length;++I)(A=n(y.imports[I])||s.resolvePath(m,y.imports[I]))&&c(A);if(y.weakImports)for(I=0;I<y.weakImports.length;++I)(A=n(y.weakImports[I])||s.resolvePath(m,y.weakImports[I]))&&c(A,!0)}}catch(M){i(M)}!a&&!u&&i(null,s)}function c(m,O){if(m=n(m)||m,!(s.files.indexOf(m)>-1)){if(s.files.push(m),m in qc){a?l(m,qc[m]):(++u,setTimeout(function(){--u,l(m,qc[m])}));return}if(a){var y;try{y=si.fs.readFileSync(m).toString("utf8")}catch(A){O||i(A);return}l(m,y)}else++u,s.fetch(m,function(A,I){if(--u,!!o){if(A){O?u||i(null,s):i(A);return}l(m,I)}})}}var u=0;si.isString(e)&&(e=[e]);for(var f=0,_;f<e.length;++f)(_=s.resolvePath("",e[f]))&&c(_);return a?(s.resolveAll(),s):(u||i(null,s),s)};Ft.prototype.loadSync=function(e,t){if(!si.isNode)throw Error("not supported");return this.load(e,t,qH)};Ft.prototype.resolveAll=function(){if(!this._needsRecursiveResolve)return this;if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map(function(e){return"'extend "+e.extend+"' in "+e.parent.fullName}).join(", "));return g_.prototype.resolveAll.call(this)};var S_=/^[A-Z]/;function HH(r,e){var t=e.parent.lookup(e.extend);if(t){var o=new T_(e.fullName,e.id,e.type,e.rule,void 0,e.options);return t.get(o.name)||(o.declaringField=e,e.extensionField=o,t.add(o)),!0}return!1}Ft.prototype._handleAdd=function(e){if(e instanceof T_)e.extend!==void 0&&!e.extensionField&&(HH(this,e)||this.deferred.push(e));else if(e instanceof by)S_.test(e.name)&&(e.parent[e.name]=e.values);else if(!(e instanceof zfe)){if(e instanceof xy)for(var t=0;t<this.deferred.length;)HH(this,this.deferred[t])?this.deferred.splice(t,1):++t;for(var o=0;o<e.nestedArray.length;++o)this._handleAdd(e._nestedArray[o]);S_.test(e.name)&&(e.parent[e.name]=e)}(e instanceof xy||e instanceof by||e instanceof T_)&&(this._fullyQualifiedObjects[e.fullName]=e)};Ft.prototype._handleRemove=function(e){if(e instanceof T_){if(e.extend!==void 0)if(e.extensionField)e.extensionField.parent.remove(e.extensionField),e.extensionField=null;else{var t=this.deferred.indexOf(e);t>-1&&this.deferred.splice(t,1)}}else if(e instanceof by)S_.test(e.name)&&delete e.parent[e.name];else if(e instanceof g_){for(var o=0;o<e.nestedArray.length;++o)this._handleRemove(e._nestedArray[o]);S_.test(e.name)&&delete e.parent[e.name]}delete this._fullyQualifiedObjects[e.fullName]};Ft._configure=function(r,e,t){xy=r,My=e,qc=t}});var rt=T((e2e,KH)=>{"use strict";var He=KH.exports=Fr(),YH=cv(),wy,Dy;He.codegen=gH();He.fetch=yH();He.path=RH();He.fs=He.inquire("fs");He.toArray=function(e){if(e){for(var t=Object.keys(e),o=new Array(t.length),s=0;s<t.length;)o[s]=e[t[s++]];return o}return[]};He.toObject=function(e){for(var t={},o=0;o<e.length;){var s=e[o++],a=e[o++];a!==void 0&&(t[s]=a)}return t};var $fe=/\\/g,Xfe=/"/g;He.isReserved=function(e){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(e)};He.safeProp=function(e){return!/^[$\w_]+$/.test(e)||He.isReserved(e)?'["'+e.replace($fe,"\\\\").replace(Xfe,'\\"')+'"]':"."+e};He.ucFirst=function(e){return e.charAt(0).toUpperCase()+e.substring(1)};var Wfe=/_([a-z])/g;He.camelCase=function(e){return e.substring(0,1)+e.substring(1).replace(Wfe,function(t,o){return o.toUpperCase()})};He.compareFieldsById=function(e,t){return e.id-t.id};He.decorateType=function(e,t){if(e.$type)return t&&e.$type.name!==t&&(He.decorateRoot.remove(e.$type),e.$type.name=t,He.decorateRoot.add(e.$type)),e.$type;wy||(wy=m_());var o=new wy(t||e.name);return He.decorateRoot.add(o),o.ctor=e,Object.defineProperty(e,"$type",{value:o,enumerable:!1}),Object.defineProperty(e.prototype,"$type",{value:o,enumerable:!1}),o};var Jfe=0;He.decorateEnum=function(e){if(e.$type)return e.$type;Dy||(Dy=Or());var t=new Dy("Enum"+Jfe++,e);return He.decorateRoot.add(t),Object.defineProperty(e,"$type",{value:t,enumerable:!1}),t};He.setProperty=function(e,t,o,s){function a(i,n,l){var c=n.shift();if(c==="__proto__"||c==="prototype")return i;if(n.length>0)i[c]=a(i[c]||{},n,l);else{var u=i[c];if(u&&s)return i;u&&(l=[].concat(u).concat(l)),i[c]=l}return i}if(typeof e!="object")throw TypeError("dst must be an object");if(!t)throw TypeError("path must be specified");return t=t.split("."),a(e,t,o)};Object.defineProperty(He,"decorateRoot",{get:function(){return YH.decorated||(YH.decorated=new(v_()))}})});var po=T(zH=>{"use strict";var jc=zH,Qfe=rt(),Zfe=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];function Yc(r,e){var t=0,o={};for(e|=0;t<r.length;)o[Zfe[t+e]]=r[t++];return o}jc.basic=Yc([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]);jc.defaults=Yc([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",Qfe.emptyArray,null]);jc.long=Yc([0,0,0,1,1],7);jc.mapKey=Yc([0,0,0,5,5,0,0,0,1,1,0,2],2);jc.packed=Yc([1,5,0,0,0,5,5,0,0,0,1,1,0])});var ii=T((r2e,XH)=>{"use strict";XH.exports=nt;var zc=oi();((nt.prototype=Object.create(zc.prototype)).constructor=nt).className="Field";var $H=Or(),Uy=po(),ze=rt(),Kc,epe=/^required|optional|repeated$/;nt.fromJSON=function(e,t){var o=new nt(e,t.id,t.type,t.rule,t.extend,t.options,t.comment);return t.edition&&(o._edition=t.edition),o._defaultEdition="proto3",o};function nt(r,e,t,o,s,a,i){if(ze.isObject(o)?(i=s,a=o,o=s=void 0):ze.isObject(s)&&(i=a,a=s,s=void 0),zc.call(this,r,a),!ze.isInteger(e)||e<0)throw TypeError("id must be a non-negative integer");if(!ze.isString(t))throw TypeError("type must be a string");if(o!==void 0&&!epe.test(o=o.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(s!==void 0&&!ze.isString(s))throw TypeError("extend must be a string");o==="proto3_optional"&&(o="optional"),this.rule=o&&o!=="optional"?o:void 0,this.type=t,this.id=e,this.extend=s||void 0,this.repeated=o==="repeated",this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=ze.Long?Uy.long[t]!==void 0:!1,this.bytes=t==="bytes",this.resolvedType=null,this.extensionField=null,this.declaringField=null,this.comment=i}Object.defineProperty(nt.prototype,"required",{get:function(){return this._features.field_presence==="LEGACY_REQUIRED"}});Object.defineProperty(nt.prototype,"optional",{get:function(){return!this.required}});Object.defineProperty(nt.prototype,"delimited",{get:function(){return this.resolvedType instanceof Kc&&this._features.message_encoding==="DELIMITED"}});Object.defineProperty(nt.prototype,"packed",{get:function(){return this._features.repeated_field_encoding==="PACKED"}});Object.defineProperty(nt.prototype,"hasPresence",{get:function(){return this.repeated||this.map?!1:this.partOf||this.declaringField||this.extensionField||this._features.field_presence!=="IMPLICIT"}});nt.prototype.setOption=function(e,t,o){return zc.prototype.setOption.call(this,e,t,o)};nt.prototype.toJSON=function(e){var t=e?!!e.keepComments:!1;return ze.toObject(["edition",this._editionToJSON(),"rule",this.rule!=="optional"&&this.rule||void 0,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:void 0])};nt.prototype.resolve=function(){if(this.resolved)return this;if((this.typeDefault=Uy.defaults[this.type])===void 0?(this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type),this.resolvedType instanceof Kc?this.typeDefault=null:this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]):this.options&&this.options.proto3_optional&&(this.typeDefault=null),this.options&&this.options.default!=null&&(this.typeDefault=this.options.default,this.resolvedType instanceof $H&&typeof this.typeDefault=="string"&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&(this.options.packed!==void 0&&this.resolvedType&&!(this.resolvedType instanceof $H)&&delete this.options.packed,Object.keys(this.options).length||(this.options=void 0)),this.long)this.typeDefault=ze.Long.fromNumber(this.typeDefault,this.type.charAt(0)==="u"),Object.freeze&&Object.freeze(this.typeDefault);else if(this.bytes&&typeof this.typeDefault=="string"){var e;ze.base64.test(this.typeDefault)?ze.base64.decode(this.typeDefault,e=ze.newBuffer(ze.base64.length(this.typeDefault)),0):ze.utf8.write(this.typeDefault,e=ze.newBuffer(ze.utf8.length(this.typeDefault)),0),this.typeDefault=e}return this.map?this.defaultValue=ze.emptyObject:this.repeated?this.defaultValue=ze.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof Kc&&(this.parent.ctor.prototype[this.name]=this.defaultValue),zc.prototype.resolve.call(this)};nt.prototype._inferLegacyProtoFeatures=function(e){if(e!=="proto2"&&e!=="proto3")return{};var t={};if(this.rule==="required"&&(t.field_presence="LEGACY_REQUIRED"),this.parent&&Uy.defaults[this.type]===void 0){var o=this.parent.get(this.type.split(".").pop());o&&o instanceof Kc&&o.group&&(t.message_encoding="DELIMITED")}return this.getOption("packed")===!0?t.repeated_field_encoding="PACKED":this.getOption("packed")===!1&&(t.repeated_field_encoding="EXPANDED"),t};nt.prototype._resolveFeatures=function(e){return zc.prototype._resolveFeatures.call(this,this._edition||e)};nt.d=function(e,t,o,s){return typeof t=="function"?t=ze.decorateType(t).name:t&&typeof t=="object"&&(t=ze.decorateEnum(t).name),function(i,n){ze.decorateType(i.constructor).add(new nt(n,e,t,o,{default:s}))}};nt._configure=function(e){Kc=e}});var fo=T((n2e,QH)=>{"use strict";QH.exports=Gt;var O_=oi();((Gt.prototype=Object.create(O_.prototype)).constructor=Gt).className="OneOf";var WH=ii(),y_=rt();function Gt(r,e,t,o){if(Array.isArray(e)||(t=e,e=void 0),O_.call(this,r,t),!(e===void 0||Array.isArray(e)))throw TypeError("fieldNames must be an Array");this.oneof=e||[],this.fieldsArray=[],this.comment=o}Gt.fromJSON=function(e,t){return new Gt(e,t.oneof,t.options,t.comment)};Gt.prototype.toJSON=function(e){var t=e?!!e.keepComments:!1;return y_.toObject(["options",this.options,"oneof",this.oneof,"comment",t?this.comment:void 0])};function JH(r){if(r.parent)for(var e=0;e<r.fieldsArray.length;++e)r.fieldsArray[e].parent||r.parent.add(r.fieldsArray[e])}Gt.prototype.add=function(e){if(!(e instanceof WH))throw TypeError("field must be a Field");return e.parent&&e.parent!==this.parent&&e.parent.remove(e),this.oneof.push(e.name),this.fieldsArray.push(e),e.partOf=this,JH(this),this};Gt.prototype.remove=function(e){if(!(e instanceof WH))throw TypeError("field must be a Field");var t=this.fieldsArray.indexOf(e);if(t<0)throw Error(e+" is not a member of "+this);return this.fieldsArray.splice(t,1),t=this.oneof.indexOf(e.name),t>-1&&this.oneof.splice(t,1),e.partOf=null,this};Gt.prototype.onAdd=function(e){O_.prototype.onAdd.call(this,e);for(var t=this,o=0;o<this.oneof.length;++o){var s=e.get(this.oneof[o]);s&&!s.partOf&&(s.partOf=t,t.fieldsArray.push(s))}JH(this)};Gt.prototype.onRemove=function(e){for(var t=0,o;t<this.fieldsArray.length;++t)(o=this.fieldsArray[t]).parent&&o.parent.remove(o);O_.prototype.onRemove.call(this,e)};Object.defineProperty(Gt.prototype,"isProto3Optional",{get:function(){if(this.fieldsArray==null||this.fieldsArray.length!==1)return!1;var r=this.fieldsArray[0];return r.options!=null&&r.options.proto3_optional===!0}});Gt.d=function(){for(var e=new Array(arguments.length),t=0;t<arguments.length;)e[t]=arguments[t++];return function(s,a){y_.decorateType(s.constructor).add(new Gt(a,e)),Object.defineProperty(s,a,{get:y_.oneOfGetter(e),set:y_.oneOfSetter(e)})}}});var oi=T((i2e,ZH)=>{"use strict";ZH.exports=ct;ct.className="ReflectionObject";var tpe=fo(),$c=rt(),A_,rpe={enum_type:"OPEN",field_presence:"EXPLICIT",json_format:"ALLOW",message_encoding:"LENGTH_PREFIXED",repeated_field_encoding:"PACKED",utf8_validation:"VERIFY"},npe={enum_type:"CLOSED",field_presence:"EXPLICIT",json_format:"LEGACY_BEST_EFFORT",message_encoding:"LENGTH_PREFIXED",repeated_field_encoding:"EXPANDED",utf8_validation:"NONE"},ipe={enum_type:"OPEN",field_presence:"IMPLICIT",json_format:"ALLOW",message_encoding:"LENGTH_PREFIXED",repeated_field_encoding:"PACKED",utf8_validation:"VERIFY"};function ct(r,e){if(!$c.isString(r))throw TypeError("name must be a string");if(e&&!$c.isObject(e))throw TypeError("options must be an object");this.options=e,this.parsedOptions=null,this.name=r,this._edition=null,this._defaultEdition="proto2",this._features={},this._featuresResolved=!1,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}Object.defineProperties(ct.prototype,{root:{get:function(){for(var r=this;r.parent!==null;)r=r.parent;return r}},fullName:{get:function(){for(var r=[this.name],e=this.parent;e;)r.unshift(e.name),e=e.parent;return r.join(".")}}});ct.prototype.toJSON=function(){throw Error()};ct.prototype.onAdd=function(e){this.parent&&this.parent!==e&&this.parent.remove(this),this.parent=e,this.resolved=!1;var t=e.root;t instanceof A_&&t._handleAdd(this)};ct.prototype.onRemove=function(e){var t=e.root;t instanceof A_&&t._handleRemove(this),this.parent=null,this.resolved=!1};ct.prototype.resolve=function(){return this.resolved?this:(this.root instanceof A_&&(this.resolved=!0),this)};ct.prototype._resolveFeaturesRecursive=function(e){return this._resolveFeatures(this._edition||e)};ct.prototype._resolveFeatures=function(e){if(!this._featuresResolved){var t={};if(!e)throw new Error("Unknown edition for "+this.fullName);var o=Object.assign(this.options?Object.assign({},this.options.features):{},this._inferLegacyProtoFeatures(e));if(this._edition){if(e==="proto2")t=Object.assign({},npe);else if(e==="proto3")t=Object.assign({},ipe);else if(e==="2023")t=Object.assign({},rpe);else throw new Error("Unknown edition: "+e);this._features=Object.assign(t,o||{}),this._featuresResolved=!0;return}if(this.partOf instanceof tpe){var s=Object.assign({},this.partOf._features);this._features=Object.assign(s,o||{})}else if(!this.declaringField)if(this.parent){var a=Object.assign({},this.parent._features);this._features=Object.assign(a,o||{})}else throw new Error("Unable to find a parent for "+this.fullName);this.extensionField&&(this.extensionField._features=this._features),this._featuresResolved=!0}};ct.prototype._inferLegacyProtoFeatures=function(){return{}};ct.prototype.getOption=function(e){if(this.options)return this.options[e]};ct.prototype.setOption=function(e,t,o){return this.options||(this.options={}),/^features\./.test(e)?$c.setProperty(this.options,e,t,o):(!o||this.options[e]===void 0)&&(this.getOption(e)!==t&&(this.resolved=!1),this.options[e]=t),this};ct.prototype.setParsedOption=function(e,t,o){this.parsedOptions||(this.parsedOptions=[]);var s=this.parsedOptions;if(o){var a=s.find(function(l){return Object.prototype.hasOwnProperty.call(l,e)});if(a){var i=a[e];$c.setProperty(i,o,t)}else a={},a[e]=$c.setProperty({},o,t),s.push(a)}else{var n={};n[e]=t,s.push(n)}return this};ct.prototype.setOptions=function(e,t){if(e)for(var o=Object.keys(e),s=0;s<o.length;++s)this.setOption(o[s],e[o[s]],t);return this};ct.prototype.toString=function(){var e=this.constructor.className,t=this.fullName;return t.length?e+" "+t:e};ct.prototype._editionToJSON=function(){if(!(!this._edition||this._edition==="proto3"))return this._edition};ct._configure=function(r){A_=r}});var Or=T((o2e,tq)=>{"use strict";tq.exports=Ar;var ky=oi();((Ar.prototype=Object.create(ky.prototype)).constructor=Ar).className="Enum";var eq=pa(),R_=rt();function Ar(r,e,t,o,s,a){if(ky.call(this,r,t),e&&typeof e!="object")throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comment=o,this.comments=s||{},this.valuesOptions=a,this._valuesFeatures={},this.reserved=void 0,e)for(var i=Object.keys(e),n=0;n<i.length;++n)typeof e[i[n]]=="number"&&(this.valuesById[this.values[i[n]]=e[i[n]]]=i[n])}Ar.prototype._resolveFeatures=function(e){return e=this._edition||e,ky.prototype._resolveFeatures.call(this,e),Object.keys(this.values).forEach(t=>{var o=Object.assign({},this._features);this._valuesFeatures[t]=Object.assign(o,this.valuesOptions&&this.valuesOptions[t]&&this.valuesOptions[t].features)}),this};Ar.fromJSON=function(e,t){var o=new Ar(e,t.values,t.options,t.comment,t.comments);return o.reserved=t.reserved,t.edition&&(o._edition=t.edition),o._defaultEdition="proto3",o};Ar.prototype.toJSON=function(e){var t=e?!!e.keepComments:!1;return R_.toObject(["edition",this._editionToJSON(),"options",this.options,"valuesOptions",this.valuesOptions,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"comment",t?this.comment:void 0,"comments",t?this.comments:void 0])};Ar.prototype.add=function(e,t,o,s){if(!R_.isString(e))throw TypeError("name must be a string");if(!R_.isInteger(t))throw TypeError("id must be an integer");if(this.values[e]!==void 0)throw Error("duplicate name '"+e+"' in "+this);if(this.isReservedId(t))throw Error("id "+t+" is reserved in "+this);if(this.isReservedName(e))throw Error("name '"+e+"' is reserved in "+this);if(this.valuesById[t]!==void 0){if(!(this.options&&this.options.allow_alias))throw Error("duplicate id "+t+" in "+this);this.values[e]=t}else this.valuesById[this.values[e]=t]=e;return s&&(this.valuesOptions===void 0&&(this.valuesOptions={}),this.valuesOptions[e]=s||null),this.comments[e]=o||null,this};Ar.prototype.remove=function(e){if(!R_.isString(e))throw TypeError("name must be a string");var t=this.values[e];if(t==null)throw Error("name '"+e+"' does not exist in "+this);return delete this.valuesById[t],delete this.values[e],delete this.comments[e],this.valuesOptions&&delete this.valuesOptions[e],this};Ar.prototype.isReservedId=function(e){return eq.isReservedId(this.reserved,e)};Ar.prototype.isReservedName=function(e){return eq.isReservedName(this.reserved,e)}});var Ly=T((s2e,nq)=>{"use strict";nq.exports=spe;var ope=Or(),By=po(),Vy=rt();function rq(r,e,t,o){return e.delimited?r("types[%i].encode(%s,w.uint32(%i)).uint32(%i)",t,o,(e.id<<3|3)>>>0,(e.id<<3|4)>>>0):r("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()",t,o,(e.id<<3|2)>>>0)}function spe(r){for(var e=Vy.codegen(["m","w"],r.name+"$encode")("if(!w)")("w=Writer.create()"),t,o,s=r.fieldsArray.slice().sort(Vy.compareFieldsById),t=0;t<s.length;++t){var a=s[t].resolve(),i=r._fieldsArray.indexOf(a),n=a.resolvedType instanceof ope?"int32":a.type,l=By.basic[n];o="m"+Vy.safeProp(a.name),a.map?(e("if(%s!=null&&Object.hasOwnProperty.call(m,%j)){",o,a.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){",o)("w.uint32(%i).fork().uint32(%i).%s(ks[i])",(a.id<<3|2)>>>0,8|By.mapKey[a.keyType],a.keyType),l===void 0?e("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()",i,o):e(".uint32(%i).%s(%s[ks[i]]).ldelim()",16|l,n,o),e("}")("}")):a.repeated?(e("if(%s!=null&&%s.length){",o,o),a.packed&&By.packed[n]!==void 0?e("w.uint32(%i).fork()",(a.id<<3|2)>>>0)("for(var i=0;i<%s.length;++i)",o)("w.%s(%s[i])",n,o)("w.ldelim()"):(e("for(var i=0;i<%s.length;++i)",o),l===void 0?rq(e,a,i,o+"[i]"):e("w.uint32(%i).%s(%s[i])",(a.id<<3|l)>>>0,n,o)),e("}")):(a.optional&&e("if(%s!=null&&Object.hasOwnProperty.call(m,%j))",o,a.name),l===void 0?rq(e,a,i,o):e("w.uint32(%i).%s(%s)",(a.id<<3|l)>>>0,n,o))}return e("return w")}});var oq=T((a2e,iq)=>{"use strict";var de=iq.exports=uv();de.build="light";function ape(r,e,t){return typeof e=="function"?(t=e,e=new de.Root):e||(e=new de.Root),e.load(r,t)}de.load=ape;function lpe(r,e){return e||(e=new de.Root),e.loadSync(r)}de.loadSync=lpe;de.encoder=Ly();de.decoder=Sy();de.verifier=yy();de.converter=Ry();de.ReflectionObject=oi();de.Namespace=pa();de.Root=v_();de.Enum=Or();de.Type=m_();de.Field=ii();de.OneOf=fo();de.MapField=f_();de.Service=d_();de.Method=p_();de.Message=h_();de.wrappers=Ny();de.types=po();de.util=rt();de.ReflectionObject._configure(de.Root);de.Namespace._configure(de.Type,de.Service,de.Enum);de.Root._configure(de.Type);de.Field._configure(de.Type)});var Gy=T((l2e,lq)=>{"use strict";lq.exports=aq;var Fy=/[\s{}=;:[\],'"()<>]/g,cpe=/(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,upe=/(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,fpe=/^ *[*/]+ */,ppe=/^\s*\*?\/*/,dpe=/\n/g,hpe=/\s/,_pe=/\\(.?)/g,Epe={0:"\0",r:"\r",n:`
`,t:"	"};function sq(r){return r.replace(_pe,function(e,t){switch(t){case"\\":case"":return t;default:return Epe[t]||""}})}aq.unescape=sq;function aq(r,e){r=r.toString();var t=0,o=r.length,s=1,a=0,i={},n=[],l=null;function c(N){return Error("illegal "+N+" (line "+s+")")}function u(){var N=l==="'"?upe:cpe;N.lastIndex=t-1;var K=N.exec(r);if(!K)throw c("string");return t=N.lastIndex,A(l),l=null,sq(K[1])}function f(N){return r.charAt(N)}function _(N,K,B){var G={type:r.charAt(N++),lineEmpty:!1,leading:B},te;e?te=2:te=3;var $=N-te,le;do if(--$<0||(le=r.charAt($))===`
`){G.lineEmpty=!0;break}while(le===" "||le==="	");for(var v=r.substring(N,K).split(dpe),W=0;W<v.length;++W)v[W]=v[W].replace(e?ppe:fpe,"").trim();G.text=v.join(`
`).trim(),i[s]=G,a=s}function m(N){var K=O(N),B=r.substring(N,K),G=/^\s*\/\//.test(B);return G}function O(N){for(var K=N;K<o&&f(K)!==`
`;)K++;return K}function y(){if(n.length>0)return n.shift();if(l)return u();var N,K,B,G,te,$=t===0;do{if(t===o)return null;for(N=!1;hpe.test(B=f(t));)if(B===`
`&&($=!0,++s),++t===o)return null;if(f(t)==="/"){if(++t===o)throw c("comment");if(f(t)==="/")if(e){if(G=t,te=!1,m(t-1)){te=!0;do if(t=O(t),t===o||(t++,!$))break;while(m(t))}else t=Math.min(o,O(t)+1);te&&(_(G,t,$),$=!0),s++,N=!0}else{for(te=f(G=t+1)==="/";f(++t)!==`
`;)if(t===o)return null;++t,te&&(_(G,t-1,$),$=!0),++s,N=!0}else if((B=f(t))==="*"){G=t+1,te=e||f(G)==="*";do{if(B===`
`&&++s,++t===o)throw c("comment");K=B,B=f(t)}while(K!=="*"||B!=="/");++t,te&&(_(G,t-2,$),$=!0),N=!0}else return"/"}}while(N);var le=t;Fy.lastIndex=0;var v=Fy.test(f(le++));if(!v)for(;le<o&&!Fy.test(f(le));)++le;var W=r.substring(t,t=le);return(W==='"'||W==="'")&&(l=W),W}function A(N){n.push(N)}function I(){if(!n.length){var N=y();if(N===null)return null;A(N)}return n[0]}function M(N,K){var B=I(),G=B===N;if(G)return y(),!0;if(!K)throw c("token '"+B+"', '"+N+"' expected");return!1}function F(N){var K=null,B;return N===void 0?(B=i[s-1],delete i[s-1],B&&(e||B.type==="*"||B.lineEmpty)&&(K=B.leading?B.text:null)):(a<N&&I(),B=i[N],delete i[N],B&&!B.lineEmpty&&(e||B.type==="/")&&(K=B.leading?null:B.text)),K}return Object.defineProperty({next:y,peek:I,push:A,skip:M,cmnt:F},"line",{get:function(){return s}})}});var hq=T((c2e,dq)=>{"use strict";dq.exports=vn;vn.filename=null;vn.defaults={keepCase:!1};var mpe=Gy(),cq=v_(),uq=m_(),fq=ii(),Tpe=f_(),pq=fo(),Spe=Or(),gpe=d_(),vpe=p_(),ype=oi(),Ope=po(),Hy=rt(),Ape=/^[1-9][0-9]*$/,Rpe=/^-?[1-9][0-9]*$/,Npe=/^0[x][0-9a-fA-F]+$/,Cpe=/^-?0[x][0-9a-fA-F]+$/,Ppe=/^0[0-7]+$/,Ipe=/^-?0[0-7]+$/,Lpe=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/,Xr=/^[a-zA-Z_][a-zA-Z_0-9]*$/,Wr=/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)(?:\.[a-zA-Z_][a-zA-Z_0-9]*)*$/;function vn(r,e,t){e instanceof cq||(t=e,e=new cq),t||(t=vn.defaults);var o=t.preferTrailingComment||!1,s=mpe(r,t.alternateCommentMode||!1),a=s.next,i=s.push,n=s.peek,l=s.skip,c=s.cmnt,u=!0,f,_,m,O="proto2",y=e,A=[],I={},M=t.keepCase?function(b){return b}:Hy.camelCase;function F(){A.forEach(b=>{b._edition=O,Object.keys(I).forEach(L=>{b.getOption(L)===void 0&&b.setOption(L,I[L],!0)})})}function N(b,L,x){var j=vn.filename;return x||(vn.filename=null),Error("illegal "+(L||"token")+" '"+b+"' ("+(j?j+", ":"")+"line "+s.line+")")}function K(){var b=[],L;do{if((L=a())!=='"'&&L!=="'")throw N(L);b.push(a()),l(L),L=n()}while(L==='"'||L==="'");return b.join("")}function B(b){var L=a();switch(L){case"'":case'"':return i(L),K();case"true":case"TRUE":return!0;case"false":case"FALSE":return!1}try{return te(L,!0)}catch{if(b&&Wr.test(L))return L;throw N(L,"value")}}function G(b,L){var x,j;do if(L&&((x=n())==='"'||x==="'")){var q=K();if(b.push(q),O>=2023)throw N(q,"id")}else try{b.push([j=$(a()),l("to",!0)?$(a()):j])}catch(be){if(L&&Wr.test(x)&&O>=2023)b.push(x);else throw be}while(l(",",!0));var ne={options:void 0};ne.setOption=function(be,ut){this.options===void 0&&(this.options={}),this.options[be]=ut},C(ne,function(ut){if(ut==="option")Z(ne,ut),l(";");else throw N(ut)},function(){We(ne)})}function te(b,L){var x=1;switch(b.charAt(0)==="-"&&(x=-1,b=b.substring(1)),b){case"inf":case"INF":case"Inf":return x*(1/0);case"nan":case"NAN":case"Nan":case"NaN":return NaN;case"0":return 0}if(Ape.test(b))return x*parseInt(b,10);if(Npe.test(b))return x*parseInt(b,16);if(Ppe.test(b))return x*parseInt(b,8);if(Lpe.test(b))return x*parseFloat(b);throw N(b,"number",L)}function $(b,L){switch(b){case"max":case"MAX":case"Max":return 536870911;case"0":return 0}if(!L&&b.charAt(0)==="-")throw N(b,"id");if(Rpe.test(b))return parseInt(b,10);if(Cpe.test(b))return parseInt(b,16);if(Ipe.test(b))return parseInt(b,8);throw N(b,"id")}function le(){if(f!==void 0)throw N("package");if(f=a(),!Wr.test(f))throw N(f,"name");y=y.define(f),l(";")}function v(){var b=n(),L;switch(b){case"weak":L=m||(m=[]),a();break;case"public":a();default:L=_||(_=[]);break}b=K(),l(";"),L.push(b)}function W(){if(l("="),O=K(),O<2023)throw N(O,"syntax");l(";")}function R(){if(l("="),O=K(),!["2023"].includes(O))throw N(O,"edition");l(";")}function E(b,L){switch(L){case"option":return Z(b,L),l(";"),!0;case"message":return Q(b,L),!0;case"enum":return Me(b,L),!0;case"service":return Uo(b,L),!0;case"extend":return Ti(b,L),!0}return!1}function C(b,L,x){var j=s.line;if(b&&(typeof b.comment!="string"&&(b.comment=c()),b.filename=vn.filename),l("{",!0)){for(var q;(q=a())!=="}";)L(q);l(";",!0)}else x&&x(),l(";"),b&&(typeof b.comment!="string"||o)&&(b.comment=c(j)||b.comment)}function Q(b,L){if(!Xr.test(L=a()))throw N(L,"type name");var x=new uq(L);C(x,function(q){if(!E(x,q))switch(q){case"map":ce(x,q);break;case"required":if(O!=="proto2")throw N(q);case"repeated":Y(x,q);break;case"optional":if(O==="proto3")Y(x,"proto3_optional");else{if(O!=="proto2")throw N(q);Y(x,"optional")}break;case"oneof":Ne(x,q);break;case"extensions":G(x.extensions||(x.extensions=[]));break;case"reserved":G(x.reserved||(x.reserved=[]),!0);break;default:if(O==="proto2"||!Wr.test(q))throw N(q);i(q),Y(x,"optional");break}}),b.add(x),b===y&&A.push(x)}function Y(b,L,x){var j=a();if(j==="group"){J(b,L);return}for(;j.endsWith(".")||n().startsWith(".");)j+=a();if(!Wr.test(j))throw N(j,"type");var q=a();if(!Xr.test(q))throw N(q,"name");q=M(q),l("=");var ne=new fq(q,$(a()),j,L,x);if(C(ne,function(Et){if(Et==="option")Z(ne,Et),l(";");else throw N(Et)},function(){We(ne)}),L==="proto3_optional"){var be=new pq("_"+q);ne.setOption("proto3_optional",!0),be.add(ne),b.add(be)}else b.add(ne);b===y&&A.push(ne)}function J(b,L){if(O>=2023)throw N("group");var x=a();if(!Xr.test(x))throw N(x,"name");var j=Hy.lcFirst(x);x===j&&(x=Hy.ucFirst(x)),l("=");var q=$(a()),ne=new uq(x);ne.group=!0;var be=new fq(j,q,x,L);be.filename=vn.filename,C(ne,function(Et){switch(Et){case"option":Z(ne,Et),l(";");break;case"required":case"repeated":Y(ne,Et);break;case"optional":O==="proto3"?Y(ne,"proto3_optional"):Y(ne,"optional");break;case"message":Q(ne,Et);break;case"enum":Me(ne,Et);break;case"reserved":G(ne.reserved||(ne.reserved=[]),!0);break;default:throw N(Et)}}),b.add(ne).add(be)}function ce(b){l("<");var L=a();if(Ope.mapKey[L]===void 0)throw N(L,"type");l(",");var x=a();if(!Wr.test(x))throw N(x,"type");l(">");var j=a();if(!Xr.test(j))throw N(j,"name");l("=");var q=new Tpe(M(j),$(a()),L,x);C(q,function(be){if(be==="option")Z(q,be),l(";");else throw N(be)},function(){We(q)}),b.add(q)}function Ne(b,L){if(!Xr.test(L=a()))throw N(L,"name");var x=new pq(M(L));C(x,function(q){q==="option"?(Z(x,q),l(";")):(i(q),Y(x,"optional"))}),b.add(x)}function Me(b,L){if(!Xr.test(L=a()))throw N(L,"name");var x=new Spe(L);C(x,function(q){switch(q){case"option":Z(x,q),l(";");break;case"reserved":G(x.reserved||(x.reserved=[]),!0),x.reserved===void 0&&(x.reserved=[]);break;default:Te(x,q)}}),b.add(x),b===y&&A.push(x)}function Te(b,L){if(!Xr.test(L))throw N(L,"name");l("=");var x=$(a(),!0),j={options:void 0};j.getOption=function(q){return this.options[q]},j.setOption=function(q,ne){ype.prototype.setOption.call(j,q,ne)},j.setParsedOption=function(){},C(j,function(ne){if(ne==="option")Z(j,ne),l(";");else throw N(ne)},function(){We(j)}),b.add(L,x,j.comment,j.parsedOptions||j.options)}function Z(b,L){var x,j,q=!0;for(L==="option"&&(L=a());L!=="=";){if(L==="("){var ne=a();l(")"),L="("+ne+")"}if(q){if(q=!1,L.includes(".")&&!L.includes("(")){var be=L.split(".");x=be[0]+".",L=be[1];continue}x=L}else j=j?j+=L:L;L=a()}var ut=j?x.concat(j):x,Et=je(b,ut);j=j&&j[0]==="."?j.slice(1):j,x=x&&x[x.length-1]==="."?x.slice(0,-1):x,we(b,x,Et,j)}function je(b,L){if(l("{",!0)){for(var x={};!l("}",!0);){if(!Xr.test(Ye=a()))throw N(Ye,"name");if(Ye===null)throw N(Ye,"end of input");var j,q=Ye;if(l(":",!0),n()==="{")j=je(b,L+"."+Ye);else if(n()==="["){j=[];var ne;if(l("[",!0)){do ne=B(!0),j.push(ne);while(l(",",!0));l("]"),typeof ne<"u"&&Ee(b,L+"."+Ye,ne)}}else j=B(!0),Ee(b,L+"."+Ye,j);var be=x[q];be&&(j=[].concat(be).concat(j)),x[q]=j,l(",",!0),l(";",!0)}return x}var ut=B(!0);return Ee(b,L,ut),ut}function Ee(b,L,x){if(y===b&&/^features\./.test(L)){I[L]=x;return}b.setOption&&b.setOption(L,x)}function we(b,L,x,j){b.setParsedOption&&b.setParsedOption(L,x,j)}function We(b){if(l("[",!0)){do Z(b,"option");while(l(",",!0));l("]")}return b}function Uo(b,L){if(!Xr.test(L=a()))throw N(L,"service name");var x=new gpe(L);C(x,function(q){if(!E(x,q))if(q==="rpc")ko(x,q);else throw N(q)}),b.add(x),b===y&&A.push(x)}function ko(b,L){var x=c(),j=L;if(!Xr.test(L=a()))throw N(L,"name");var q=L,ne,be,ut,Et;if(l("("),l("stream",!0)&&(be=!0),!Wr.test(L=a())||(ne=L,l(")"),l("returns"),l("("),l("stream",!0)&&(Et=!0),!Wr.test(L=a())))throw N(L);ut=L,l(")");var wu=new vpe(q,j,ne,ut,be,Et);wu.comment=x,C(wu,function(mm){if(mm==="option")Z(wu,mm),l(";");else throw N(mm)}),b.add(wu)}function Ti(b,L){if(!Wr.test(L=a()))throw N(L,"reference");var x=L;C(null,function(q){switch(q){case"required":case"repeated":Y(b,q,x);break;case"optional":O==="proto3"?Y(b,"proto3_optional",x):Y(b,"optional",x);break;default:if(O==="proto2"||!Wr.test(q))throw N(q);i(q),Y(b,"optional",x);break}})}for(var Ye;(Ye=a())!==null;)switch(Ye){case"package":if(!u)throw N(Ye);le();break;case"import":if(!u)throw N(Ye);v();break;case"syntax":if(!u)throw N(Ye);W();break;case"edition":if(!u)throw N(Ye);R();break;case"option":Z(y,Ye),l(";",!0);break;default:if(E(y,Ye)){u=!1;continue}throw N(Ye)}return F(),vn.filename=null,{package:f,imports:_,weakImports:m,root:e}}});var mq=T((u2e,Eq)=>{"use strict";Eq.exports=Rr;var bpe=/\/|\./;function Rr(r,e){bpe.test(r)||(r="google/protobuf/"+r+".proto",e={nested:{google:{nested:{protobuf:{nested:e}}}}}),Rr[r]=e}Rr("any",{Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}}});var _q;Rr("duration",{Duration:_q={fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}}});Rr("timestamp",{Timestamp:_q});Rr("empty",{Empty:{fields:{}}});Rr("struct",{Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},fields:{nullValue:{type:"NullValue",id:1},numberValue:{type:"double",id:2},stringValue:{type:"string",id:3},boolValue:{type:"bool",id:4},structValue:{type:"Struct",id:5},listValue:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}}});Rr("wrappers",{DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}}});Rr("field_mask",{FieldMask:{fields:{paths:{rule:"repeated",type:"string",id:1}}}});Rr.get=function(e){return Rr[e]||null}});var Sq=T((f2e,Tq)=>{"use strict";var ai=Tq.exports=oq();ai.build="full";ai.tokenize=Gy();ai.parse=hq();ai.common=mq();ai.Root._configure(ai.Type,ai.parse,ai.common)});var N_=T((p2e,gq)=>{"use strict";gq.exports=Sq()});var qy=T((d2e,xpe)=>{xpe.exports={nested:{google:{nested:{protobuf:{options:{go_package:"google.golang.org/protobuf/types/descriptorpb",java_package:"com.google.protobuf",java_outer_classname:"DescriptorProtos",csharp_namespace:"Google.Protobuf.Reflection",objc_class_prefix:"GPB",cc_enable_arenas:!0,optimize_for:"SPEED"},nested:{FileDescriptorSet:{edition:"proto2",fields:{file:{rule:"repeated",type:"FileDescriptorProto",id:1}},extensions:[[536e6,536e6]]},Edition:{edition:"proto2",values:{EDITION_UNKNOWN:0,EDITION_LEGACY:900,EDITION_PROTO2:998,EDITION_PROTO3:999,EDITION_2023:1e3,EDITION_2024:1001,EDITION_1_TEST_ONLY:1,EDITION_2_TEST_ONLY:2,EDITION_99997_TEST_ONLY:99997,EDITION_99998_TEST_ONLY:99998,EDITION_99999_TEST_ONLY:99999,EDITION_MAX:2147483647}},FileDescriptorProto:{edition:"proto2",fields:{name:{type:"string",id:1},package:{type:"string",id:2},dependency:{rule:"repeated",type:"string",id:3},publicDependency:{rule:"repeated",type:"int32",id:10},weakDependency:{rule:"repeated",type:"int32",id:11},optionDependency:{rule:"repeated",type:"string",id:15},messageType:{rule:"repeated",type:"DescriptorProto",id:4},enumType:{rule:"repeated",type:"EnumDescriptorProto",id:5},service:{rule:"repeated",type:"ServiceDescriptorProto",id:6},extension:{rule:"repeated",type:"FieldDescriptorProto",id:7},options:{type:"FileOptions",id:8},sourceCodeInfo:{type:"SourceCodeInfo",id:9},syntax:{type:"string",id:12},edition:{type:"Edition",id:14}}},DescriptorProto:{edition:"proto2",fields:{name:{type:"string",id:1},field:{rule:"repeated",type:"FieldDescriptorProto",id:2},extension:{rule:"repeated",type:"FieldDescriptorProto",id:6},nestedType:{rule:"repeated",type:"DescriptorProto",id:3},enumType:{rule:"repeated",type:"EnumDescriptorProto",id:4},extensionRange:{rule:"repeated",type:"ExtensionRange",id:5},oneofDecl:{rule:"repeated",type:"OneofDescriptorProto",id:8},options:{type:"MessageOptions",id:7},reservedRange:{rule:"repeated",type:"ReservedRange",id:9},reservedName:{rule:"repeated",type:"string",id:10},visibility:{type:"SymbolVisibility",id:11}},nested:{ExtensionRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2},options:{type:"ExtensionRangeOptions",id:3}}},ReservedRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2}}}}},ExtensionRangeOptions:{edition:"proto2",fields:{uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999},declaration:{rule:"repeated",type:"Declaration",id:2,options:{retention:"RETENTION_SOURCE"}},features:{type:"FeatureSet",id:50},verification:{type:"VerificationState",id:3,options:{default:"UNVERIFIED",retention:"RETENTION_SOURCE"}}},extensions:[[1e3,536870911]],nested:{Declaration:{fields:{number:{type:"int32",id:1},fullName:{type:"string",id:2},type:{type:"string",id:3},reserved:{type:"bool",id:5},repeated:{type:"bool",id:6}},reserved:[[4,4]]},VerificationState:{values:{DECLARATION:0,UNVERIFIED:1}}}},FieldDescriptorProto:{edition:"proto2",fields:{name:{type:"string",id:1},number:{type:"int32",id:3},label:{type:"Label",id:4},type:{type:"Type",id:5},typeName:{type:"string",id:6},extendee:{type:"string",id:2},defaultValue:{type:"string",id:7},oneofIndex:{type:"int32",id:9},jsonName:{type:"string",id:10},options:{type:"FieldOptions",id:8},proto3Optional:{type:"bool",id:17}},nested:{Type:{values:{TYPE_DOUBLE:1,TYPE_FLOAT:2,TYPE_INT64:3,TYPE_UINT64:4,TYPE_INT32:5,TYPE_FIXED64:6,TYPE_FIXED32:7,TYPE_BOOL:8,TYPE_STRING:9,TYPE_GROUP:10,TYPE_MESSAGE:11,TYPE_BYTES:12,TYPE_UINT32:13,TYPE_ENUM:14,TYPE_SFIXED32:15,TYPE_SFIXED64:16,TYPE_SINT32:17,TYPE_SINT64:18}},Label:{values:{LABEL_OPTIONAL:1,LABEL_REPEATED:3,LABEL_REQUIRED:2}}}},OneofDescriptorProto:{edition:"proto2",fields:{name:{type:"string",id:1},options:{type:"OneofOptions",id:2}}},EnumDescriptorProto:{edition:"proto2",fields:{name:{type:"string",id:1},value:{rule:"repeated",type:"EnumValueDescriptorProto",id:2},options:{type:"EnumOptions",id:3},reservedRange:{rule:"repeated",type:"EnumReservedRange",id:4},reservedName:{rule:"repeated",type:"string",id:5},visibility:{type:"SymbolVisibility",id:6}},nested:{EnumReservedRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2}}}}},EnumValueDescriptorProto:{edition:"proto2",fields:{name:{type:"string",id:1},number:{type:"int32",id:2},options:{type:"EnumValueOptions",id:3}}},ServiceDescriptorProto:{edition:"proto2",fields:{name:{type:"string",id:1},method:{rule:"repeated",type:"MethodDescriptorProto",id:2},options:{type:"ServiceOptions",id:3}}},MethodDescriptorProto:{edition:"proto2",fields:{name:{type:"string",id:1},inputType:{type:"string",id:2},outputType:{type:"string",id:3},options:{type:"MethodOptions",id:4},clientStreaming:{type:"bool",id:5},serverStreaming:{type:"bool",id:6}}},FileOptions:{edition:"proto2",fields:{javaPackage:{type:"string",id:1},javaOuterClassname:{type:"string",id:8},javaMultipleFiles:{type:"bool",id:10},javaGenerateEqualsAndHash:{type:"bool",id:20,options:{deprecated:!0}},javaStringCheckUtf8:{type:"bool",id:27},optimizeFor:{type:"OptimizeMode",id:9,options:{default:"SPEED"}},goPackage:{type:"string",id:11},ccGenericServices:{type:"bool",id:16},javaGenericServices:{type:"bool",id:17},pyGenericServices:{type:"bool",id:18},deprecated:{type:"bool",id:23},ccEnableArenas:{type:"bool",id:31,options:{default:!0}},objcClassPrefix:{type:"string",id:36},csharpNamespace:{type:"string",id:37},swiftPrefix:{type:"string",id:39},phpClassPrefix:{type:"string",id:40},phpNamespace:{type:"string",id:41},phpMetadataNamespace:{type:"string",id:44},rubyPackage:{type:"string",id:45},features:{type:"FeatureSet",id:50},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[42,42],"php_generic_services",[38,38]],nested:{OptimizeMode:{values:{SPEED:1,CODE_SIZE:2,LITE_RUNTIME:3}}}},MessageOptions:{edition:"proto2",fields:{messageSetWireFormat:{type:"bool",id:1},noStandardDescriptorAccessor:{type:"bool",id:2},deprecated:{type:"bool",id:3},mapEntry:{type:"bool",id:7},deprecatedLegacyJsonFieldConflicts:{type:"bool",id:11,options:{deprecated:!0}},features:{type:"FeatureSet",id:12},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[4,4],[5,5],[6,6],[8,8],[9,9]]},FieldOptions:{edition:"proto2",fields:{ctype:{type:"CType",id:1,options:{default:"STRING"}},packed:{type:"bool",id:2},jstype:{type:"JSType",id:6,options:{default:"JS_NORMAL"}},lazy:{type:"bool",id:5},unverifiedLazy:{type:"bool",id:15},deprecated:{type:"bool",id:3},weak:{type:"bool",id:10,options:{deprecated:!0}},debugRedact:{type:"bool",id:16},retention:{type:"OptionRetention",id:17},targets:{rule:"repeated",type:"OptionTargetType",id:19},editionDefaults:{rule:"repeated",type:"EditionDefault",id:20},features:{type:"FeatureSet",id:21},featureSupport:{type:"FeatureSupport",id:22},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[4,4],[18,18]],nested:{CType:{values:{STRING:0,CORD:1,STRING_PIECE:2}},JSType:{values:{JS_NORMAL:0,JS_STRING:1,JS_NUMBER:2}},OptionRetention:{values:{RETENTION_UNKNOWN:0,RETENTION_RUNTIME:1,RETENTION_SOURCE:2}},OptionTargetType:{values:{TARGET_TYPE_UNKNOWN:0,TARGET_TYPE_FILE:1,TARGET_TYPE_EXTENSION_RANGE:2,TARGET_TYPE_MESSAGE:3,TARGET_TYPE_FIELD:4,TARGET_TYPE_ONEOF:5,TARGET_TYPE_ENUM:6,TARGET_TYPE_ENUM_ENTRY:7,TARGET_TYPE_SERVICE:8,TARGET_TYPE_METHOD:9}},EditionDefault:{fields:{edition:{type:"Edition",id:3},value:{type:"string",id:2}}},FeatureSupport:{fields:{editionIntroduced:{type:"Edition",id:1},editionDeprecated:{type:"Edition",id:2},deprecationWarning:{type:"string",id:3},editionRemoved:{type:"Edition",id:4}}}}},OneofOptions:{edition:"proto2",fields:{features:{type:"FeatureSet",id:1},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},EnumOptions:{edition:"proto2",fields:{allowAlias:{type:"bool",id:2},deprecated:{type:"bool",id:3},deprecatedLegacyJsonFieldConflicts:{type:"bool",id:6,options:{deprecated:!0}},features:{type:"FeatureSet",id:7},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[5,5]]},EnumValueOptions:{edition:"proto2",fields:{deprecated:{type:"bool",id:1},features:{type:"FeatureSet",id:2},debugRedact:{type:"bool",id:3},featureSupport:{type:"FieldOptions.FeatureSupport",id:4},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},ServiceOptions:{edition:"proto2",fields:{features:{type:"FeatureSet",id:34},deprecated:{type:"bool",id:33},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},MethodOptions:{edition:"proto2",fields:{deprecated:{type:"bool",id:33},idempotencyLevel:{type:"IdempotencyLevel",id:34,options:{default:"IDEMPOTENCY_UNKNOWN"}},features:{type:"FeatureSet",id:35},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],nested:{IdempotencyLevel:{values:{IDEMPOTENCY_UNKNOWN:0,NO_SIDE_EFFECTS:1,IDEMPOTENT:2}}}},UninterpretedOption:{edition:"proto2",fields:{name:{rule:"repeated",type:"NamePart",id:2},identifierValue:{type:"string",id:3},positiveIntValue:{type:"uint64",id:4},negativeIntValue:{type:"int64",id:5},doubleValue:{type:"double",id:6},stringValue:{type:"bytes",id:7},aggregateValue:{type:"string",id:8}},nested:{NamePart:{fields:{namePart:{rule:"required",type:"string",id:1},isExtension:{rule:"required",type:"bool",id:2}}}}},FeatureSet:{edition:"proto2",fields:{fieldPresence:{type:"FieldPresence",id:1,options:{retention:"RETENTION_RUNTIME",targets:"TARGET_TYPE_FILE","feature_support.edition_introduced":"EDITION_2023","edition_defaults.edition":"EDITION_2023","edition_defaults.value":"EXPLICIT"}},enumType:{type:"EnumType",id:2,options:{retention:"RETENTION_RUNTIME",targets:"TARGET_TYPE_FILE","feature_support.edition_introduced":"EDITION_2023","edition_defaults.edition":"EDITION_PROTO3","edition_defaults.value":"OPEN"}},repeatedFieldEncoding:{type:"RepeatedFieldEncoding",id:3,options:{retention:"RETENTION_RUNTIME",targets:"TARGET_TYPE_FILE","feature_support.edition_introduced":"EDITION_2023","edition_defaults.edition":"EDITION_PROTO3","edition_defaults.value":"PACKED"}},utf8Validation:{type:"Utf8Validation",id:4,options:{retention:"RETENTION_RUNTIME",targets:"TARGET_TYPE_FILE","feature_support.edition_introduced":"EDITION_2023","edition_defaults.edition":"EDITION_PROTO3","edition_defaults.value":"VERIFY"}},messageEncoding:{type:"MessageEncoding",id:5,options:{retention:"RETENTION_RUNTIME",targets:"TARGET_TYPE_FILE","feature_support.edition_introduced":"EDITION_2023","edition_defaults.edition":"EDITION_LEGACY","edition_defaults.value":"LENGTH_PREFIXED"}},jsonFormat:{type:"JsonFormat",id:6,options:{retention:"RETENTION_RUNTIME",targets:"TARGET_TYPE_FILE","feature_support.edition_introduced":"EDITION_2023","edition_defaults.edition":"EDITION_PROTO3","edition_defaults.value":"ALLOW"}},enforceNamingStyle:{type:"EnforceNamingStyle",id:7,options:{retention:"RETENTION_SOURCE",targets:"TARGET_TYPE_METHOD","feature_support.edition_introduced":"EDITION_2024","edition_defaults.edition":"EDITION_2024","edition_defaults.value":"STYLE2024"}},defaultSymbolVisibility:{type:"VisibilityFeature.DefaultSymbolVisibility",id:8,options:{retention:"RETENTION_SOURCE",targets:"TARGET_TYPE_FILE","feature_support.edition_introduced":"EDITION_2024","edition_defaults.edition":"EDITION_2024","edition_defaults.value":"EXPORT_TOP_LEVEL"}}},extensions:[[1e3,9994],[9995,9999],[1e4,1e4]],reserved:[[999,999]],nested:{FieldPresence:{values:{FIELD_PRESENCE_UNKNOWN:0,EXPLICIT:1,IMPLICIT:2,LEGACY_REQUIRED:3}},EnumType:{values:{ENUM_TYPE_UNKNOWN:0,OPEN:1,CLOSED:2}},RepeatedFieldEncoding:{values:{REPEATED_FIELD_ENCODING_UNKNOWN:0,PACKED:1,EXPANDED:2}},Utf8Validation:{values:{UTF8_VALIDATION_UNKNOWN:0,VERIFY:2,NONE:3}},MessageEncoding:{values:{MESSAGE_ENCODING_UNKNOWN:0,LENGTH_PREFIXED:1,DELIMITED:2}},JsonFormat:{values:{JSON_FORMAT_UNKNOWN:0,ALLOW:1,LEGACY_BEST_EFFORT:2}},EnforceNamingStyle:{values:{ENFORCE_NAMING_STYLE_UNKNOWN:0,STYLE2024:1,STYLE_LEGACY:2}},VisibilityFeature:{fields:{},reserved:[[1,536870911]],nested:{DefaultSymbolVisibility:{values:{DEFAULT_SYMBOL_VISIBILITY_UNKNOWN:0,EXPORT_ALL:1,EXPORT_TOP_LEVEL:2,LOCAL_ALL:3,STRICT:4}}}}}},FeatureSetDefaults:{edition:"proto2",fields:{defaults:{rule:"repeated",type:"FeatureSetEditionDefault",id:1},minimumEdition:{type:"Edition",id:4},maximumEdition:{type:"Edition",id:5}},nested:{FeatureSetEditionDefault:{fields:{edition:{type:"Edition",id:3},overridableFeatures:{type:"FeatureSet",id:4},fixedFeatures:{type:"FeatureSet",id:5}},reserved:[[1,1],[2,2],"features"]}}},SourceCodeInfo:{edition:"proto2",fields:{location:{rule:"repeated",type:"Location",id:1}},extensions:[[536e6,536e6]],nested:{Location:{fields:{path:{rule:"repeated",type:"int32",id:1,options:{packed:!0}},span:{rule:"repeated",type:"int32",id:2,options:{packed:!0}},leadingComments:{type:"string",id:3},trailingComments:{type:"string",id:4},leadingDetachedComments:{rule:"repeated",type:"string",id:6}}}}},GeneratedCodeInfo:{edition:"proto2",fields:{annotation:{rule:"repeated",type:"Annotation",id:1}},nested:{Annotation:{fields:{path:{rule:"repeated",type:"int32",id:1,options:{packed:!0}},sourceFile:{type:"string",id:2},begin:{type:"int32",id:3},end:{type:"int32",id:4},semantic:{type:"Semantic",id:5}},nested:{Semantic:{values:{NONE:0,SET:1,ALIAS:2}}}}}},SymbolVisibility:{edition:"proto2",values:{VISIBILITY_UNSET:0,VISIBILITY_LOCAL:1,VISIBILITY_EXPORT:2}}}}}}}}});var Cq=T((ae,Nq)=>{"use strict";var Ht=N_();Nq.exports=ae=Ht.descriptor=Ht.Root.fromJSON(qy()).lookup(".google.protobuf");var vq=Ht.Namespace,Xc=Ht.Root,yn=Ht.Enum,Jr=Ht.Type,li=Ht.Field,Mpe=Ht.MapField,C_=Ht.OneOf,Wc=Ht.Service,P_=Ht.Method;Xc.fromDescriptor=function(e){typeof e.length=="number"&&(e=ae.FileDescriptorSet.decode(e));var t=new Xc;if(e.file)for(var o,s,a=0,i;a<e.file.length;++a){s=t,(o=e.file[a]).package&&o.package.length&&(s=t.define(o.package));var n=qpe(o);if(o.name&&o.name.length&&t.files.push(s.filename=o.name),o.messageType)for(i=0;i<o.messageType.length;++i)s.add(Jr.fromDescriptor(o.messageType[i],n));if(o.enumType)for(i=0;i<o.enumType.length;++i)s.add(yn.fromDescriptor(o.enumType[i],n));if(o.extension)for(i=0;i<o.extension.length;++i)s.add(li.fromDescriptor(o.extension[i],n));if(o.service)for(i=0;i<o.service.length;++i)s.add(Wc.fromDescriptor(o.service[i],n));var l=ha(o.options,ae.FileOptions);if(l){var c=Object.keys(l);for(i=0;i<c.length;++i)s.setOption(c[i],l[c[i]])}}return t.resolveAll()};Xc.prototype.toDescriptor=function(e){var t=ae.FileDescriptorSet.create();return yq(this,t.file,e),t};function yq(r,e,t){var o=ae.FileDescriptorProto.create({name:r.filename||(r.fullName.substring(1).replace(/\./g,"_")||"root")+".proto"});jpe(t,o),r instanceof Xc||(o.package=r.fullName.substring(1));for(var s=0,a;s<r.nestedArray.length;++s)(a=r._nestedArray[s])instanceof Jr?o.messageType.push(a.toDescriptor(t)):a instanceof yn?o.enumType.push(a.toDescriptor()):a instanceof li?o.extension.push(a.toDescriptor(t)):a instanceof Wc?o.service.push(a.toDescriptor()):a instanceof vq&&yq(a,e,t);o.options=_a(r.options,ae.FileOptions),o.messageType.length+o.enumType.length+o.extension.length+o.service.length&&e.push(o)}var wpe=0;Jr.fromDescriptor=function(e,t,o){typeof e.length=="number"&&(e=ae.DescriptorProto.decode(e));var s=new Jr(e.name.length?e.name:"Type"+wpe++,ha(e.options,ae.MessageOptions)),a;if(o||(s._edition=t),e.oneofDecl)for(a=0;a<e.oneofDecl.length;++a)s.add(C_.fromDescriptor(e.oneofDecl[a]));if(e.field)for(a=0;a<e.field.length;++a){var i=li.fromDescriptor(e.field[a],t,!0);s.add(i),e.field[a].hasOwnProperty("oneofIndex")&&s.oneofsArray[e.field[a].oneofIndex].add(i)}if(e.extension)for(a=0;a<e.extension.length;++a)s.add(li.fromDescriptor(e.extension[a],t,!0));if(e.nestedType)for(a=0;a<e.nestedType.length;++a)s.add(Jr.fromDescriptor(e.nestedType[a],t,!0)),e.nestedType[a].options&&e.nestedType[a].options.mapEntry&&s.setOption("map_entry",!0);if(e.enumType)for(a=0;a<e.enumType.length;++a)s.add(yn.fromDescriptor(e.enumType[a],t,!0));if(e.extensionRange&&e.extensionRange.length)for(s.extensions=[],a=0;a<e.extensionRange.length;++a)s.extensions.push([e.extensionRange[a].start,e.extensionRange[a].end]);if(e.reservedRange&&e.reservedRange.length||e.reservedName&&e.reservedName.length){if(s.reserved=[],e.reservedRange)for(a=0;a<e.reservedRange.length;++a)s.reserved.push([e.reservedRange[a].start,e.reservedRange[a].end]);if(e.reservedName)for(a=0;a<e.reservedName.length;++a)s.reserved.push(e.reservedName[a])}return s};Jr.prototype.toDescriptor=function(e){var t=ae.DescriptorProto.create({name:this.name}),o;for(o=0;o<this.fieldsArray.length;++o){var s;if(t.field.push(s=this._fieldsArray[o].toDescriptor(e)),this._fieldsArray[o]instanceof Mpe){var a=jy(this._fieldsArray[o].keyType,this._fieldsArray[o].resolvedKeyType,!1),i=jy(this._fieldsArray[o].type,this._fieldsArray[o].resolvedType,!1),n=i===11||i===14?this._fieldsArray[o].resolvedType&&Rq(this.parent,this._fieldsArray[o].resolvedType)||this._fieldsArray[o].type:void 0;t.nestedType.push(ae.DescriptorProto.create({name:s.typeName,field:[ae.FieldDescriptorProto.create({name:"key",number:1,label:1,type:a}),ae.FieldDescriptorProto.create({name:"value",number:2,label:1,type:i,typeName:n})],options:ae.MessageOptions.create({mapEntry:!0})}))}}for(o=0;o<this.oneofsArray.length;++o)t.oneofDecl.push(this._oneofsArray[o].toDescriptor());for(o=0;o<this.nestedArray.length;++o)this._nestedArray[o]instanceof li?t.field.push(this._nestedArray[o].toDescriptor(e)):this._nestedArray[o]instanceof Jr?t.nestedType.push(this._nestedArray[o].toDescriptor(e)):this._nestedArray[o]instanceof yn&&t.enumType.push(this._nestedArray[o].toDescriptor());if(this.extensions)for(o=0;o<this.extensions.length;++o)t.extensionRange.push(ae.DescriptorProto.ExtensionRange.create({start:this.extensions[o][0],end:this.extensions[o][1]}));if(this.reserved)for(o=0;o<this.reserved.length;++o)typeof this.reserved[o]=="string"?t.reservedName.push(this.reserved[o]):t.reservedRange.push(ae.DescriptorProto.ReservedRange.create({start:this.reserved[o][0],end:this.reserved[o][1]}));return t.options=_a(this.options,ae.MessageOptions),t};var Dpe=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/;li.fromDescriptor=function(e,t,o){if(typeof e.length=="number"&&(e=ae.DescriptorProto.decode(e)),typeof e.number!="number")throw Error("missing field id");var s;e.typeName&&e.typeName.length?s=e.typeName:s=Fpe(e.type);var a;switch(e.label){case 1:a=void 0;break;case 2:a="required";break;case 3:a="repeated";break;default:throw Error("illegal label: "+e.label)}var i=e.extendee;e.extendee!==void 0&&(i=i.length?i:void 0);var n=new li(e.name.length?e.name:"field"+e.number,e.number,s,a,i);if(o||(n._edition=t),n.options=ha(e.options,ae.FieldOptions),e.proto3_optional&&(n.options.proto3_optional=!0),e.defaultValue&&e.defaultValue.length){var l=e.defaultValue;switch(l){case"true":case"TRUE":l=!0;break;case"false":case"FALSE":l=!1;break;default:var c=Dpe.exec(l);c&&(l=parseInt(l));break}n.setOption("default",l)}return Gpe(e.type)&&(t==="proto3"?e.options&&!e.options.packed&&n.setOption("packed",!1):(!t||t==="proto2")&&e.options&&e.options.packed&&n.setOption("packed",!0)),n};li.prototype.toDescriptor=function(e){var t=ae.FieldDescriptorProto.create({name:this.name,number:this.id});if(this.map)t.type=11,t.typeName=Ht.util.ucFirst(this.name),t.label=3;else{switch(t.type=jy(this.type,this.resolve().resolvedType,this.delimited)){case 10:case 11:case 14:t.typeName=this.resolvedType?Rq(this.parent,this.resolvedType):this.type;break}this.rule==="repeated"?t.label=3:this.required&&e==="proto2"?t.label=2:t.label=1}if(t.extendee=this.extensionField?this.extensionField.parent.fullName:this.extend,this.partOf&&(t.oneofIndex=this.parent.oneofsArray.indexOf(this.partOf))<0)throw Error("missing oneof");return this.options&&(t.options=_a(this.options,ae.FieldOptions),this.options.default!=null&&(t.defaultValue=String(this.options.default)),this.options.proto3_optional&&(t.proto3_optional=!0)),e==="proto3"?this.packed||((t.options||(t.options=ae.FieldOptions.create())).packed=!1):(!e||e==="proto2")&&this.packed&&((t.options||(t.options=ae.FieldOptions.create())).packed=!0),t};var Upe=0;yn.fromDescriptor=function(e,t,o){typeof e.length=="number"&&(e=ae.EnumDescriptorProto.decode(e));var s={};if(e.value)for(var a=0;a<e.value.length;++a){var i=e.value[a].name,n=e.value[a].number||0;s[i&&i.length?i:"NAME"+n]=n}var l=new yn(e.name&&e.name.length?e.name:"Enum"+Upe++,s,ha(e.options,ae.EnumOptions));return o||(l._edition=t),l};yn.prototype.toDescriptor=function(){for(var e=[],t=0,o=Object.keys(this.values);t<o.length;++t)e.push(ae.EnumValueDescriptorProto.create({name:o[t],number:this.values[o[t]]}));return ae.EnumDescriptorProto.create({name:this.name,value:e,options:_a(this.options,ae.EnumOptions)})};var kpe=0;C_.fromDescriptor=function(e){return typeof e.length=="number"&&(e=ae.OneofDescriptorProto.decode(e)),new C_(e.name&&e.name.length?e.name:"oneof"+kpe++)};C_.prototype.toDescriptor=function(){return ae.OneofDescriptorProto.create({name:this.name})};var Bpe=0;Wc.fromDescriptor=function(e,t,o){typeof e.length=="number"&&(e=ae.ServiceDescriptorProto.decode(e));var s=new Wc(e.name&&e.name.length?e.name:"Service"+Bpe++,ha(e.options,ae.ServiceOptions));if(o||(s._edition=t),e.method)for(var a=0;a<e.method.length;++a)s.add(P_.fromDescriptor(e.method[a]));return s};Wc.prototype.toDescriptor=function(){for(var e=[],t=0;t<this.methodsArray.length;++t)e.push(this._methodsArray[t].toDescriptor());return ae.ServiceDescriptorProto.create({name:this.name,method:e,options:_a(this.options,ae.ServiceOptions)})};var Vpe=0;P_.fromDescriptor=function(e){return typeof e.length=="number"&&(e=ae.MethodDescriptorProto.decode(e)),new P_(e.name&&e.name.length?e.name:"Method"+Vpe++,"rpc",e.inputType,e.outputType,!!e.clientStreaming,!!e.serverStreaming,ha(e.options,ae.MethodOptions))};P_.prototype.toDescriptor=function(){return ae.MethodDescriptorProto.create({name:this.name,inputType:this.resolvedRequestType?this.resolvedRequestType.fullName:this.requestType,outputType:this.resolvedResponseType?this.resolvedResponseType.fullName:this.responseType,clientStreaming:this.requestStream,serverStreaming:this.responseStream,options:_a(this.options,ae.MethodOptions)})};function Fpe(r){switch(r){case 1:return"double";case 2:return"float";case 3:return"int64";case 4:return"uint64";case 5:return"int32";case 6:return"fixed64";case 7:return"fixed32";case 8:return"bool";case 9:return"string";case 12:return"bytes";case 13:return"uint32";case 15:return"sfixed32";case 16:return"sfixed64";case 17:return"sint32";case 18:return"sint64"}throw Error("illegal type: "+r)}function Gpe(r){switch(r){case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 13:case 14:case 15:case 16:case 17:case 18:return!0}return!1}function jy(r,e,t){switch(r){case"double":return 1;case"float":return 2;case"int64":return 3;case"uint64":return 4;case"int32":return 5;case"fixed64":return 6;case"fixed32":return 7;case"bool":return 8;case"string":return 9;case"bytes":return 12;case"uint32":return 13;case"sfixed32":return 15;case"sfixed64":return 16;case"sint32":return 17;case"sint64":return 18}if(e instanceof yn)return 14;if(e instanceof Jr)return t?10:11;throw Error("illegal type: "+r)}function Oq(r,e){for(var t={},o=0,s,a;o<e.fieldsArray.length;++o)if((a=(s=e._fieldsArray[o]).name)!=="uninterpretedOption"&&Object.prototype.hasOwnProperty.call(r,a)){var i=Hpe(a);s.resolvedType instanceof Jr?t[i]=Oq(r[a],s.resolvedType):s.resolvedType instanceof yn?t[i]=s.resolvedType.valuesById[r[a]]:t[i]=r[a]}return t}function ha(r,e){if(r)return Oq(e.toObject(r),e)}function Aq(r,e){for(var t={},o=Object.keys(r),s=0;s<o.length;++s){var a=o[s],i=Ht.util.camelCase(a);if(Object.prototype.hasOwnProperty.call(e.fields,i)){var n=e.fields[i];n.resolvedType instanceof Jr?t[i]=Aq(r[a],n.resolvedType):t[i]=r[a],n.repeated&&!Array.isArray(t[i])&&(t[i]=[t[i]])}}return t}function _a(r,e){if(r)return e.fromObject(Aq(r,e))}function Rq(r,e){var t=r.fullName.split("."),o=e.fullName.split("."),s=0,a=0,i=o.length-1;if(!(r instanceof Xc)&&e instanceof vq)for(;s<t.length&&a<i&&t[s]===o[a];){var n=e.lookup(t[s++],!0);if(n!==null&&n!==e)break;++a}else for(;s<t.length&&a<i&&t[s]===o[a];++s,++a);return o.slice(a).join(".")}function Hpe(r){return r.substring(0,1)+r.substring(1).replace(/([A-Z])(?=[a-z]|$)/g,function(e,t){return"_"+t.toLowerCase()})}function qpe(r){if(r.syntax==="editions")switch(r.edition){case ae.Edition.EDITION_2023:return"2023";default:throw new Error("Unsupported edition "+r.edition)}return r.syntax==="proto3"?"proto3":"proto2"}function jpe(r,e){if(r)if(r==="proto2"||r==="proto3")e.syntax=r;else switch(e.syntax="editions",r){case"2023":e.edition=ae.Edition.EDITION_2023;break;default:throw new Error("Unsupported edition "+r)}}});var Pq=T((h2e,Ype)=>{Ype.exports={nested:{google:{nested:{protobuf:{nested:{Api:{fields:{name:{type:"string",id:1},methods:{rule:"repeated",type:"Method",id:2},options:{rule:"repeated",type:"Option",id:3},version:{type:"string",id:4},sourceContext:{type:"SourceContext",id:5},mixins:{rule:"repeated",type:"Mixin",id:6},syntax:{type:"Syntax",id:7}}},Method:{fields:{name:{type:"string",id:1},requestTypeUrl:{type:"string",id:2},requestStreaming:{type:"bool",id:3},responseTypeUrl:{type:"string",id:4},responseStreaming:{type:"bool",id:5},options:{rule:"repeated",type:"Option",id:6},syntax:{type:"Syntax",id:7}}},Mixin:{fields:{name:{type:"string",id:1},root:{type:"string",id:2}}},SourceContext:{fields:{fileName:{type:"string",id:1}}},Option:{fields:{name:{type:"string",id:1},value:{type:"Any",id:2}}},Syntax:{values:{SYNTAX_PROTO2:0,SYNTAX_PROTO3:1}}}}}}}}});var Iq=T((_2e,Kpe)=>{Kpe.exports={nested:{google:{nested:{protobuf:{nested:{SourceContext:{fields:{fileName:{type:"string",id:1}}}}}}}}}});var Lq=T((E2e,zpe)=>{zpe.exports={nested:{google:{nested:{protobuf:{nested:{Type:{fields:{name:{type:"string",id:1},fields:{rule:"repeated",type:"Field",id:2},oneofs:{rule:"repeated",type:"string",id:3},options:{rule:"repeated",type:"Option",id:4},sourceContext:{type:"SourceContext",id:5},syntax:{type:"Syntax",id:6}}},Field:{fields:{kind:{type:"Kind",id:1},cardinality:{type:"Cardinality",id:2},number:{type:"int32",id:3},name:{type:"string",id:4},typeUrl:{type:"string",id:6},oneofIndex:{type:"int32",id:7},packed:{type:"bool",id:8},options:{rule:"repeated",type:"Option",id:9},jsonName:{type:"string",id:10},defaultValue:{type:"string",id:11}},nested:{Kind:{values:{TYPE_UNKNOWN:0,TYPE_DOUBLE:1,TYPE_FLOAT:2,TYPE_INT64:3,TYPE_UINT64:4,TYPE_INT32:5,TYPE_FIXED64:6,TYPE_FIXED32:7,TYPE_BOOL:8,TYPE_STRING:9,TYPE_GROUP:10,TYPE_MESSAGE:11,TYPE_BYTES:12,TYPE_UINT32:13,TYPE_ENUM:14,TYPE_SFIXED32:15,TYPE_SFIXED64:16,TYPE_SINT32:17,TYPE_SINT64:18}},Cardinality:{values:{CARDINALITY_UNKNOWN:0,CARDINALITY_OPTIONAL:1,CARDINALITY_REQUIRED:2,CARDINALITY_REPEATED:3}}}},Enum:{fields:{name:{type:"string",id:1},enumvalue:{rule:"repeated",type:"EnumValue",id:2},options:{rule:"repeated",type:"Option",id:3},sourceContext:{type:"SourceContext",id:4},syntax:{type:"Syntax",id:5}}},EnumValue:{fields:{name:{type:"string",id:1},number:{type:"int32",id:2},options:{rule:"repeated",type:"Option",id:3}}},Option:{fields:{name:{type:"string",id:1},value:{type:"Any",id:2}}},Syntax:{values:{SYNTAX_PROTO2:0,SYNTAX_PROTO3:1}},Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}},SourceContext:{fields:{fileName:{type:"string",id:1}}}}}}}}}});var wq=T(ci=>{"use strict";Object.defineProperty(ci,"__esModule",{value:!0});ci.addCommonProtos=ci.loadProtosWithOptionsSync=ci.loadProtosWithOptions=void 0;var bq=V("fs"),xq=V("path"),Ea=N_();function Mq(r,e){let t=r.resolvePath;r.resolvePath=(o,s)=>{if(xq.isAbsolute(s))return s;for(let a of e){let i=xq.join(a,s);try{return bq.accessSync(i,bq.constants.R_OK),i}catch{continue}}return process.emitWarning(`${s} not found in any of the include paths ${e}`),t(o,s)}}async function $pe(r,e){let t=new Ea.Root;if(e=e||{},e.includeDirs){if(!Array.isArray(e.includeDirs))return Promise.reject(new Error("The includeDirs option must be an array"));Mq(t,e.includeDirs)}let o=await t.load(r,e);return o.resolveAll(),o}ci.loadProtosWithOptions=$pe;function Xpe(r,e){let t=new Ea.Root;if(e=e||{},e.includeDirs){if(!Array.isArray(e.includeDirs))throw new Error("The includeDirs option must be an array");Mq(t,e.includeDirs)}let o=t.loadSync(r,e);return o.resolveAll(),o}ci.loadProtosWithOptionsSync=Xpe;function Wpe(){let r=Pq(),e=qy(),t=Iq(),o=Lq();Ea.common("api",r.nested.google.nested.protobuf.nested),Ea.common("descriptor",e.nested.google.nested.protobuf.nested),Ea.common("source_context",t.nested.google.nested.protobuf.nested),Ea.common("type",o.nested.google.nested.protobuf.nested)}ci.addCommonProtos=Wpe});var Dq=T((Jc,Yy)=>{(function(r,e){function t(o){return o.default||o}typeof define=="function"&&define.amd?define([],function(){var o={};return e(o),t(o)}):typeof Jc=="object"?(e(Jc),typeof Yy=="object"&&(Yy.exports=t(Jc))):function(){var o={};e(o),r.Long=t(o)}()})(typeof globalThis<"u"?globalThis:typeof self<"u"?self:Jc,function(r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var e=null;try{e=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function t(R,E,C){this.low=R|0,this.high=E|0,this.unsigned=!!C}t.prototype.__isLong__,Object.defineProperty(t.prototype,"__isLong__",{value:!0});function o(R){return(R&&R.__isLong__)===!0}function s(R){var E=Math.clz32(R&-R);return R?31-E:E}t.isLong=o;var a={},i={};function n(R,E){var C,Q,Y;return E?(R>>>=0,(Y=0<=R&&R<256)&&(Q=i[R],Q)?Q:(C=c(R,0,!0),Y&&(i[R]=C),C)):(R|=0,(Y=-128<=R&&R<128)&&(Q=a[R],Q)?Q:(C=c(R,R<0?-1:0,!1),Y&&(a[R]=C),C))}t.fromInt=n;function l(R,E){if(isNaN(R))return E?N:F;if(E){if(R<0)return N;if(R>=A)return $}else{if(R<=-I)return le;if(R+1>=I)return te}return R<0?l(-R,E).neg():c(R%y|0,R/y|0,E)}t.fromNumber=l;function c(R,E,C){return new t(R,E,C)}t.fromBits=c;var u=Math.pow;function f(R,E,C){if(R.length===0)throw Error("empty string");if(typeof E=="number"?(C=E,E=!1):E=!!E,R==="NaN"||R==="Infinity"||R==="+Infinity"||R==="-Infinity")return E?N:F;if(C=C||10,C<2||36<C)throw RangeError("radix");var Q;if((Q=R.indexOf("-"))>0)throw Error("interior hyphen");if(Q===0)return f(R.substring(1),E,C).neg();for(var Y=l(u(C,8)),J=F,ce=0;ce<R.length;ce+=8){var Ne=Math.min(8,R.length-ce),Me=parseInt(R.substring(ce,ce+Ne),C);if(Ne<8){var Te=l(u(C,Ne));J=J.mul(Te).add(l(Me))}else J=J.mul(Y),J=J.add(l(Me))}return J.unsigned=E,J}t.fromString=f;function _(R,E){return typeof R=="number"?l(R,E):typeof R=="string"?f(R,E):c(R.low,R.high,typeof E=="boolean"?E:R.unsigned)}t.fromValue=_;var m=65536,O=1<<24,y=m*m,A=y*y,I=A/2,M=n(O),F=n(0);t.ZERO=F;var N=n(0,!0);t.UZERO=N;var K=n(1);t.ONE=K;var B=n(1,!0);t.UONE=B;var G=n(-1);t.NEG_ONE=G;var te=c(-1,2147483647,!1);t.MAX_VALUE=te;var $=c(-1,-1,!0);t.MAX_UNSIGNED_VALUE=$;var le=c(0,-2147483648,!1);t.MIN_VALUE=le;var v=t.prototype;v.toInt=function(){return this.unsigned?this.low>>>0:this.low},v.toNumber=function(){return this.unsigned?(this.high>>>0)*y+(this.low>>>0):this.high*y+(this.low>>>0)},v.toString=function(E){if(E=E||10,E<2||36<E)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(le)){var C=l(E),Q=this.div(C),Y=Q.mul(C).sub(this);return Q.toString(E)+Y.toInt().toString(E)}else return"-"+this.neg().toString(E);for(var J=l(u(E,6),this.unsigned),ce=this,Ne="";;){var Me=ce.div(J),Te=ce.sub(Me.mul(J)).toInt()>>>0,Z=Te.toString(E);if(ce=Me,ce.isZero())return Z+Ne;for(;Z.length<6;)Z="0"+Z;Ne=""+Z+Ne}},v.getHighBits=function(){return this.high},v.getHighBitsUnsigned=function(){return this.high>>>0},v.getLowBits=function(){return this.low},v.getLowBitsUnsigned=function(){return this.low>>>0},v.getNumBitsAbs=function(){if(this.isNegative())return this.eq(le)?64:this.neg().getNumBitsAbs();for(var E=this.high!=0?this.high:this.low,C=31;C>0&&(E&1<<C)==0;C--);return this.high!=0?C+33:C+1},v.isSafeInteger=function(){var E=this.high>>21;return E?this.unsigned?!1:E===-1&&!(this.low===0&&this.high===-2097152):!0},v.isZero=function(){return this.high===0&&this.low===0},v.eqz=v.isZero,v.isNegative=function(){return!this.unsigned&&this.high<0},v.isPositive=function(){return this.unsigned||this.high>=0},v.isOdd=function(){return(this.low&1)===1},v.isEven=function(){return(this.low&1)===0},v.equals=function(E){return o(E)||(E=_(E)),this.unsigned!==E.unsigned&&this.high>>>31===1&&E.high>>>31===1?!1:this.high===E.high&&this.low===E.low},v.eq=v.equals,v.notEquals=function(E){return!this.eq(E)},v.neq=v.notEquals,v.ne=v.notEquals,v.lessThan=function(E){return this.comp(E)<0},v.lt=v.lessThan,v.lessThanOrEqual=function(E){return this.comp(E)<=0},v.lte=v.lessThanOrEqual,v.le=v.lessThanOrEqual,v.greaterThan=function(E){return this.comp(E)>0},v.gt=v.greaterThan,v.greaterThanOrEqual=function(E){return this.comp(E)>=0},v.gte=v.greaterThanOrEqual,v.ge=v.greaterThanOrEqual,v.compare=function(E){if(o(E)||(E=_(E)),this.eq(E))return 0;var C=this.isNegative(),Q=E.isNegative();return C&&!Q?-1:!C&&Q?1:this.unsigned?E.high>>>0>this.high>>>0||E.high===this.high&&E.low>>>0>this.low>>>0?-1:1:this.sub(E).isNegative()?-1:1},v.comp=v.compare,v.negate=function(){return!this.unsigned&&this.eq(le)?le:this.not().add(K)},v.neg=v.negate,v.add=function(E){o(E)||(E=_(E));var C=this.high>>>16,Q=this.high&65535,Y=this.low>>>16,J=this.low&65535,ce=E.high>>>16,Ne=E.high&65535,Me=E.low>>>16,Te=E.low&65535,Z=0,je=0,Ee=0,we=0;return we+=J+Te,Ee+=we>>>16,we&=65535,Ee+=Y+Me,je+=Ee>>>16,Ee&=65535,je+=Q+Ne,Z+=je>>>16,je&=65535,Z+=C+ce,Z&=65535,c(Ee<<16|we,Z<<16|je,this.unsigned)},v.subtract=function(E){return o(E)||(E=_(E)),this.add(E.neg())},v.sub=v.subtract,v.multiply=function(E){if(this.isZero())return this;if(o(E)||(E=_(E)),e){var C=e.mul(this.low,this.high,E.low,E.high);return c(C,e.get_high(),this.unsigned)}if(E.isZero())return this.unsigned?N:F;if(this.eq(le))return E.isOdd()?le:F;if(E.eq(le))return this.isOdd()?le:F;if(this.isNegative())return E.isNegative()?this.neg().mul(E.neg()):this.neg().mul(E).neg();if(E.isNegative())return this.mul(E.neg()).neg();if(this.lt(M)&&E.lt(M))return l(this.toNumber()*E.toNumber(),this.unsigned);var Q=this.high>>>16,Y=this.high&65535,J=this.low>>>16,ce=this.low&65535,Ne=E.high>>>16,Me=E.high&65535,Te=E.low>>>16,Z=E.low&65535,je=0,Ee=0,we=0,We=0;return We+=ce*Z,we+=We>>>16,We&=65535,we+=J*Z,Ee+=we>>>16,we&=65535,we+=ce*Te,Ee+=we>>>16,we&=65535,Ee+=Y*Z,je+=Ee>>>16,Ee&=65535,Ee+=J*Te,je+=Ee>>>16,Ee&=65535,Ee+=ce*Me,je+=Ee>>>16,Ee&=65535,je+=Q*Z+Y*Te+J*Me+ce*Ne,je&=65535,c(we<<16|We,je<<16|Ee,this.unsigned)},v.mul=v.multiply,v.divide=function(E){if(o(E)||(E=_(E)),E.isZero())throw Error("division by zero");if(e){if(!this.unsigned&&this.high===-2147483648&&E.low===-1&&E.high===-1)return this;var C=(this.unsigned?e.div_u:e.div_s)(this.low,this.high,E.low,E.high);return c(C,e.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?N:F;var Q,Y,J;if(this.unsigned){if(E.unsigned||(E=E.toUnsigned()),E.gt(this))return N;if(E.gt(this.shru(1)))return B;J=N}else{if(this.eq(le)){if(E.eq(K)||E.eq(G))return le;if(E.eq(le))return K;var ce=this.shr(1);return Q=ce.div(E).shl(1),Q.eq(F)?E.isNegative()?K:G:(Y=this.sub(E.mul(Q)),J=Q.add(Y.div(E)),J)}else if(E.eq(le))return this.unsigned?N:F;if(this.isNegative())return E.isNegative()?this.neg().div(E.neg()):this.neg().div(E).neg();if(E.isNegative())return this.div(E.neg()).neg();J=F}for(Y=this;Y.gte(E);){Q=Math.max(1,Math.floor(Y.toNumber()/E.toNumber()));for(var Ne=Math.ceil(Math.log(Q)/Math.LN2),Me=Ne<=48?1:u(2,Ne-48),Te=l(Q),Z=Te.mul(E);Z.isNegative()||Z.gt(Y);)Q-=Me,Te=l(Q,this.unsigned),Z=Te.mul(E);Te.isZero()&&(Te=K),J=J.add(Te),Y=Y.sub(Z)}return J},v.div=v.divide,v.modulo=function(E){if(o(E)||(E=_(E)),e){var C=(this.unsigned?e.rem_u:e.rem_s)(this.low,this.high,E.low,E.high);return c(C,e.get_high(),this.unsigned)}return this.sub(this.div(E).mul(E))},v.mod=v.modulo,v.rem=v.modulo,v.not=function(){return c(~this.low,~this.high,this.unsigned)},v.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32},v.clz=v.countLeadingZeros,v.countTrailingZeros=function(){return this.low?s(this.low):s(this.high)+32},v.ctz=v.countTrailingZeros,v.and=function(E){return o(E)||(E=_(E)),c(this.low&E.low,this.high&E.high,this.unsigned)},v.or=function(E){return o(E)||(E=_(E)),c(this.low|E.low,this.high|E.high,this.unsigned)},v.xor=function(E){return o(E)||(E=_(E)),c(this.low^E.low,this.high^E.high,this.unsigned)},v.shiftLeft=function(E){return o(E)&&(E=E.toInt()),(E&=63)===0?this:E<32?c(this.low<<E,this.high<<E|this.low>>>32-E,this.unsigned):c(0,this.low<<E-32,this.unsigned)},v.shl=v.shiftLeft,v.shiftRight=function(E){return o(E)&&(E=E.toInt()),(E&=63)===0?this:E<32?c(this.low>>>E|this.high<<32-E,this.high>>E,this.unsigned):c(this.high>>E-32,this.high>=0?0:-1,this.unsigned)},v.shr=v.shiftRight,v.shiftRightUnsigned=function(E){return o(E)&&(E=E.toInt()),(E&=63)===0?this:E<32?c(this.low>>>E|this.high<<32-E,this.high>>>E,this.unsigned):E===32?c(this.high,0,this.unsigned):c(this.high>>>E-32,0,this.unsigned)},v.shru=v.shiftRightUnsigned,v.shr_u=v.shiftRightUnsigned,v.rotateLeft=function(E){var C;return o(E)&&(E=E.toInt()),(E&=63)===0?this:E===32?c(this.high,this.low,this.unsigned):E<32?(C=32-E,c(this.low<<E|this.high>>>C,this.high<<E|this.low>>>C,this.unsigned)):(E-=32,C=32-E,c(this.high<<E|this.low>>>C,this.low<<E|this.high>>>C,this.unsigned))},v.rotl=v.rotateLeft,v.rotateRight=function(E){var C;return o(E)&&(E=E.toInt()),(E&=63)===0?this:E===32?c(this.high,this.low,this.unsigned):E<32?(C=32-E,c(this.high<<C|this.low>>>E,this.low<<C|this.high>>>E,this.unsigned)):(E-=32,C=32-E,c(this.low<<C|this.high>>>E,this.high<<C|this.low>>>E,this.unsigned))},v.rotr=v.rotateRight,v.toSigned=function(){return this.unsigned?c(this.low,this.high,!1):this},v.toUnsigned=function(){return this.unsigned?this:c(this.low,this.high,!0)},v.toBytes=function(E){return E?this.toBytesLE():this.toBytesBE()},v.toBytesLE=function(){var E=this.high,C=this.low;return[C&255,C>>>8&255,C>>>16&255,C>>>24,E&255,E>>>8&255,E>>>16&255,E>>>24]},v.toBytesBE=function(){var E=this.high,C=this.low;return[E>>>24,E>>>16&255,E>>>8&255,E&255,C>>>24,C>>>16&255,C>>>8&255,C&255]},t.fromBytes=function(E,C,Q){return Q?t.fromBytesLE(E,C):t.fromBytesBE(E,C)},t.fromBytesLE=function(E,C){return new t(E[0]|E[1]<<8|E[2]<<16|E[3]<<24,E[4]|E[5]<<8|E[6]<<16|E[7]<<24,C)},t.fromBytesBE=function(E,C){return new t(E[4]<<24|E[5]<<16|E[6]<<8|E[7],E[0]<<24|E[1]<<16|E[2]<<8|E[3],C)},typeof BigInt=="function"&&(t.fromBigInt=function(E,C){var Q=Number(BigInt.asIntN(32,E)),Y=Number(BigInt.asIntN(32,E>>BigInt(32)));return c(Q,Y,C)},t.fromValue=function(E,C){return typeof E=="bigint"?t.fromBigInt(E,C):_(E,C)},v.toBigInt=function(){var E=BigInt(this.low>>>0),C=BigInt(this.unsigned?this.high>>>0:this.high);return C<<BigInt(32)|E});var W=r.default=t})});var Hq=T(Je=>{"use strict";Object.defineProperty(Je,"__esModule",{value:!0});Je.loadFileDescriptorSetFromObject=Je.loadFileDescriptorSetFromBuffer=Je.fromJSON=Je.loadSync=Je.load=Je.IdempotencyLevel=Je.isAnyExtension=Je.Long=void 0;var Jpe=TH(),Qr=N_(),zy=Cq(),$y=wq(),Qpe=Dq();Je.Long=Qpe;function Zpe(r){return"@type"in r&&typeof r["@type"]=="string"}Je.isAnyExtension=Zpe;var Bq;(function(r){r.IDEMPOTENCY_UNKNOWN="IDEMPOTENCY_UNKNOWN",r.NO_SIDE_EFFECTS="NO_SIDE_EFFECTS",r.IDEMPOTENT="IDEMPOTENT"})(Bq=Je.IdempotencyLevel||(Je.IdempotencyLevel={}));var Vq={longs:String,enums:String,bytes:String,defaults:!0,oneofs:!0,json:!0};function ede(r,e){return r===""?e:r+"."+e}function tde(r){return r instanceof Qr.Service||r instanceof Qr.Type||r instanceof Qr.Enum}function rde(r){return r instanceof Qr.Namespace||r instanceof Qr.Root}function Fq(r,e){let t=ede(e,r.name);return tde(r)?[[t,r]]:rde(r)&&typeof r.nested<"u"?Object.keys(r.nested).map(o=>Fq(r.nested[o],t)).reduce((o,s)=>o.concat(s),[]):[]}function Uq(r,e){return function(o){return r.toObject(r.decode(o),e)}}function kq(r){return function(t){if(Array.isArray(t))throw new Error(`Failed to serialize message: expected object with ${r.name} structure, got array instead`);let o=r.fromObject(t);return r.encode(o).finish()}}function nde(r){return(r||[]).reduce((e,t)=>{for(let[o,s]of Object.entries(t))switch(o){case"uninterpreted_option":e.uninterpreted_option.push(t.uninterpreted_option);break;default:e[o]=s}return e},{deprecated:!1,idempotency_level:Bq.IDEMPOTENCY_UNKNOWN,uninterpreted_option:[]})}function ide(r,e,t,o){let s=r.resolvedRequestType,a=r.resolvedResponseType;return{path:"/"+e+"/"+r.name,requestStream:!!r.requestStream,responseStream:!!r.responseStream,requestSerialize:kq(s),requestDeserialize:Uq(s,t),responseSerialize:kq(a),responseDeserialize:Uq(a,t),originalName:Jpe(r.name),requestType:Ky(s,o),responseType:Ky(a,o),options:nde(r.parsedOptions)}}function ode(r,e,t,o){let s={};for(let a of r.methodsArray)s[a.name]=ide(a,e,t,o);return s}function Ky(r,e){let t=r.toDescriptor("proto3");return{format:"Protocol Buffer 3 DescriptorProto",type:t.$type.toObject(t,Vq),fileDescriptorProtos:e}}function sde(r,e){let t=r.toDescriptor("proto3");return{format:"Protocol Buffer 3 EnumDescriptorProto",type:t.$type.toObject(t,Vq),fileDescriptorProtos:e}}function ade(r,e,t,o){if(r instanceof Qr.Service)return ode(r,e,t,o);if(r instanceof Qr.Type)return Ky(r,o);if(r instanceof Qr.Enum)return sde(r,o);throw new Error("Type mismatch in reflection object handling")}function I_(r,e){let t={};r.resolveAll();let s=r.toDescriptor("proto3").file.map(a=>Buffer.from(zy.FileDescriptorProto.encode(a).finish()));for(let[a,i]of Fq(r,""))t[a]=ade(i,a,e,s);return t}function Gq(r,e){e=e||{};let t=Qr.Root.fromDescriptor(r);return t.resolveAll(),I_(t,e)}function lde(r,e){return(0,$y.loadProtosWithOptions)(r,e).then(t=>I_(t,e))}Je.load=lde;function cde(r,e){let t=(0,$y.loadProtosWithOptionsSync)(r,e);return I_(t,e)}Je.loadSync=cde;function ude(r,e){e=e||{};let t=Qr.Root.fromJSON(r);return t.resolveAll(),I_(t,e)}Je.fromJSON=ude;function fde(r,e){let t=zy.FileDescriptorSet.decode(r);return Gq(t,e)}Je.loadFileDescriptorSetFromBuffer=fde;function pde(r,e){let t=zy.FileDescriptorSet.fromObject(r);return Gq(t,e)}Je.loadFileDescriptorSetFromObject=pde;(0,$y.addCommonProtos)()});var Eo=T(Ie=>{"use strict";Object.defineProperty(Ie,"__esModule",{value:!0});Ie.registerChannelzSocket=Ie.registerChannelzServer=Ie.registerChannelzSubchannel=Ie.registerChannelzChannel=Ie.ChannelzCallTrackerStub=Ie.ChannelzCallTracker=Ie.ChannelzChildrenTrackerStub=Ie.ChannelzChildrenTracker=Ie.ChannelzTrace=Ie.ChannelzTraceStub=void 0;Ie.unregisterChannelzRef=mde;Ie.getChannelzHandlers=Wq;Ie.getChannelzServiceDefinition=Jq;Ie.setup=Pde;var b_=V("net"),_o=(F3(),ee(V3)),Qc=tr(),Zc=ue(),dde=rr(),hde=t_(),_de=sy();function Xy(r){return{channel_id:r.id,name:r.name}}function eO(r){return{subchannel_id:r.id,name:r.name}}function Ede(r){return{server_id:r.id}}function w_(r){return{socket_id:r.id,name:r.name}}var qq=32,tO=100,Wy=class{constructor(){this.events=[],this.creationTimestamp=new Date,this.eventsLogged=0}addTrace(){}getTraceMessage(){return{creation_timestamp:Zr(this.creationTimestamp),num_events_logged:this.eventsLogged,events:[]}}};Ie.ChannelzTraceStub=Wy;var Jy=class{constructor(){this.events=[],this.eventsLogged=0,this.creationTimestamp=new Date}addTrace(e,t,o){let s=new Date;this.events.push({description:t,severity:e,timestamp:s,childChannel:(o==null?void 0:o.kind)==="channel"?o:void 0,childSubchannel:(o==null?void 0:o.kind)==="subchannel"?o:void 0}),this.events.length>=qq*2&&(this.events=this.events.slice(qq)),this.eventsLogged+=1}getTraceMessage(){return{creation_timestamp:Zr(this.creationTimestamp),num_events_logged:this.eventsLogged,events:this.events.map(e=>({description:e.description,severity:e.severity,timestamp:Zr(e.timestamp),channel_ref:e.childChannel?Xy(e.childChannel):null,subchannel_ref:e.childSubchannel?eO(e.childSubchannel):null}))}}};Ie.ChannelzTrace=Jy;var x_=class{constructor(){this.channelChildren=new _o.OrderedMap,this.subchannelChildren=new _o.OrderedMap,this.socketChildren=new _o.OrderedMap,this.trackerMap={channel:this.channelChildren,subchannel:this.subchannelChildren,socket:this.socketChildren}}refChild(e){let t=this.trackerMap[e.kind],o=t.find(e.id);o.equals(t.end())?t.setElement(e.id,{ref:e,count:1},o):o.pointer[1].count+=1}unrefChild(e){let t=this.trackerMap[e.kind],o=t.getElementByKey(e.id);o!==void 0&&(o.count-=1,o.count===0&&t.eraseElementByKey(e.id))}getChildLists(){return{channels:this.channelChildren,subchannels:this.subchannelChildren,sockets:this.socketChildren}}};Ie.ChannelzChildrenTracker=x_;var Qy=class extends x_{refChild(){}unrefChild(){}};Ie.ChannelzChildrenTrackerStub=Qy;var M_=class{constructor(){this.callsStarted=0,this.callsSucceeded=0,this.callsFailed=0,this.lastCallStartedTimestamp=null}addCallStarted(){this.callsStarted+=1,this.lastCallStartedTimestamp=new Date}addCallSucceeded(){this.callsSucceeded+=1}addCallFailed(){this.callsFailed+=1}};Ie.ChannelzCallTracker=M_;var Zy=class extends M_{addCallStarted(){}addCallSucceeded(){}addCallFailed(){}};Ie.ChannelzCallTrackerStub=Zy;var On={channel:new _o.OrderedMap,subchannel:new _o.OrderedMap,server:new _o.OrderedMap,socket:new _o.OrderedMap},D_=r=>{let e=1;function t(){return e++}let o=On[r];return(s,a,i)=>{let n=t(),l={id:n,name:s,kind:r};return i&&o.setElement(n,{ref:l,getInfo:a}),l}};Ie.registerChannelzChannel=D_("channel");Ie.registerChannelzSubchannel=D_("subchannel");Ie.registerChannelzServer=D_("server");Ie.registerChannelzSocket=D_("socket");function mde(r){On[r.kind].eraseElementByKey(r.id)}function Tde(r){let e=Number.parseInt(r,16);return[e/256|0,e%256]}function jq(r){if(r==="")return[];let e=r.split(":").map(o=>Tde(o));return[].concat(...e)}function Sde(r){return(0,b_.isIPv6)(r)&&r.toLowerCase().startsWith("::ffff:")&&(0,b_.isIPv4)(r.substring(7))}function Yq(r){return Buffer.from(Uint8Array.from(r.split(".").map(e=>Number.parseInt(e))))}function gde(r){if((0,b_.isIPv4)(r))return Yq(r);if(Sde(r))return Yq(r.substring(7));if((0,b_.isIPv6)(r)){let e,t,o=r.indexOf("::");o===-1?(e=r,t=""):(e=r.substring(0,o),t=r.substring(o+2));let s=Buffer.from(jq(e)),a=Buffer.from(jq(t)),i=Buffer.alloc(16-s.length-a.length,0);return Buffer.concat([s,i,a])}else return null}function zq(r){switch(r){case Qc.ConnectivityState.CONNECTING:return{state:"CONNECTING"};case Qc.ConnectivityState.IDLE:return{state:"IDLE"};case Qc.ConnectivityState.READY:return{state:"READY"};case Qc.ConnectivityState.SHUTDOWN:return{state:"SHUTDOWN"};case Qc.ConnectivityState.TRANSIENT_FAILURE:return{state:"TRANSIENT_FAILURE"};default:return{state:"UNKNOWN"}}}function Zr(r){if(!r)return null;let e=r.getTime();return{seconds:e/1e3|0,nanos:e%1e3*1e6}}function $q(r){let e=r.getInfo(),t=[],o=[];return e.children.channels.forEach(s=>{t.push(Xy(s[1].ref))}),e.children.subchannels.forEach(s=>{o.push(eO(s[1].ref))}),{ref:Xy(r.ref),data:{target:e.target,state:zq(e.state),calls_started:e.callTracker.callsStarted,calls_succeeded:e.callTracker.callsSucceeded,calls_failed:e.callTracker.callsFailed,last_call_started_timestamp:Zr(e.callTracker.lastCallStartedTimestamp),trace:e.trace.getTraceMessage()},channel_ref:t,subchannel_ref:o}}function vde(r,e){let t=parseInt(r.request.channel_id,10),o=On.channel.getElementByKey(t);if(o===void 0){e({code:Zc.Status.NOT_FOUND,details:"No channel data found for id "+t});return}e(null,{channel:$q(o)})}function yde(r,e){let t=parseInt(r.request.max_results,10)||tO,o=[],s=parseInt(r.request.start_channel_id,10),a=On.channel,i;for(i=a.lowerBound(s);!i.equals(a.end())&&o.length<t;i=i.next())o.push($q(i.pointer[1]));e(null,{channel:o,end:i.equals(a.end())})}function Xq(r){let e=r.getInfo(),t=[];return e.listenerChildren.sockets.forEach(o=>{t.push(w_(o[1].ref))}),{ref:Ede(r.ref),data:{calls_started:e.callTracker.callsStarted,calls_succeeded:e.callTracker.callsSucceeded,calls_failed:e.callTracker.callsFailed,last_call_started_timestamp:Zr(e.callTracker.lastCallStartedTimestamp),trace:e.trace.getTraceMessage()},listen_socket:t}}function Ode(r,e){let t=parseInt(r.request.server_id,10),s=On.server.getElementByKey(t);if(s===void 0){e({code:Zc.Status.NOT_FOUND,details:"No server data found for id "+t});return}e(null,{server:Xq(s)})}function Ade(r,e){let t=parseInt(r.request.max_results,10)||tO,o=parseInt(r.request.start_server_id,10),s=On.server,a=[],i;for(i=s.lowerBound(o);!i.equals(s.end())&&a.length<t;i=i.next())a.push(Xq(i.pointer[1]));e(null,{server:a,end:i.equals(s.end())})}function Rde(r,e){let t=parseInt(r.request.subchannel_id,10),o=On.subchannel.getElementByKey(t);if(o===void 0){e({code:Zc.Status.NOT_FOUND,details:"No subchannel data found for id "+t});return}let s=o.getInfo(),a=[];s.children.sockets.forEach(n=>{a.push(w_(n[1].ref))});let i={ref:eO(o.ref),data:{target:s.target,state:zq(s.state),calls_started:s.callTracker.callsStarted,calls_succeeded:s.callTracker.callsSucceeded,calls_failed:s.callTracker.callsFailed,last_call_started_timestamp:Zr(s.callTracker.lastCallStartedTimestamp),trace:s.trace.getTraceMessage()},socket_ref:a};e(null,{subchannel:i})}function Kq(r){var e;return(0,dde.isTcpSubchannelAddress)(r)?{address:"tcpip_address",tcpip_address:{ip_address:(e=gde(r.host))!==null&&e!==void 0?e:void 0,port:r.port}}:{address:"uds_address",uds_address:{filename:r.path}}}function Nde(r,e){var t,o,s,a,i;let n=parseInt(r.request.socket_id,10),l=On.socket.getElementByKey(n);if(l===void 0){e({code:Zc.Status.NOT_FOUND,details:"No socket data found for id "+n});return}let c=l.getInfo(),u=c.security?{model:"tls",tls:{cipher_suite:c.security.cipherSuiteStandardName?"standard_name":"other_name",standard_name:(t=c.security.cipherSuiteStandardName)!==null&&t!==void 0?t:void 0,other_name:(o=c.security.cipherSuiteOtherName)!==null&&o!==void 0?o:void 0,local_certificate:(s=c.security.localCertificate)!==null&&s!==void 0?s:void 0,remote_certificate:(a=c.security.remoteCertificate)!==null&&a!==void 0?a:void 0}}:null,f={ref:w_(l.ref),local:c.localAddress?Kq(c.localAddress):null,remote:c.remoteAddress?Kq(c.remoteAddress):null,remote_name:(i=c.remoteName)!==null&&i!==void 0?i:void 0,security:u,data:{keep_alives_sent:c.keepAlivesSent,streams_started:c.streamsStarted,streams_succeeded:c.streamsSucceeded,streams_failed:c.streamsFailed,last_local_stream_created_timestamp:Zr(c.lastLocalStreamCreatedTimestamp),last_remote_stream_created_timestamp:Zr(c.lastRemoteStreamCreatedTimestamp),messages_received:c.messagesReceived,messages_sent:c.messagesSent,last_message_received_timestamp:Zr(c.lastMessageReceivedTimestamp),last_message_sent_timestamp:Zr(c.lastMessageSentTimestamp),local_flow_control_window:c.localFlowControlWindow?{value:c.localFlowControlWindow}:null,remote_flow_control_window:c.remoteFlowControlWindow?{value:c.remoteFlowControlWindow}:null}};e(null,{socket:f})}function Cde(r,e){let t=parseInt(r.request.server_id,10),o=On.server.getElementByKey(t);if(o===void 0){e({code:Zc.Status.NOT_FOUND,details:"No server data found for id "+t});return}let s=parseInt(r.request.start_socket_id,10),a=parseInt(r.request.max_results,10)||tO,n=o.getInfo().sessionChildren.sockets,l=[],c;for(c=n.lowerBound(s);!c.equals(n.end())&&l.length<a;c=c.next())l.push(w_(c.pointer[1].ref));e(null,{socket_ref:l,end:c.equals(n.end())})}function Wq(){return{GetChannel:vde,GetTopChannels:yde,GetServer:Ode,GetServers:Ade,GetSubchannel:Rde,GetSocket:Nde,GetServerSockets:Cde}}var L_=null;function Jq(){if(L_)return L_;let r=Hq().loadSync,e=r("channelz.proto",{keepCase:!0,longs:String,enums:String,defaults:!0,oneofs:!0,includeDirs:[`${__dirname}/../../proto`]});return L_=(0,_de.loadPackageDefinition)(e).grpc.channelz.v1.Channelz.service,L_}function Pde(){(0,hde.registerAdminService)(Jq,Wq)}});var Qq=T(k_=>{"use strict";Object.defineProperty(k_,"__esModule",{value:!0});k_.Subchannel=void 0;var ye=tr(),Ide=Ic(),rO=Pe(),U_=ue(),Lde=Pt(),bde=rr(),en=Eo(),xde="subchannel",Mde=~(1<<31),nO=class{constructor(e,t,o,s,a){var i;this.channelTarget=e,this.subchannelAddress=t,this.options=o,this.connector=a,this.connectivityState=ye.ConnectivityState.IDLE,this.transport=null,this.continueConnecting=!1,this.stateListeners=new Set,this.refcount=0,this.channelzEnabled=!0;let n={initialDelay:o["grpc.initial_reconnect_backoff_ms"],maxDelay:o["grpc.max_reconnect_backoff_ms"]};this.backoffTimeout=new Ide.BackoffTimeout(()=>{this.handleBackoffTimer()},n),this.backoffTimeout.unref(),this.subchannelAddressString=(0,bde.subchannelAddressToString)(t),this.keepaliveTime=(i=o["grpc.keepalive_time_ms"])!==null&&i!==void 0?i:-1,o["grpc.enable_channelz"]===0?(this.channelzEnabled=!1,this.channelzTrace=new en.ChannelzTraceStub,this.callTracker=new en.ChannelzCallTrackerStub,this.childrenTracker=new en.ChannelzChildrenTrackerStub,this.streamTracker=new en.ChannelzCallTrackerStub):(this.channelzTrace=new en.ChannelzTrace,this.callTracker=new en.ChannelzCallTracker,this.childrenTracker=new en.ChannelzChildrenTracker,this.streamTracker=new en.ChannelzCallTracker),this.channelzRef=(0,en.registerChannelzSubchannel)(this.subchannelAddressString,()=>this.getChannelzInfo(),this.channelzEnabled),this.channelzTrace.addTrace("CT_INFO","Subchannel created"),this.trace("Subchannel constructed with options "+JSON.stringify(o,void 0,2)),this.secureConnector=s._createSecureConnector(e,o)}getChannelzInfo(){return{state:this.connectivityState,trace:this.channelzTrace,callTracker:this.callTracker,children:this.childrenTracker.getChildLists(),target:this.subchannelAddressString}}trace(e){rO.trace(U_.LogVerbosity.DEBUG,xde,"("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}refTrace(e){rO.trace(U_.LogVerbosity.DEBUG,"subchannel_refcount","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}handleBackoffTimer(){this.continueConnecting?this.transitionToState([ye.ConnectivityState.TRANSIENT_FAILURE],ye.ConnectivityState.CONNECTING):this.transitionToState([ye.ConnectivityState.TRANSIENT_FAILURE],ye.ConnectivityState.IDLE)}startBackoff(){this.backoffTimeout.runOnce()}stopBackoff(){this.backoffTimeout.stop(),this.backoffTimeout.reset()}startConnectingInternal(){let e=this.options;if(e["grpc.keepalive_time_ms"]){let t=Math.min(this.keepaliveTime,Mde);e=Object.assign(Object.assign({},e),{"grpc.keepalive_time_ms":t})}this.connector.connect(this.subchannelAddress,this.secureConnector,e).then(t=>{this.transitionToState([ye.ConnectivityState.CONNECTING],ye.ConnectivityState.READY)?(this.transport=t,this.channelzEnabled&&this.childrenTracker.refChild(t.getChannelzRef()),t.addDisconnectListener(o=>{this.transitionToState([ye.ConnectivityState.READY],ye.ConnectivityState.IDLE),o&&this.keepaliveTime>0&&(this.keepaliveTime*=2,rO.log(U_.LogVerbosity.ERROR,`Connection to ${(0,Lde.uriToString)(this.channelTarget)} at ${this.subchannelAddressString} rejected by server because of excess pings. Increasing ping interval to ${this.keepaliveTime} ms`))})):t.shutdown()},t=>{this.transitionToState([ye.ConnectivityState.CONNECTING],ye.ConnectivityState.TRANSIENT_FAILURE,`${t}`)})}transitionToState(e,t,o){var s,a;if(e.indexOf(this.connectivityState)===-1)return!1;o?this.trace(ye.ConnectivityState[this.connectivityState]+" -> "+ye.ConnectivityState[t]+' with error "'+o+'"'):this.trace(ye.ConnectivityState[this.connectivityState]+" -> "+ye.ConnectivityState[t]),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Connectivity state change to "+ye.ConnectivityState[t]);let i=this.connectivityState;switch(this.connectivityState=t,t){case ye.ConnectivityState.READY:this.stopBackoff();break;case ye.ConnectivityState.CONNECTING:this.startBackoff(),this.startConnectingInternal(),this.continueConnecting=!1;break;case ye.ConnectivityState.TRANSIENT_FAILURE:this.channelzEnabled&&this.transport&&this.childrenTracker.unrefChild(this.transport.getChannelzRef()),(s=this.transport)===null||s===void 0||s.shutdown(),this.transport=null,this.backoffTimeout.isRunning()||process.nextTick(()=>{this.handleBackoffTimer()});break;case ye.ConnectivityState.IDLE:this.channelzEnabled&&this.transport&&this.childrenTracker.unrefChild(this.transport.getChannelzRef()),(a=this.transport)===null||a===void 0||a.shutdown(),this.transport=null;break;default:throw new Error(`Invalid state: unknown ConnectivityState ${t}`)}for(let n of this.stateListeners)n(this,i,t,this.keepaliveTime,o);return!0}ref(){this.refTrace("refcount "+this.refcount+" -> "+(this.refcount+1)),this.refcount+=1}unref(){this.refTrace("refcount "+this.refcount+" -> "+(this.refcount-1)),this.refcount-=1,this.refcount===0&&(this.channelzTrace.addTrace("CT_INFO","Shutting down"),(0,en.unregisterChannelzRef)(this.channelzRef),this.secureConnector.destroy(),process.nextTick(()=>{this.transitionToState([ye.ConnectivityState.CONNECTING,ye.ConnectivityState.READY],ye.ConnectivityState.IDLE)}))}unrefIfOneRef(){return this.refcount===1?(this.unref(),!0):!1}createCall(e,t,o,s){if(!this.transport)throw new Error("Cannot create call, subchannel not READY");let a;return this.channelzEnabled?(this.callTracker.addCallStarted(),this.streamTracker.addCallStarted(),a={onCallEnd:i=>{i.code===U_.Status.OK?this.callTracker.addCallSucceeded():this.callTracker.addCallFailed()}}):a={},this.transport.createCall(e,t,o,s,a)}startConnecting(){process.nextTick(()=>{this.transitionToState([ye.ConnectivityState.IDLE],ye.ConnectivityState.CONNECTING)||this.connectivityState===ye.ConnectivityState.TRANSIENT_FAILURE&&(this.continueConnecting=!0)})}getConnectivityState(){return this.connectivityState}addConnectivityStateListener(e){this.stateListeners.add(e)}removeConnectivityStateListener(e){this.stateListeners.delete(e)}resetBackoff(){process.nextTick(()=>{this.backoffTimeout.reset(),this.transitionToState([ye.ConnectivityState.TRANSIENT_FAILURE],ye.ConnectivityState.CONNECTING)})}getAddress(){return this.subchannelAddressString}getChannelzRef(){return this.channelzRef}isHealthy(){return!0}addHealthStateWatcher(e){}removeHealthStateWatcher(e){}getRealSubchannel(){return this}realSubchannelEquals(e){return e.getRealSubchannel()===this}throttleKeepalive(e){e>this.keepaliveTime&&(this.keepaliveTime=e)}getCallCredentials(){return this.secureConnector.getCallCredentials()}};k_.Subchannel=nO});var Zq=T(B_=>{"use strict";var iO;Object.defineProperty(B_,"__esModule",{value:!0});B_.GRPC_NODE_USE_ALTERNATIVE_RESOLVER=void 0;B_.GRPC_NODE_USE_ALTERNATIVE_RESOLVER=((iO=process.env.GRPC_NODE_USE_ALTERNATIVE_RESOLVER)!==null&&iO!==void 0?iO:"false")==="true"});var cO=T(mo=>{"use strict";Object.defineProperty(mo,"__esModule",{value:!0});mo.DEFAULT_PORT=void 0;mo.setup=Fde;var ej=jr(),oO=V("dns"),wde=wv(),sO=ue(),aO=ht(),Dde=Pe(),Ude=ue(),ui=Pt(),tj=V("net"),kde=Ic(),rj=Zq(),Bde="dns_resolver";function tn(r){Dde.trace(Ude.LogVerbosity.DEBUG,Bde,r)}mo.DEFAULT_PORT=443;var Vde=3e4,lO=class{constructor(e,t,o){var s,a,i;this.target=e,this.listener=t,this.pendingLookupPromise=null,this.pendingTxtPromise=null,this.latestLookupResult=null,this.latestServiceConfig=null,this.latestServiceConfigError=null,this.continueResolving=!1,this.isNextResolutionTimerRunning=!1,this.isServiceConfigEnabled=!0,this.returnedIpResult=!1,this.alternativeResolver=new oO.promises.Resolver,tn("Resolver constructed for target "+(0,ui.uriToString)(e)),e.authority&&this.alternativeResolver.setServers([e.authority]);let n=(0,ui.splitHostPort)(e.path);n===null?(this.ipResult=null,this.dnsHostname=null,this.port=null):(0,tj.isIPv4)(n.host)||(0,tj.isIPv6)(n.host)?(this.ipResult=[{addresses:[{host:n.host,port:(s=n.port)!==null&&s!==void 0?s:mo.DEFAULT_PORT}]}],this.dnsHostname=null,this.port=null):(this.ipResult=null,this.dnsHostname=n.host,this.port=(a=n.port)!==null&&a!==void 0?a:mo.DEFAULT_PORT),this.percentage=Math.random()*100,o["grpc.service_config_disable_resolution"]===1&&(this.isServiceConfigEnabled=!1),this.defaultResolutionError={code:sO.Status.UNAVAILABLE,details:`Name resolution failed for target ${(0,ui.uriToString)(this.target)}`,metadata:new aO.Metadata};let l={initialDelay:o["grpc.initial_reconnect_backoff_ms"],maxDelay:o["grpc.max_reconnect_backoff_ms"]};this.backoff=new kde.BackoffTimeout(()=>{this.continueResolving&&this.startResolutionWithBackoff()},l),this.backoff.unref(),this.minTimeBetweenResolutionsMs=(i=o["grpc.dns_min_time_between_resolutions_ms"])!==null&&i!==void 0?i:Vde,this.nextResolutionTimer=setTimeout(()=>{},0),clearTimeout(this.nextResolutionTimer)}startResolution(){if(this.ipResult!==null){this.returnedIpResult||(tn("Returning IP address for target "+(0,ui.uriToString)(this.target)),setImmediate(()=>{this.listener.onSuccessfulResolution(this.ipResult,null,null,null,{})}),this.returnedIpResult=!0),this.backoff.stop(),this.backoff.reset(),this.stopNextResolutionTimer();return}if(this.dnsHostname===null)tn("Failed to parse DNS address "+(0,ui.uriToString)(this.target)),setImmediate(()=>{this.listener.onError({code:sO.Status.UNAVAILABLE,details:`Failed to parse DNS address ${(0,ui.uriToString)(this.target)}`,metadata:new aO.Metadata})}),this.stopNextResolutionTimer();else{if(this.pendingLookupPromise!==null)return;tn("Looking up DNS hostname "+this.dnsHostname),this.latestLookupResult=null;let e=this.dnsHostname;this.pendingLookupPromise=this.lookup(e),this.pendingLookupPromise.then(t=>{if(this.pendingLookupPromise===null)return;this.pendingLookupPromise=null,this.backoff.reset(),this.backoff.stop(),this.latestLookupResult=t.map(s=>({addresses:[s]}));let o="["+t.map(s=>s.host+":"+s.port).join(",")+"]";if(tn("Resolved addresses for target "+(0,ui.uriToString)(this.target)+": "+o),this.latestLookupResult.length===0){this.listener.onError(this.defaultResolutionError);return}this.listener.onSuccessfulResolution(this.latestLookupResult,this.latestServiceConfig,this.latestServiceConfigError,null,{})},t=>{this.pendingLookupPromise!==null&&(tn("Resolution error for target "+(0,ui.uriToString)(this.target)+": "+t.message),this.pendingLookupPromise=null,this.stopNextResolutionTimer(),this.listener.onError(this.defaultResolutionError))}),this.isServiceConfigEnabled&&this.pendingTxtPromise===null&&(this.pendingTxtPromise=this.resolveTxt(e),this.pendingTxtPromise.then(t=>{if(this.pendingTxtPromise!==null){this.pendingTxtPromise=null;try{this.latestServiceConfig=(0,wde.extractAndSelectServiceConfig)(t,this.percentage)}catch(o){this.latestServiceConfigError={code:sO.Status.UNAVAILABLE,details:`Parsing service config failed with error ${o.message}`,metadata:new aO.Metadata}}this.latestLookupResult!==null&&this.listener.onSuccessfulResolution(this.latestLookupResult,this.latestServiceConfig,this.latestServiceConfigError,null,{})}},t=>{}))}}async lookup(e){if(rj.GRPC_NODE_USE_ALTERNATIVE_RESOLVER){tn("Using alternative DNS resolver.");let o=await Promise.allSettled([this.alternativeResolver.resolve4(e),this.alternativeResolver.resolve6(e)]);if(o.every(s=>s.status==="rejected"))throw new Error(o[0].reason);return o.reduce((s,a)=>a.status==="fulfilled"?[...s,...a.value]:s,[]).map(s=>({host:s,port:+this.port}))}return(await oO.promises.lookup(e,{all:!0})).map(o=>({host:o.address,port:+this.port}))}async resolveTxt(e){return rj.GRPC_NODE_USE_ALTERNATIVE_RESOLVER?(tn("Using alternative DNS resolver."),this.alternativeResolver.resolveTxt(e)):oO.promises.resolveTxt(e)}startNextResolutionTimer(){var e,t;clearTimeout(this.nextResolutionTimer),this.nextResolutionTimer=setTimeout(()=>{this.stopNextResolutionTimer(),this.continueResolving&&this.startResolutionWithBackoff()},this.minTimeBetweenResolutionsMs),(t=(e=this.nextResolutionTimer).unref)===null||t===void 0||t.call(e),this.isNextResolutionTimerRunning=!0}stopNextResolutionTimer(){clearTimeout(this.nextResolutionTimer),this.isNextResolutionTimerRunning=!1}startResolutionWithBackoff(){this.pendingLookupPromise===null&&(this.continueResolving=!1,this.backoff.runOnce(),this.startNextResolutionTimer(),this.startResolution())}updateResolution(){this.pendingLookupPromise===null&&(this.isNextResolutionTimerRunning||this.backoff.isRunning()?(this.isNextResolutionTimerRunning?tn('resolution update delayed by "min time between resolutions" rate limit'):tn("resolution update delayed by backoff timer until "+this.backoff.getEndTime().toISOString()),this.continueResolving=!0):this.startResolutionWithBackoff())}destroy(){this.continueResolving=!1,this.backoff.reset(),this.backoff.stop(),this.stopNextResolutionTimer(),this.pendingLookupPromise=null,this.pendingTxtPromise=null,this.latestLookupResult=null,this.latestServiceConfig=null,this.latestServiceConfigError=null,this.returnedIpResult=!1}static getDefaultAuthority(e){return e.path}};function Fde(){(0,ej.registerResolver)("dns",lO),(0,ej.registerDefaultScheme)("dns")}});var uO=T(ru=>{"use strict";Object.defineProperty(ru,"__esModule",{value:!0});ru.parseCIDR=oj;ru.mapProxyName=Wde;ru.getProxiedConnection=Jde;var eu=Pe(),ma=ue(),ij=V("net"),Gde=V("http"),Hde=Pe(),nj=rr(),tu=Pt(),qde=V("url"),jde=cO(),Yde="proxy";function Ta(r){Hde.trace(ma.LogVerbosity.DEBUG,Yde,r)}function Kde(){let r="",e="";if(process.env.grpc_proxy)e="grpc_proxy",r=process.env.grpc_proxy;else if(process.env.https_proxy)e="https_proxy",r=process.env.https_proxy;else if(process.env.http_proxy)e="http_proxy",r=process.env.http_proxy;else return{};let t;try{t=new qde.URL(r)}catch{return(0,eu.log)(ma.LogVerbosity.ERROR,`cannot parse value of "${e}" env var`),{}}if(t.protocol!=="http:")return(0,eu.log)(ma.LogVerbosity.ERROR,`"${t.protocol}" scheme not supported in proxy URI`),{};let o=null;t.username&&(t.password?((0,eu.log)(ma.LogVerbosity.INFO,"userinfo found in proxy URI"),o=decodeURIComponent(`${t.username}:${t.password}`)):o=t.username);let s=t.hostname,a=t.port;a===""&&(a="80");let i={address:`${s}:${a}`};return o&&(i.creds=o),Ta("Proxy server "+i.address+" set by environment variable "+e),i}function zde(){let r=process.env.no_grpc_proxy,e="no_grpc_proxy";return r||(r=process.env.no_proxy,e="no_proxy"),r?(Ta("No proxy server list set by environment variable "+e),r.split(",")):[]}function oj(r){let e=r.split("/");if(e.length!==2)return null;let t=parseInt(e[1],10);return!(0,ij.isIPv4)(e[0])||Number.isNaN(t)||t<0||t>32?null:{ip:sj(e[0]),prefixLength:t}}function sj(r){return r.split(".").reduce((e,t)=>(e<<8)+parseInt(t,10),0)}function $de(r,e){let t=r.ip,o=-1<<32-r.prefixLength;return(sj(e)&o)===(t&o)}function Xde(r){for(let e of zde()){let t=oj(e);if((0,ij.isIPv4)(r)&&t&&$de(t,r))return!0;if(r.endsWith(e))return!0}return!1}function Wde(r,e){var t;let o={target:r,extraOptions:{}};if(((t=e["grpc.enable_http_proxy"])!==null&&t!==void 0?t:1)===0||r.scheme==="unix")return o;let s=Kde();if(!s.address)return o;let a=(0,tu.splitHostPort)(r.path);if(!a)return o;let i=a.host;if(Xde(i))return Ta("Not using proxy for target in no_proxy list: "+(0,tu.uriToString)(r)),o;let n={"grpc.http_connect_target":(0,tu.uriToString)(r)};return s.creds&&(n["grpc.http_connect_creds"]=s.creds),{target:{scheme:"dns",path:s.address},extraOptions:n}}function Jde(r,e){var t;if(!("grpc.http_connect_target"in e))return Promise.resolve(null);let o=e["grpc.http_connect_target"],s=(0,tu.parseUri)(o);if(s===null)return Promise.resolve(null);let a=(0,tu.splitHostPort)(s.path);if(a===null)return Promise.resolve(null);let i=`${a.host}:${(t=a.port)!==null&&t!==void 0?t:jde.DEFAULT_PORT}`,n={method:"CONNECT",path:i},l={Host:i};(0,nj.isTcpSubchannelAddress)(r)?(n.host=r.host,n.port=r.port):n.socketPath=r.path,"grpc.http_connect_creds"in e&&(l["Proxy-Authorization"]="Basic "+Buffer.from(e["grpc.http_connect_creds"]).toString("base64")),n.headers=l;let c=(0,nj.subchannelAddressToString)(r);return Ta("Using proxy "+c+" to connect to "+n.path),new Promise((u,f)=>{let _=Gde.request(n);_.once("connect",(m,O,y)=>{_.removeAllListeners(),O.removeAllListeners(),m.statusCode===200?(Ta("Successfully connected to "+n.path+" through proxy "+c),y.length>0&&O.unshift(y),Ta("Successfully established a plaintext connection to "+n.path+" through proxy "+c),u(O)):((0,eu.log)(ma.LogVerbosity.ERROR,"Failed to connect to "+n.path+" through proxy "+c+" with status "+m.statusCode),f())}),_.once("error",m=>{_.removeAllListeners(),(0,eu.log)(ma.LogVerbosity.ERROR,"Failed to connect to proxy "+c+" with error "+m.message),f()}),_.end()})}});var pO=T(V_=>{"use strict";Object.defineProperty(V_,"__esModule",{value:!0});V_.StreamDecoder=void 0;var rn;(function(r){r[r.NO_DATA=0]="NO_DATA",r[r.READING_SIZE=1]="READING_SIZE",r[r.READING_MESSAGE=2]="READING_MESSAGE"})(rn||(rn={}));var fO=class{constructor(e){this.maxReadMessageLength=e,this.readState=rn.NO_DATA,this.readCompressFlag=Buffer.alloc(1),this.readPartialSize=Buffer.alloc(4),this.readSizeRemaining=4,this.readMessageSize=0,this.readPartialMessage=[],this.readMessageRemaining=0}write(e){let t=0,o,s=[];for(;t<e.length;)switch(this.readState){case rn.NO_DATA:this.readCompressFlag=e.slice(t,t+1),t+=1,this.readState=rn.READING_SIZE,this.readPartialSize.fill(0),this.readSizeRemaining=4,this.readMessageSize=0,this.readMessageRemaining=0,this.readPartialMessage=[];break;case rn.READING_SIZE:if(o=Math.min(e.length-t,this.readSizeRemaining),e.copy(this.readPartialSize,4-this.readSizeRemaining,t,t+o),this.readSizeRemaining-=o,t+=o,this.readSizeRemaining===0){if(this.readMessageSize=this.readPartialSize.readUInt32BE(0),this.maxReadMessageLength!==-1&&this.readMessageSize>this.maxReadMessageLength)throw new Error(`Received message larger than max (${this.readMessageSize} vs ${this.maxReadMessageLength})`);if(this.readMessageRemaining=this.readMessageSize,this.readMessageRemaining>0)this.readState=rn.READING_MESSAGE;else{let a=Buffer.concat([this.readCompressFlag,this.readPartialSize],5);this.readState=rn.NO_DATA,s.push(a)}}break;case rn.READING_MESSAGE:if(o=Math.min(e.length-t,this.readMessageRemaining),this.readPartialMessage.push(e.slice(t,t+o)),this.readMessageRemaining-=o,t+=o,this.readMessageRemaining===0){let a=[this.readCompressFlag,this.readPartialSize].concat(this.readPartialMessage),i=Buffer.concat(a,this.readMessageSize+5);this.readState=rn.NO_DATA,s.push(i)}break;default:throw new Error("Unexpected read state")}return s}};V_.StreamDecoder=fO});var aj=T(F_=>{"use strict";Object.defineProperty(F_,"__esModule",{value:!0});F_.Http2SubchannelCall=void 0;var An=V("http2"),Qde=V("os"),Oe=ue(),Rn=ht(),Zde=pO(),ehe=Pe(),the=ue(),rhe="subchannel_call";function nhe(r){for(let[e,t]of Object.entries(Qde.constants.errno))if(t===r)return e;return"Unknown system error "+r}function dO(r){let e=`Received HTTP status code ${r}`,t;switch(r){case 400:t=Oe.Status.INTERNAL;break;case 401:t=Oe.Status.UNAUTHENTICATED;break;case 403:t=Oe.Status.PERMISSION_DENIED;break;case 404:t=Oe.Status.UNIMPLEMENTED;break;case 429:case 502:case 503:case 504:t=Oe.Status.UNAVAILABLE;break;default:t=Oe.Status.UNKNOWN}return{code:t,details:e,metadata:new Rn.Metadata}}var hO=class{constructor(e,t,o,s,a){var i;this.http2Stream=e,this.callEventTracker=t,this.listener=o,this.transport=s,this.callId=a,this.isReadFilterPending=!1,this.isPushPending=!1,this.canPush=!1,this.readsClosed=!1,this.statusOutput=!1,this.unpushedReadMessages=[],this.finalStatus=null,this.internalError=null,this.serverEndedCall=!1,this.connectionDropped=!1;let n=(i=s.getOptions()["grpc.max_receive_message_length"])!==null&&i!==void 0?i:Oe.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH;this.decoder=new Zde.StreamDecoder(n),e.on("response",(l,c)=>{let u="";for(let f of Object.keys(l))u+="		"+f+": "+l[f]+`
`;if(this.trace(`Received server headers:
`+u),this.httpStatusCode=l[":status"],c&An.constants.NGHTTP2_FLAG_END_STREAM)this.handleTrailers(l);else{let f;try{f=Rn.Metadata.fromHttp2Headers(l)}catch(_){this.endCall({code:Oe.Status.UNKNOWN,details:_.message,metadata:new Rn.Metadata});return}this.listener.onReceiveMetadata(f)}}),e.on("trailers",l=>{this.handleTrailers(l)}),e.on("data",l=>{if(this.statusOutput)return;this.trace("receive HTTP/2 data frame of length "+l.length);let c;try{c=this.decoder.write(l)}catch(u){if(this.httpStatusCode!==void 0&&this.httpStatusCode!==200){let f=dO(this.httpStatusCode);this.cancelWithStatus(f.code,f.details)}else this.cancelWithStatus(Oe.Status.RESOURCE_EXHAUSTED,u.message);return}for(let u of c)this.trace("parsed message of length "+u.length),this.callEventTracker.addMessageReceived(),this.tryPush(u)}),e.on("end",()=>{this.readsClosed=!0,this.maybeOutputStatus()}),e.on("close",()=>{this.serverEndedCall=!0,process.nextTick(()=>{var l;if(this.trace("HTTP/2 stream closed with code "+e.rstCode),((l=this.finalStatus)===null||l===void 0?void 0:l.code)===Oe.Status.OK)return;let c,u="";switch(e.rstCode){case An.constants.NGHTTP2_NO_ERROR:if(this.finalStatus!==null)return;if(this.httpStatusCode&&this.httpStatusCode!==200){let f=dO(this.httpStatusCode);c=f.code,u=f.details}else c=Oe.Status.INTERNAL,u=`Received RST_STREAM with code ${e.rstCode} (Call ended without gRPC status)`;break;case An.constants.NGHTTP2_REFUSED_STREAM:c=Oe.Status.UNAVAILABLE,u="Stream refused by server";break;case An.constants.NGHTTP2_CANCEL:this.connectionDropped?(c=Oe.Status.UNAVAILABLE,u="Connection dropped"):(c=Oe.Status.CANCELLED,u="Call cancelled");break;case An.constants.NGHTTP2_ENHANCE_YOUR_CALM:c=Oe.Status.RESOURCE_EXHAUSTED,u="Bandwidth exhausted or memory limit exceeded";break;case An.constants.NGHTTP2_INADEQUATE_SECURITY:c=Oe.Status.PERMISSION_DENIED,u="Protocol not secure enough";break;case An.constants.NGHTTP2_INTERNAL_ERROR:c=Oe.Status.INTERNAL,this.internalError===null?u=`Received RST_STREAM with code ${e.rstCode} (Internal server error)`:this.internalError.code==="ECONNRESET"||this.internalError.code==="ETIMEDOUT"?(c=Oe.Status.UNAVAILABLE,u=this.internalError.message):u=`Received RST_STREAM with code ${e.rstCode} triggered by internal client error: ${this.internalError.message}`;break;default:c=Oe.Status.INTERNAL,u=`Received RST_STREAM with code ${e.rstCode}`}this.endCall({code:c,details:u,metadata:new Rn.Metadata,rstCode:e.rstCode})})}),e.on("error",l=>{l.code!=="ERR_HTTP2_STREAM_ERROR"&&(this.trace("Node error event: message="+l.message+" code="+l.code+" errno="+nhe(l.errno)+" syscall="+l.syscall),this.internalError=l),this.callEventTracker.onStreamEnd(!1)})}getDeadlineInfo(){return[`remote_addr=${this.getPeer()}`]}onDisconnect(){this.connectionDropped=!0,setImmediate(()=>{this.endCall({code:Oe.Status.UNAVAILABLE,details:"Connection dropped",metadata:new Rn.Metadata})})}outputStatus(){this.statusOutput||(this.statusOutput=!0,this.trace("ended with status: code="+this.finalStatus.code+' details="'+this.finalStatus.details+'"'),this.callEventTracker.onCallEnd(this.finalStatus),process.nextTick(()=>{this.listener.onReceiveStatus(this.finalStatus)}),this.http2Stream.resume())}trace(e){ehe.trace(the.LogVerbosity.DEBUG,rhe,"["+this.callId+"] "+e)}endCall(e){(this.finalStatus===null||this.finalStatus.code===Oe.Status.OK)&&(this.finalStatus=e,this.maybeOutputStatus()),this.destroyHttp2Stream()}maybeOutputStatus(){this.finalStatus!==null&&(this.finalStatus.code!==Oe.Status.OK||this.readsClosed&&this.unpushedReadMessages.length===0&&!this.isReadFilterPending&&!this.isPushPending)&&this.outputStatus()}push(e){this.trace("pushing to reader message of length "+(e instanceof Buffer?e.length:null)),this.canPush=!1,this.isPushPending=!0,process.nextTick(()=>{this.isPushPending=!1,!this.statusOutput&&(this.listener.onReceiveMessage(e),this.maybeOutputStatus())})}tryPush(e){this.canPush?(this.http2Stream.pause(),this.push(e)):(this.trace("unpushedReadMessages.push message of length "+e.length),this.unpushedReadMessages.push(e))}handleTrailers(e){this.serverEndedCall=!0,this.callEventTracker.onStreamEnd(!0);let t="";for(let i of Object.keys(e))t+="		"+i+": "+e[i]+`
`;this.trace(`Received server trailers:
`+t);let o;try{o=Rn.Metadata.fromHttp2Headers(e)}catch{o=new Rn.Metadata}let s=o.getMap(),a;if(typeof s["grpc-status"]=="string"){let i=Number(s["grpc-status"]);this.trace("received status code "+i+" from server"),o.remove("grpc-status");let n="";if(typeof s["grpc-message"]=="string"){try{n=decodeURI(s["grpc-message"])}catch{n=s["grpc-message"]}o.remove("grpc-message"),this.trace('received status details string "'+n+'" from server')}a={code:i,details:n,metadata:o}}else this.httpStatusCode?(a=dO(this.httpStatusCode),a.metadata=o):a={code:Oe.Status.UNKNOWN,details:"No status information received",metadata:o};this.endCall(a)}destroyHttp2Stream(){var e;if(!this.http2Stream.destroyed)if(this.serverEndedCall)this.http2Stream.end();else{let t;((e=this.finalStatus)===null||e===void 0?void 0:e.code)===Oe.Status.OK?t=An.constants.NGHTTP2_NO_ERROR:t=An.constants.NGHTTP2_CANCEL,this.trace("close http2 stream with code "+t),this.http2Stream.close(t)}}cancelWithStatus(e,t){this.trace("cancelWithStatus code: "+e+' details: "'+t+'"'),this.endCall({code:e,details:t,metadata:new Rn.Metadata})}getStatus(){return this.finalStatus}getPeer(){return this.transport.getPeerName()}getCallNumber(){return this.callId}startRead(){if(this.finalStatus!==null&&this.finalStatus.code!==Oe.Status.OK){this.readsClosed=!0,this.maybeOutputStatus();return}if(this.canPush=!0,this.unpushedReadMessages.length>0){let e=this.unpushedReadMessages.shift();this.push(e);return}this.http2Stream.resume()}sendMessageWithContext(e,t){this.trace("write() called with message of length "+t.length);let o=s=>{process.nextTick(()=>{var a;let i=Oe.Status.UNAVAILABLE;(s==null?void 0:s.code)==="ERR_STREAM_WRITE_AFTER_END"&&(i=Oe.Status.INTERNAL),s&&this.cancelWithStatus(i,`Write error: ${s.message}`),(a=e.callback)===null||a===void 0||a.call(e)})};this.trace("sending data chunk of length "+t.length),this.callEventTracker.addMessageSent();try{this.http2Stream.write(t,o)}catch(s){this.endCall({code:Oe.Status.UNAVAILABLE,details:`Write failed with error ${s.message}`,metadata:new Rn.Metadata})}}halfClose(){this.trace("end() called"),this.trace("calling end() on HTTP/2 stream"),this.http2Stream.end()}};F_.Http2SubchannelCall=hO});var EO=T(_O=>{"use strict";Object.defineProperty(_O,"__esModule",{value:!0});_O.getNextCallNumber=ohe;var ihe=0;function ohe(){return ihe++}});var lj=T(q_=>{"use strict";Object.defineProperty(q_,"__esModule",{value:!0});q_.Http2SubchannelConnector=void 0;var vO=V("http2"),G_=Eo(),nu=ue(),she=uO(),Sa=Pe(),ahe=jr(),H_=rr(),mO=Pt(),lhe=V("net"),che=aj(),uhe=EO(),TO="transport",fhe="transport_flowctrl",phe=hv().version,{HTTP2_HEADER_AUTHORITY:dhe,HTTP2_HEADER_CONTENT_TYPE:hhe,HTTP2_HEADER_METHOD:_he,HTTP2_HEADER_PATH:Ehe,HTTP2_HEADER_TE:mhe,HTTP2_HEADER_USER_AGENT:The}=vO.constants,She=2e4,ghe=Buffer.from("too_many_pings","ascii"),SO=class{constructor(e,t,o,s){this.session=e,this.options=o,this.remoteName=s,this.keepaliveTimer=null,this.pendingSendKeepalivePing=!1,this.activeCalls=new Set,this.disconnectListeners=[],this.disconnectHandled=!1,this.channelzEnabled=!0,this.keepalivesSent=0,this.messagesSent=0,this.messagesReceived=0,this.lastMessageSentTimestamp=null,this.lastMessageReceivedTimestamp=null,this.subchannelAddressString=(0,H_.subchannelAddressToString)(t),o["grpc.enable_channelz"]===0?(this.channelzEnabled=!1,this.streamTracker=new G_.ChannelzCallTrackerStub):this.streamTracker=new G_.ChannelzCallTracker,this.channelzRef=(0,G_.registerChannelzSocket)(this.subchannelAddressString,()=>this.getChannelzInfo(),this.channelzEnabled),this.userAgent=[o["grpc.primary_user_agent"],`grpc-node-js/${phe}`,o["grpc.secondary_user_agent"]].filter(a=>a).join(" "),"grpc.keepalive_time_ms"in o?this.keepaliveTimeMs=o["grpc.keepalive_time_ms"]:this.keepaliveTimeMs=-1,"grpc.keepalive_timeout_ms"in o?this.keepaliveTimeoutMs=o["grpc.keepalive_timeout_ms"]:this.keepaliveTimeoutMs=She,"grpc.keepalive_permit_without_calls"in o?this.keepaliveWithoutCalls=o["grpc.keepalive_permit_without_calls"]===1:this.keepaliveWithoutCalls=!1,e.once("close",()=>{this.trace("session closed"),this.handleDisconnect()}),e.once("goaway",(a,i,n)=>{let l=!1;a===vO.constants.NGHTTP2_ENHANCE_YOUR_CALM&&n&&n.equals(ghe)&&(l=!0),this.trace("connection closed by GOAWAY with code "+a+" and data "+(n==null?void 0:n.toString())),this.reportDisconnectToOwner(l)}),e.once("error",a=>{this.trace("connection closed with error "+a.message),this.handleDisconnect()}),e.socket.once("close",a=>{this.trace("connection closed. hadError="+a),this.handleDisconnect()}),Sa.isTracerEnabled(TO)&&(e.on("remoteSettings",a=>{this.trace("new settings received"+(this.session!==e?" on the old connection":"")+": "+JSON.stringify(a))}),e.on("localSettings",a=>{this.trace("local settings acknowledged by remote"+(this.session!==e?" on the old connection":"")+": "+JSON.stringify(a))})),this.keepaliveWithoutCalls&&this.maybeStartKeepalivePingTimer()}getChannelzInfo(){var e,t,o;let s=this.session.socket,a=s.remoteAddress?(0,H_.stringToSubchannelAddress)(s.remoteAddress,s.remotePort):null,i=s.localAddress?(0,H_.stringToSubchannelAddress)(s.localAddress,s.localPort):null,n;if(this.session.encrypted){let c=s,u=c.getCipher(),f=c.getCertificate(),_=c.getPeerCertificate();n={cipherSuiteStandardName:(e=u.standardName)!==null&&e!==void 0?e:null,cipherSuiteOtherName:u.standardName?null:u.name,localCertificate:f&&"raw"in f?f.raw:null,remoteCertificate:_&&"raw"in _?_.raw:null}}else n=null;return{remoteAddress:a,localAddress:i,security:n,remoteName:this.remoteName,streamsStarted:this.streamTracker.callsStarted,streamsSucceeded:this.streamTracker.callsSucceeded,streamsFailed:this.streamTracker.callsFailed,messagesSent:this.messagesSent,messagesReceived:this.messagesReceived,keepAlivesSent:this.keepalivesSent,lastLocalStreamCreatedTimestamp:this.streamTracker.lastCallStartedTimestamp,lastRemoteStreamCreatedTimestamp:null,lastMessageSentTimestamp:this.lastMessageSentTimestamp,lastMessageReceivedTimestamp:this.lastMessageReceivedTimestamp,localFlowControlWindow:(t=this.session.state.localWindowSize)!==null&&t!==void 0?t:null,remoteFlowControlWindow:(o=this.session.state.remoteWindowSize)!==null&&o!==void 0?o:null}}trace(e){Sa.trace(nu.LogVerbosity.DEBUG,TO,"("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}keepaliveTrace(e){Sa.trace(nu.LogVerbosity.DEBUG,"keepalive","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}flowControlTrace(e){Sa.trace(nu.LogVerbosity.DEBUG,fhe,"("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}internalsTrace(e){Sa.trace(nu.LogVerbosity.DEBUG,"transport_internals","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}reportDisconnectToOwner(e){this.disconnectHandled||(this.disconnectHandled=!0,this.disconnectListeners.forEach(t=>t(e)))}handleDisconnect(){this.clearKeepaliveTimeout(),this.reportDisconnectToOwner(!1);for(let e of this.activeCalls)e.onDisconnect();setImmediate(()=>{this.session.destroy()})}addDisconnectListener(e){this.disconnectListeners.push(e)}canSendPing(){return!this.session.destroyed&&this.keepaliveTimeMs>0&&(this.keepaliveWithoutCalls||this.activeCalls.size>0)}maybeSendPing(){var e,t;if(!this.canSendPing()){this.pendingSendKeepalivePing=!0;return}if(this.keepaliveTimer){console.error("keepaliveTimeout is not null");return}this.channelzEnabled&&(this.keepalivesSent+=1),this.keepaliveTrace("Sending ping with timeout "+this.keepaliveTimeoutMs+"ms"),this.keepaliveTimer=setTimeout(()=>{this.keepaliveTimer=null,this.keepaliveTrace("Ping timeout passed without response"),this.handleDisconnect()},this.keepaliveTimeoutMs),(t=(e=this.keepaliveTimer).unref)===null||t===void 0||t.call(e);let o="";try{this.session.ping((a,i,n)=>{this.clearKeepaliveTimeout(),a?(this.keepaliveTrace("Ping failed with error "+a.message),this.handleDisconnect()):(this.keepaliveTrace("Received ping response"),this.maybeStartKeepalivePingTimer())})||(o="Ping returned false")}catch(s){o=(s instanceof Error?s.message:"")||"Unknown error"}o&&(this.keepaliveTrace("Ping send failed: "+o),this.handleDisconnect())}maybeStartKeepalivePingTimer(){var e,t;this.canSendPing()&&(this.pendingSendKeepalivePing?(this.pendingSendKeepalivePing=!1,this.maybeSendPing()):this.keepaliveTimer||(this.keepaliveTrace("Starting keepalive timer for "+this.keepaliveTimeMs+"ms"),this.keepaliveTimer=setTimeout(()=>{this.keepaliveTimer=null,this.maybeSendPing()},this.keepaliveTimeMs),(t=(e=this.keepaliveTimer).unref)===null||t===void 0||t.call(e)))}clearKeepaliveTimeout(){this.keepaliveTimer&&(clearTimeout(this.keepaliveTimer),this.keepaliveTimer=null)}removeActiveCall(e){this.activeCalls.delete(e),this.activeCalls.size===0&&this.session.unref()}addActiveCall(e){this.activeCalls.add(e),this.activeCalls.size===1&&(this.session.ref(),this.keepaliveWithoutCalls||this.maybeStartKeepalivePingTimer())}createCall(e,t,o,s,a){let i=e.toHttp2Headers();i[dhe]=t,i[The]=this.userAgent,i[hhe]="application/grpc",i[_he]="POST",i[Ehe]=o,i[mhe]="trailers";let n;try{n=this.session.request(i)}catch(u){throw this.handleDisconnect(),u}this.flowControlTrace("local window size: "+this.session.state.localWindowSize+" remote window size: "+this.session.state.remoteWindowSize),this.internalsTrace("session.closed="+this.session.closed+" session.destroyed="+this.session.destroyed+" session.socket.destroyed="+this.session.socket.destroyed);let l,c;return this.channelzEnabled?(this.streamTracker.addCallStarted(),l={addMessageSent:()=>{var u;this.messagesSent+=1,this.lastMessageSentTimestamp=new Date,(u=a.addMessageSent)===null||u===void 0||u.call(a)},addMessageReceived:()=>{var u;this.messagesReceived+=1,this.lastMessageReceivedTimestamp=new Date,(u=a.addMessageReceived)===null||u===void 0||u.call(a)},onCallEnd:u=>{var f;(f=a.onCallEnd)===null||f===void 0||f.call(a,u),this.removeActiveCall(c)},onStreamEnd:u=>{var f;u?this.streamTracker.addCallSucceeded():this.streamTracker.addCallFailed(),(f=a.onStreamEnd)===null||f===void 0||f.call(a,u)}}):l={addMessageSent:()=>{var u;(u=a.addMessageSent)===null||u===void 0||u.call(a)},addMessageReceived:()=>{var u;(u=a.addMessageReceived)===null||u===void 0||u.call(a)},onCallEnd:u=>{var f;(f=a.onCallEnd)===null||f===void 0||f.call(a,u),this.removeActiveCall(c)},onStreamEnd:u=>{var f;(f=a.onStreamEnd)===null||f===void 0||f.call(a,u)}},c=new che.Http2SubchannelCall(n,l,s,this,(0,uhe.getNextCallNumber)()),this.addActiveCall(c),c}getChannelzRef(){return this.channelzRef}getPeerName(){return this.subchannelAddressString}getOptions(){return this.options}shutdown(){this.session.close(),(0,G_.unregisterChannelzRef)(this.channelzRef)}},gO=class{constructor(e){this.channelTarget=e,this.session=null,this.isShutdown=!1}trace(e){Sa.trace(nu.LogVerbosity.DEBUG,TO,(0,mO.uriToString)(this.channelTarget)+" "+e)}createSession(e,t,o){return this.isShutdown?Promise.reject():e.socket.closed?Promise.reject("Connection closed before starting HTTP/2 handshake"):new Promise((s,a)=>{let i=null,n=this.channelTarget;if("grpc.http_connect_target"in o){let A=(0,mO.parseUri)(o["grpc.http_connect_target"]);A&&(n=A,i=(0,mO.uriToString)(A))}let l=e.secure?"https":"http",c=(0,ahe.getDefaultAuthority)(n),u=()=>{var A;(A=this.session)===null||A===void 0||A.destroy(),this.session=null,setImmediate(()=>{y||(y=!0,a(`${O.trim()} (${new Date().toISOString()})`))})},f=A=>{var I;(I=this.session)===null||I===void 0||I.destroy(),O=A.message,this.trace("connection failed with error "+O),y||(y=!0,a(`${O} (${new Date().toISOString()})`))},_={createConnection:(A,I)=>e.socket};o["grpc-node.flow_control_window"]!==void 0&&(_.settings={initialWindowSize:o["grpc-node.flow_control_window"]});let m=vO.connect(`${l}://${c}`,_);this.session=m;let O="Failed to connect",y=!1;m.unref(),m.once("remoteSettings",()=>{m.removeAllListeners(),e.socket.removeListener("close",u),e.socket.removeListener("error",f),s(new SO(m,t,o,i)),this.session=null}),m.once("close",u),m.once("error",f),e.socket.once("close",u),e.socket.once("error",f)})}tcpConnect(e,t){return(0,she.getProxiedConnection)(e,t).then(o=>o||new Promise((s,a)=>{let i=()=>{a(new Error("Socket closed"))},n=c=>{a(c)},l=lhe.connect(e,()=>{l.removeListener("close",i),l.removeListener("error",n),s(l)});l.once("close",i),l.once("error",n)}))}async connect(e,t,o){if(this.isShutdown)return Promise.reject();let s=null,a=null,i=(0,H_.subchannelAddressToString)(e);try{return this.trace(i+" Waiting for secureConnector to be ready"),await t.waitForReady(),this.trace(i+" secureConnector is ready"),s=await this.tcpConnect(e,o),s.setNoDelay(),this.trace(i+" Established TCP connection"),a=await t.connect(s),this.trace(i+" Established secure connection"),this.createSession(a,e,o)}catch(n){throw s==null||s.destroy(),a==null||a.socket.destroy(),n}}shutdown(){var e;this.isShutdown=!0,(e=this.session)===null||e===void 0||e.close(),this.session=null}};q_.Http2SubchannelConnector=gO});var cj=T(ou=>{"use strict";Object.defineProperty(ou,"__esModule",{value:!0});ou.SubchannelPool=void 0;ou.getSubchannelPool=Phe;var vhe=w3(),yhe=Qq(),Ohe=rr(),Ahe=Pt(),Rhe=lj(),Nhe=1e4,iu=class{constructor(){this.pool=Object.create(null),this.cleanupTimer=null}unrefUnusedSubchannels(){let e=!0;for(let t in this.pool){let s=this.pool[t].filter(a=>!a.subchannel.unrefIfOneRef());s.length>0&&(e=!1),this.pool[t]=s}e&&this.cleanupTimer!==null&&(clearInterval(this.cleanupTimer),this.cleanupTimer=null)}ensureCleanupTask(){var e,t;this.cleanupTimer===null&&(this.cleanupTimer=setInterval(()=>{this.unrefUnusedSubchannels()},Nhe),(t=(e=this.cleanupTimer).unref)===null||t===void 0||t.call(e))}getOrCreateSubchannel(e,t,o,s){this.ensureCleanupTask();let a=(0,Ahe.uriToString)(e);if(a in this.pool){let n=this.pool[a];for(let l of n)if((0,Ohe.subchannelAddressEqual)(t,l.subchannelAddress)&&(0,vhe.channelOptionsEqual)(o,l.channelArguments)&&s._equals(l.channelCredentials))return l.subchannel}let i=new yhe.Subchannel(e,t,o,s,new Rhe.Http2SubchannelConnector(e));return a in this.pool||(this.pool[a]=[]),this.pool[a].push({subchannelAddress:t,channelArguments:o,channelCredentials:s,subchannel:i}),i.ref(),i}};ou.SubchannelPool=iu;var Che=new iu;function Phe(r){return r?Che:new iu}});var OO=T(ga=>{"use strict";Object.defineProperty(ga,"__esModule",{value:!0});ga.FilterStackFactory=ga.FilterStack=void 0;var j_=class{constructor(e){this.filters=e}sendMetadata(e){let t=e;for(let o=0;o<this.filters.length;o++)t=this.filters[o].sendMetadata(t);return t}receiveMetadata(e){let t=e;for(let o=this.filters.length-1;o>=0;o--)t=this.filters[o].receiveMetadata(t);return t}sendMessage(e){let t=e;for(let o=0;o<this.filters.length;o++)t=this.filters[o].sendMessage(t);return t}receiveMessage(e){let t=e;for(let o=this.filters.length-1;o>=0;o--)t=this.filters[o].receiveMessage(t);return t}receiveTrailers(e){let t=e;for(let o=this.filters.length-1;o>=0;o--)t=this.filters[o].receiveTrailers(t);return t}push(e){this.filters.unshift(...e)}getFilters(){return this.filters}};ga.FilterStack=j_;var yO=class r{constructor(e){this.factories=e}push(e){this.factories.unshift(...e)}clone(){return new r([...this.factories])}createFilter(){return new j_(this.factories.map(e=>e.createFilter()))}};ga.FilterStackFactory=yO});var AO=T(Y_=>{"use strict";Object.defineProperty(Y_,"__esModule",{value:!0});Y_.CompressionAlgorithms=void 0;var uj;(function(r){r[r.identity=0]="identity",r[r.deflate=1]="deflate",r[r.gzip=2]="gzip"})(uj||(Y_.CompressionAlgorithms=uj={}))});var NO=T(K_=>{"use strict";Object.defineProperty(K_,"__esModule",{value:!0});K_.BaseFilter=void 0;var RO=class{async sendMetadata(e){return e}receiveMetadata(e){return e}async sendMessage(e){return e}async receiveMessage(e){return e}receiveTrailers(e){return e}};K_.BaseFilter=RO});var dj=T(Oa=>{"use strict";Object.defineProperty(Oa,"__esModule",{value:!0});Oa.CompressionFilterFactory=Oa.CompressionFilter=void 0;var z_=V("zlib"),pj=AO(),va=ue(),Ihe=NO(),Lhe=Pe(),bhe=r=>typeof r=="number"&&typeof pj.CompressionAlgorithms[r]=="string",ya=class{async writeMessage(e,t){let o=e;t&&(o=await this.compressMessage(o));let s=Buffer.allocUnsafe(o.length+5);return s.writeUInt8(t?1:0,0),s.writeUInt32BE(o.length,1),o.copy(s,5),s}async readMessage(e){let t=e.readUInt8(0)===1,o=e.slice(5);return t&&(o=await this.decompressMessage(o)),o}},To=class extends ya{async compressMessage(e){return e}async writeMessage(e,t){let o=Buffer.allocUnsafe(e.length+5);return o.writeUInt8(0,0),o.writeUInt32BE(e.length,1),e.copy(o,5),o}decompressMessage(e){return Promise.reject(new Error('Received compressed message but "grpc-encoding" header was identity'))}},CO=class extends ya{constructor(e){super(),this.maxRecvMessageLength=e}compressMessage(e){return new Promise((t,o)=>{z_.deflate(e,(s,a)=>{s?o(s):t(a)})})}decompressMessage(e){return new Promise((t,o)=>{let s=0,a=[],i=z_.createInflate();i.on("data",n=>{a.push(n),s+=n.byteLength,this.maxRecvMessageLength!==-1&&s>this.maxRecvMessageLength&&(i.destroy(),o({code:va.Status.RESOURCE_EXHAUSTED,details:`Received message that decompresses to a size larger than ${this.maxRecvMessageLength}`}))}),i.on("end",()=>{t(Buffer.concat(a))}),i.write(e),i.end()})}},PO=class extends ya{constructor(e){super(),this.maxRecvMessageLength=e}compressMessage(e){return new Promise((t,o)=>{z_.gzip(e,(s,a)=>{s?o(s):t(a)})})}decompressMessage(e){return new Promise((t,o)=>{let s=0,a=[],i=z_.createGunzip();i.on("data",n=>{a.push(n),s+=n.byteLength,this.maxRecvMessageLength!==-1&&s>this.maxRecvMessageLength&&(i.destroy(),o({code:va.Status.RESOURCE_EXHAUSTED,details:`Received message that decompresses to a size larger than ${this.maxRecvMessageLength}`}))}),i.on("end",()=>{t(Buffer.concat(a))}),i.write(e),i.end()})}},IO=class extends ya{constructor(e){super(),this.compressionName=e}compressMessage(e){return Promise.reject(new Error(`Received message compressed with unsupported compression method ${this.compressionName}`))}decompressMessage(e){return Promise.reject(new Error(`Compression method not supported: ${this.compressionName}`))}};function fj(r,e){switch(r){case"identity":return new To;case"deflate":return new CO(e);case"gzip":return new PO(e);default:return new IO(r)}}var $_=class extends Ihe.BaseFilter{constructor(e,t){var o,s,a;super(),this.sharedFilterConfig=t,this.sendCompression=new To,this.receiveCompression=new To,this.currentCompressionAlgorithm="identity";let i=e["grpc.default_compression_algorithm"];if(this.maxReceiveMessageLength=(o=e["grpc.max_receive_message_length"])!==null&&o!==void 0?o:va.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH,this.maxSendMessageLength=(s=e["grpc.max_send_message_length"])!==null&&s!==void 0?s:va.DEFAULT_MAX_SEND_MESSAGE_LENGTH,i!==void 0)if(bhe(i)){let n=pj.CompressionAlgorithms[i],l=(a=t.serverSupportedEncodingHeader)===null||a===void 0?void 0:a.split(",");(!l||l.includes(n))&&(this.currentCompressionAlgorithm=n,this.sendCompression=fj(this.currentCompressionAlgorithm,-1))}else Lhe.log(va.LogVerbosity.ERROR,`Invalid value provided for grpc.default_compression_algorithm option: ${i}`)}async sendMetadata(e){let t=await e;return t.set("grpc-accept-encoding","identity,deflate,gzip"),t.set("accept-encoding","identity"),this.currentCompressionAlgorithm==="identity"?t.remove("grpc-encoding"):t.set("grpc-encoding",this.currentCompressionAlgorithm),t}receiveMetadata(e){let t=e.get("grpc-encoding");if(t.length>0){let s=t[0];typeof s=="string"&&(this.receiveCompression=fj(s,this.maxReceiveMessageLength))}e.remove("grpc-encoding");let o=e.get("grpc-accept-encoding")[0];return o&&(this.sharedFilterConfig.serverSupportedEncodingHeader=o,o.split(",").includes(this.currentCompressionAlgorithm)||(this.sendCompression=new To,this.currentCompressionAlgorithm="identity")),e.remove("grpc-accept-encoding"),e}async sendMessage(e){var t;let o=await e;if(this.maxSendMessageLength!==-1&&o.message.length>this.maxSendMessageLength)throw{code:va.Status.RESOURCE_EXHAUSTED,details:`Attempted to send message with a size larger than ${this.maxSendMessageLength}`};let s;return this.sendCompression instanceof To?s=!1:s=(((t=o.flags)!==null&&t!==void 0?t:0)&2)===0,{message:await this.sendCompression.writeMessage(o.message,s),flags:o.flags}}async receiveMessage(e){return this.receiveCompression.readMessage(await e)}};Oa.CompressionFilter=$_;var LO=class{constructor(e,t){this.options=t,this.sharedFilterConfig={}}createFilter(){return new $_(this.options,this.sharedFilterConfig)}};Oa.CompressionFilterFactory=LO});var su=T(So=>{"use strict";Object.defineProperty(So,"__esModule",{value:!0});So.minDeadline=xhe;So.getDeadlineTimeoutString=whe;So.getRelativeTimeout=Uhe;So.deadlineToString=khe;So.formatDateDifference=Bhe;function xhe(...r){let e=1/0;for(let t of r){let o=t instanceof Date?t.getTime():t;o<e&&(e=o)}return e}var Mhe=[["m",1],["S",1e3],["M",60*1e3],["H",60*60*1e3]];function whe(r){let e=new Date().getTime();r instanceof Date&&(r=r.getTime());let t=Math.max(r-e,0);for(let[o,s]of Mhe){let a=t/s;if(a<1e8)return String(Math.ceil(a))+o}throw new Error("Deadline is too far in the future")}var Dhe=2147483647;function Uhe(r){let e=r instanceof Date?r.getTime():r,t=new Date().getTime(),o=e-t;return o<0?0:o>Dhe?1/0:o}function khe(r){if(r instanceof Date)return r.toISOString();{let e=new Date(r);return Number.isNaN(e.getTime())?""+r:e.toISOString()}}function Bhe(r,e){return((e.getTime()-r.getTime())/1e3).toFixed(3)+"s"}});var X_=T(bO=>{"use strict";Object.defineProperty(bO,"__esModule",{value:!0});bO.restrictControlPlaneStatusCode=Fhe;var nn=ue(),Vhe=[nn.Status.OK,nn.Status.INVALID_ARGUMENT,nn.Status.NOT_FOUND,nn.Status.ALREADY_EXISTS,nn.Status.FAILED_PRECONDITION,nn.Status.ABORTED,nn.Status.OUT_OF_RANGE,nn.Status.DATA_LOSS];function Fhe(r,e){return Vhe.includes(r)?{code:nn.Status.INTERNAL,details:`Invalid status from control plane: ${r} ${nn.Status[r]} ${e}`}:{code:r,details:e}}});var Ej=T(Q_=>{"use strict";Object.defineProperty(Q_,"__esModule",{value:!0});Q_.LoadBalancingCall=void 0;var hj=tr(),W_=ue(),_j=su(),J_=ht(),au=ri(),Ghe=Pt(),Hhe=Pe(),xO=X_(),qhe=V("http2"),jhe="load_balancing_call",MO=class{constructor(e,t,o,s,a,i,n){var l,c;this.channel=e,this.callConfig=t,this.methodName=o,this.host=s,this.credentials=a,this.deadline=i,this.callNumber=n,this.child=null,this.readPending=!1,this.pendingMessage=null,this.pendingHalfClose=!1,this.ended=!1,this.metadata=null,this.listener=null,this.onCallEnded=null,this.childStartTime=null;let u=this.methodName.split("/"),f="";u.length>=2&&(f=u[1]);let _=(c=(l=(0,Ghe.splitHostPort)(this.host))===null||l===void 0?void 0:l.host)!==null&&c!==void 0?c:"localhost";this.serviceUrl=`https://${_}/${f}`,this.startTime=new Date}getDeadlineInfo(){var e,t;let o=[];return this.childStartTime?(this.childStartTime>this.startTime&&(!((e=this.metadata)===null||e===void 0)&&e.getOptions().waitForReady&&o.push("wait_for_ready"),o.push(`LB pick: ${(0,_j.formatDateDifference)(this.startTime,this.childStartTime)}`)),o.push(...this.child.getDeadlineInfo()),o):(!((t=this.metadata)===null||t===void 0)&&t.getOptions().waitForReady&&o.push("wait_for_ready"),o.push("Waiting for LB pick"),o)}trace(e){Hhe.trace(W_.LogVerbosity.DEBUG,jhe,"["+this.callNumber+"] "+e)}outputStatus(e,t){var o,s;if(!this.ended){this.ended=!0,this.trace("ended with status: code="+e.code+' details="'+e.details+'" start time='+this.startTime.toISOString());let a=Object.assign(Object.assign({},e),{progress:t});(o=this.listener)===null||o===void 0||o.onReceiveStatus(a),(s=this.onCallEnded)===null||s===void 0||s.call(this,a.code)}}doPick(){var e,t;if(this.ended)return;if(!this.metadata)throw new Error("doPick called before start");this.trace("Pick called");let o=this.metadata.clone(),s=this.channel.doPick(o,this.callConfig.pickInformation),a=s.subchannel?"("+s.subchannel.getChannelzRef().id+") "+s.subchannel.getAddress():""+s.subchannel;switch(this.trace("Pick result: "+au.PickResultType[s.pickResultType]+" subchannel: "+a+" status: "+((e=s.status)===null||e===void 0?void 0:e.code)+" "+((t=s.status)===null||t===void 0?void 0:t.details)),s.pickResultType){case au.PickResultType.COMPLETE:this.credentials.compose(s.subchannel.getCallCredentials()).generateMetadata({method_name:this.methodName,service_url:this.serviceUrl}).then(c=>{var u;if(this.ended){this.trace("Credentials metadata generation finished after call ended");return}if(o.merge(c),o.get("authorization").length>1&&this.outputStatus({code:W_.Status.INTERNAL,details:'"authorization" metadata cannot have multiple values',metadata:new J_.Metadata},"PROCESSED"),s.subchannel.getConnectivityState()!==hj.ConnectivityState.READY){this.trace("Picked subchannel "+a+" has state "+hj.ConnectivityState[s.subchannel.getConnectivityState()]+" after getting credentials metadata. Retrying pick"),this.doPick();return}this.deadline!==1/0&&o.set("grpc-timeout",(0,_j.getDeadlineTimeoutString)(this.deadline));try{this.child=s.subchannel.getRealSubchannel().createCall(o,this.host,this.methodName,{onReceiveMetadata:f=>{this.trace("Received metadata"),this.listener.onReceiveMetadata(f)},onReceiveMessage:f=>{this.trace("Received message"),this.listener.onReceiveMessage(f)},onReceiveStatus:f=>{this.trace("Received status"),f.rstCode===qhe.constants.NGHTTP2_REFUSED_STREAM?this.outputStatus(f,"REFUSED"):this.outputStatus(f,"PROCESSED")}}),this.childStartTime=new Date}catch(f){this.trace("Failed to start call on picked subchannel "+a+" with error "+f.message),this.outputStatus({code:W_.Status.INTERNAL,details:"Failed to start HTTP/2 stream with error "+f.message,metadata:new J_.Metadata},"NOT_STARTED");return}(u=s.onCallStarted)===null||u===void 0||u.call(s),this.onCallEnded=s.onCallEnded,this.trace("Created child call ["+this.child.getCallNumber()+"]"),this.readPending&&this.child.startRead(),this.pendingMessage&&this.child.sendMessageWithContext(this.pendingMessage.context,this.pendingMessage.message),this.pendingHalfClose&&this.child.halfClose()},c=>{let{code:u,details:f}=(0,xO.restrictControlPlaneStatusCode)(typeof c.code=="number"?c.code:W_.Status.UNKNOWN,`Getting metadata from plugin failed with error: ${c.message}`);this.outputStatus({code:u,details:f,metadata:new J_.Metadata},"PROCESSED")});break;case au.PickResultType.DROP:let{code:n,details:l}=(0,xO.restrictControlPlaneStatusCode)(s.status.code,s.status.details);setImmediate(()=>{this.outputStatus({code:n,details:l,metadata:s.status.metadata},"DROP")});break;case au.PickResultType.TRANSIENT_FAILURE:if(this.metadata.getOptions().waitForReady)this.channel.queueCallForPick(this);else{let{code:c,details:u}=(0,xO.restrictControlPlaneStatusCode)(s.status.code,s.status.details);setImmediate(()=>{this.outputStatus({code:c,details:u,metadata:s.status.metadata},"PROCESSED")})}break;case au.PickResultType.QUEUE:this.channel.queueCallForPick(this)}}cancelWithStatus(e,t){var o;this.trace("cancelWithStatus code: "+e+' details: "'+t+'"'),(o=this.child)===null||o===void 0||o.cancelWithStatus(e,t),this.outputStatus({code:e,details:t,metadata:new J_.Metadata},"PROCESSED")}getPeer(){var e,t;return(t=(e=this.child)===null||e===void 0?void 0:e.getPeer())!==null&&t!==void 0?t:this.channel.getTarget()}start(e,t){this.trace("start called"),this.listener=t,this.metadata=e,this.doPick()}sendMessageWithContext(e,t){this.trace("write() called with message of length "+t.length),this.child?this.child.sendMessageWithContext(e,t):this.pendingMessage={context:e,message:t}}startRead(){this.trace("startRead called"),this.child?this.child.startRead():this.readPending=!0}halfClose(){this.trace("halfClose called"),this.child?this.child.halfClose():this.pendingHalfClose=!0}setCredentials(e){throw new Error("Method not implemented.")}getCallNumber(){return this.callNumber}};Q_.LoadBalancingCall=MO});var Tj=T(Z_=>{"use strict";Object.defineProperty(Z_,"__esModule",{value:!0});Z_.ResolvingCall=void 0;var Yhe=Fh(),go=ue(),vo=su(),mj=ht(),Khe=Pe(),zhe=X_(),$he="resolving_call",wO=class{constructor(e,t,o,s,a){this.channel=e,this.method=t,this.filterStackFactory=s,this.callNumber=a,this.child=null,this.readPending=!1,this.pendingMessage=null,this.pendingHalfClose=!1,this.ended=!1,this.readFilterPending=!1,this.writeFilterPending=!1,this.pendingChildStatus=null,this.metadata=null,this.listener=null,this.statusWatchers=[],this.deadlineTimer=setTimeout(()=>{},0),this.filterStack=null,this.deadlineStartTime=null,this.configReceivedTime=null,this.childStartTime=null,this.credentials=Yhe.CallCredentials.createEmpty(),this.deadline=o.deadline,this.host=o.host,o.parentCall&&(o.flags&go.Propagate.CANCELLATION&&o.parentCall.on("cancelled",()=>{this.cancelWithStatus(go.Status.CANCELLED,"Cancelled by parent call")}),o.flags&go.Propagate.DEADLINE&&(this.trace("Propagating deadline from parent: "+o.parentCall.getDeadline()),this.deadline=(0,vo.minDeadline)(this.deadline,o.parentCall.getDeadline()))),this.trace("Created"),this.runDeadlineTimer()}trace(e){Khe.trace(go.LogVerbosity.DEBUG,$he,"["+this.callNumber+"] "+e)}runDeadlineTimer(){clearTimeout(this.deadlineTimer),this.deadlineStartTime=new Date,this.trace("Deadline: "+(0,vo.deadlineToString)(this.deadline));let e=(0,vo.getRelativeTimeout)(this.deadline);if(e!==1/0){this.trace("Deadline will be reached in "+e+"ms");let t=()=>{if(!this.deadlineStartTime){this.cancelWithStatus(go.Status.DEADLINE_EXCEEDED,"Deadline exceeded");return}let o=[],s=new Date;o.push(`Deadline exceeded after ${(0,vo.formatDateDifference)(this.deadlineStartTime,s)}`),this.configReceivedTime?(this.configReceivedTime>this.deadlineStartTime&&o.push(`name resolution: ${(0,vo.formatDateDifference)(this.deadlineStartTime,this.configReceivedTime)}`),this.childStartTime?this.childStartTime>this.configReceivedTime&&o.push(`metadata filters: ${(0,vo.formatDateDifference)(this.configReceivedTime,this.childStartTime)}`):o.push("waiting for metadata filters")):o.push("waiting for name resolution"),this.child&&o.push(...this.child.getDeadlineInfo()),this.cancelWithStatus(go.Status.DEADLINE_EXCEEDED,o.join(","))};e<=0?process.nextTick(t):this.deadlineTimer=setTimeout(t,e)}}outputStatus(e){if(!this.ended){this.ended=!0,this.filterStack||(this.filterStack=this.filterStackFactory.createFilter()),clearTimeout(this.deadlineTimer);let t=this.filterStack.receiveTrailers(e);this.trace("ended with status: code="+t.code+' details="'+t.details+'"'),this.statusWatchers.forEach(o=>o(t)),process.nextTick(()=>{var o;(o=this.listener)===null||o===void 0||o.onReceiveStatus(t)})}}sendMessageOnChild(e,t){if(!this.child)throw new Error("sendMessageonChild called with child not populated");let o=this.child;this.writeFilterPending=!0,this.filterStack.sendMessage(Promise.resolve({message:t,flags:e.flags})).then(s=>{this.writeFilterPending=!1,o.sendMessageWithContext(e,s.message),this.pendingHalfClose&&o.halfClose()},s=>{this.cancelWithStatus(s.code,s.details)})}getConfig(){if(this.ended)return;if(!this.metadata||!this.listener)throw new Error("getConfig called before start");let e=this.channel.getConfig(this.method,this.metadata);if(e.type==="NONE"){this.channel.queueCallForConfig(this);return}else if(e.type==="ERROR"){this.metadata.getOptions().waitForReady?this.channel.queueCallForConfig(this):this.outputStatus(e.error);return}this.configReceivedTime=new Date;let t=e.config;if(t.status!==go.Status.OK){let{code:o,details:s}=(0,zhe.restrictControlPlaneStatusCode)(t.status,"Failed to route call to method "+this.method);this.outputStatus({code:o,details:s,metadata:new mj.Metadata});return}if(t.methodConfig.timeout){let o=new Date;o.setSeconds(o.getSeconds()+t.methodConfig.timeout.seconds),o.setMilliseconds(o.getMilliseconds()+t.methodConfig.timeout.nanos/1e6),this.deadline=(0,vo.minDeadline)(this.deadline,o),this.runDeadlineTimer()}this.filterStackFactory.push(t.dynamicFilterFactories),this.filterStack=this.filterStackFactory.createFilter(),this.filterStack.sendMetadata(Promise.resolve(this.metadata)).then(o=>{this.child=this.channel.createRetryingCall(t,this.method,this.host,this.credentials,this.deadline),this.trace("Created child ["+this.child.getCallNumber()+"]"),this.childStartTime=new Date,this.child.start(o,{onReceiveMetadata:s=>{this.trace("Received metadata"),this.listener.onReceiveMetadata(this.filterStack.receiveMetadata(s))},onReceiveMessage:s=>{this.trace("Received message"),this.readFilterPending=!0,this.filterStack.receiveMessage(s).then(a=>{this.trace("Finished filtering received message"),this.readFilterPending=!1,this.listener.onReceiveMessage(a),this.pendingChildStatus&&this.outputStatus(this.pendingChildStatus)},a=>{this.cancelWithStatus(a.code,a.details)})},onReceiveStatus:s=>{this.trace("Received status"),this.readFilterPending?this.pendingChildStatus=s:this.outputStatus(s)}}),this.readPending&&this.child.startRead(),this.pendingMessage?this.sendMessageOnChild(this.pendingMessage.context,this.pendingMessage.message):this.pendingHalfClose&&this.child.halfClose()},o=>{this.outputStatus(o)})}reportResolverError(e){var t;!((t=this.metadata)===null||t===void 0)&&t.getOptions().waitForReady?this.channel.queueCallForConfig(this):this.outputStatus(e)}cancelWithStatus(e,t){var o;this.trace("cancelWithStatus code: "+e+' details: "'+t+'"'),(o=this.child)===null||o===void 0||o.cancelWithStatus(e,t),this.outputStatus({code:e,details:t,metadata:new mj.Metadata})}getPeer(){var e,t;return(t=(e=this.child)===null||e===void 0?void 0:e.getPeer())!==null&&t!==void 0?t:this.channel.getTarget()}start(e,t){this.trace("start called"),this.metadata=e.clone(),this.listener=t,this.getConfig()}sendMessageWithContext(e,t){this.trace("write() called with message of length "+t.length),this.child?this.sendMessageOnChild(e,t):this.pendingMessage={context:e,message:t}}startRead(){this.trace("startRead called"),this.child?this.child.startRead():this.readPending=!0}halfClose(){this.trace("halfClose called"),this.child&&!this.writeFilterPending?this.child.halfClose():this.pendingHalfClose=!0}setCredentials(e){this.credentials=e}addStatusWatcher(e){this.statusWatchers.push(e)}getCallNumber(){return this.callNumber}};Z_.ResolvingCall=wO});var Sj=T(fi=>{"use strict";Object.defineProperty(fi,"__esModule",{value:!0});fi.RetryingCall=fi.MessageBufferTracker=fi.RetryThrottler=void 0;var eE=ue(),Xhe=su(),Whe=ht(),Jhe=Pe(),Qhe="retrying_call",UO=class{constructor(e,t,o){this.maxTokens=e,this.tokenRatio=t,o?this.tokens=o.tokens*(e/o.maxTokens):this.tokens=e}addCallSucceeded(){this.tokens=Math.min(this.tokens+this.tokenRatio,this.maxTokens)}addCallFailed(){this.tokens=Math.max(this.tokens-1,0)}canRetryCall(){return this.tokens>this.maxTokens/2}};fi.RetryThrottler=UO;var kO=class{constructor(e,t){this.totalLimit=e,this.limitPerCall=t,this.totalAllocated=0,this.allocatedPerCall=new Map}allocate(e,t){var o;let s=(o=this.allocatedPerCall.get(t))!==null&&o!==void 0?o:0;return this.limitPerCall-s<e||this.totalLimit-this.totalAllocated<e?!1:(this.allocatedPerCall.set(t,s+e),this.totalAllocated+=e,!0)}free(e,t){var o;if(this.totalAllocated<e)throw new Error(`Invalid buffer allocation state: call ${t} freed ${e} > total allocated ${this.totalAllocated}`);this.totalAllocated-=e;let s=(o=this.allocatedPerCall.get(t))!==null&&o!==void 0?o:0;if(s<e)throw new Error(`Invalid buffer allocation state: call ${t} freed ${e} > allocated for call ${s}`);this.allocatedPerCall.set(t,s-e)}freeAll(e){var t;let o=(t=this.allocatedPerCall.get(e))!==null&&t!==void 0?t:0;if(this.totalAllocated<o)throw new Error(`Invalid buffer allocation state: call ${e} allocated ${o} > total allocated ${this.totalAllocated}`);this.totalAllocated-=o,this.allocatedPerCall.delete(e)}};fi.MessageBufferTracker=kO;var DO="grpc-previous-rpc-attempts",Zhe=5,BO=class{constructor(e,t,o,s,a,i,n,l,c){var u;this.channel=e,this.callConfig=t,this.methodName=o,this.host=s,this.credentials=a,this.deadline=i,this.callNumber=n,this.bufferTracker=l,this.retryThrottler=c,this.listener=null,this.initialMetadata=null,this.underlyingCalls=[],this.writeBuffer=[],this.writeBufferOffset=0,this.readStarted=!1,this.transparentRetryUsed=!1,this.attempts=0,this.hedgingTimer=null,this.committedCallIndex=null,this.initialRetryBackoffSec=0,this.nextRetryBackoffSec=0;let f=(u=e.getOptions()["grpc-node.retry_max_attempts_limit"])!==null&&u!==void 0?u:Zhe;if(e.getOptions()["grpc.enable_retries"]===0)this.state="NO_RETRY",this.maxAttempts=1;else if(t.methodConfig.retryPolicy){this.state="RETRY";let _=t.methodConfig.retryPolicy;this.nextRetryBackoffSec=this.initialRetryBackoffSec=Number(_.initialBackoff.substring(0,_.initialBackoff.length-1)),this.maxAttempts=Math.min(_.maxAttempts,f)}else t.methodConfig.hedgingPolicy?(this.state="HEDGING",this.maxAttempts=Math.min(t.methodConfig.hedgingPolicy.maxAttempts,f)):(this.state="TRANSPARENT_ONLY",this.maxAttempts=1);this.startTime=new Date}getDeadlineInfo(){if(this.underlyingCalls.length===0)return[];let e=[],t=this.underlyingCalls[this.underlyingCalls.length-1];return this.underlyingCalls.length>1&&e.push(`previous attempts: ${this.underlyingCalls.length-1}`),t.startTime>this.startTime&&e.push(`time to current attempt start: ${(0,Xhe.formatDateDifference)(this.startTime,t.startTime)}`),e.push(...t.call.getDeadlineInfo()),e}getCallNumber(){return this.callNumber}trace(e){Jhe.trace(eE.LogVerbosity.DEBUG,Qhe,"["+this.callNumber+"] "+e)}reportStatus(e){this.trace("ended with status: code="+e.code+' details="'+e.details+'" start time='+this.startTime.toISOString()),this.bufferTracker.freeAll(this.callNumber),this.writeBufferOffset=this.writeBufferOffset+this.writeBuffer.length,this.writeBuffer=[],process.nextTick(()=>{var t;(t=this.listener)===null||t===void 0||t.onReceiveStatus({code:e.code,details:e.details,metadata:e.metadata})})}cancelWithStatus(e,t){this.trace("cancelWithStatus code: "+e+' details: "'+t+'"'),this.reportStatus({code:e,details:t,metadata:new Whe.Metadata});for(let{call:o}of this.underlyingCalls)o.cancelWithStatus(e,t)}getPeer(){return this.committedCallIndex!==null?this.underlyingCalls[this.committedCallIndex].call.getPeer():"unknown"}getBufferEntry(e){var t;return(t=this.writeBuffer[e-this.writeBufferOffset])!==null&&t!==void 0?t:{entryType:"FREED",allocated:!1}}getNextBufferIndex(){return this.writeBufferOffset+this.writeBuffer.length}clearSentMessages(){if(this.state!=="COMMITTED")return;let e;this.underlyingCalls[this.committedCallIndex].state==="COMPLETED"?e=this.getNextBufferIndex():e=this.underlyingCalls[this.committedCallIndex].nextMessageToSend;for(let t=this.writeBufferOffset;t<e;t++){let o=this.getBufferEntry(t);o.allocated&&this.bufferTracker.free(o.message.message.length,this.callNumber)}this.writeBuffer=this.writeBuffer.slice(e-this.writeBufferOffset),this.writeBufferOffset=e}commitCall(e){var t,o;if(this.state!=="COMMITTED"){this.trace("Committing call ["+this.underlyingCalls[e].call.getCallNumber()+"] at index "+e),this.state="COMMITTED",(o=(t=this.callConfig).onCommitted)===null||o===void 0||o.call(t),this.committedCallIndex=e;for(let s=0;s<this.underlyingCalls.length;s++)s!==e&&this.underlyingCalls[s].state!=="COMPLETED"&&(this.underlyingCalls[s].state="COMPLETED",this.underlyingCalls[s].call.cancelWithStatus(eE.Status.CANCELLED,"Discarded in favor of other hedged attempt"));this.clearSentMessages()}}commitCallWithMostMessages(){if(this.state==="COMMITTED")return;let e=-1,t=-1;for(let[o,s]of this.underlyingCalls.entries())s.state==="ACTIVE"&&s.nextMessageToSend>e&&(e=s.nextMessageToSend,t=o);t===-1?this.state="TRANSPARENT_ONLY":this.commitCall(t)}isStatusCodeInList(e,t){return e.some(o=>{var s;return o===t||o.toString().toLowerCase()===((s=eE.Status[t])===null||s===void 0?void 0:s.toLowerCase())})}getNextRetryBackoffMs(){var e;let t=(e=this.callConfig)===null||e===void 0?void 0:e.methodConfig.retryPolicy;if(!t)return 0;let o=Math.random()*this.nextRetryBackoffSec*1e3,s=Number(t.maxBackoff.substring(0,t.maxBackoff.length-1));return this.nextRetryBackoffSec=Math.min(this.nextRetryBackoffSec*t.backoffMultiplier,s),o}maybeRetryCall(e,t){if(this.state!=="RETRY"){t(!1);return}if(this.attempts>=this.maxAttempts){t(!1);return}let o;if(e===null)o=this.getNextRetryBackoffMs();else if(e<0){this.state="TRANSPARENT_ONLY",t(!1);return}else o=e,this.nextRetryBackoffSec=this.initialRetryBackoffSec;setTimeout(()=>{var s,a;if(this.state!=="RETRY"){t(!1);return}!((a=(s=this.retryThrottler)===null||s===void 0?void 0:s.canRetryCall())!==null&&a!==void 0)||a?(t(!0),this.attempts+=1,this.startNewAttempt()):(this.trace("Retry attempt denied by throttling policy"),t(!1))},o)}countActiveCalls(){let e=0;for(let t of this.underlyingCalls)(t==null?void 0:t.state)==="ACTIVE"&&(e+=1);return e}handleProcessedStatus(e,t,o){var s,a,i;switch(this.state){case"COMMITTED":case"NO_RETRY":case"TRANSPARENT_ONLY":this.commitCall(t),this.reportStatus(e);break;case"HEDGING":if(this.isStatusCodeInList((s=this.callConfig.methodConfig.hedgingPolicy.nonFatalStatusCodes)!==null&&s!==void 0?s:[],e.code)){(a=this.retryThrottler)===null||a===void 0||a.addCallFailed();let n;if(o===null)n=0;else if(o<0){this.state="TRANSPARENT_ONLY",this.commitCall(t),this.reportStatus(e);return}else n=o;setTimeout(()=>{this.maybeStartHedgingAttempt(),this.countActiveCalls()===0&&(this.commitCall(t),this.reportStatus(e))},n)}else this.commitCall(t),this.reportStatus(e);break;case"RETRY":this.isStatusCodeInList(this.callConfig.methodConfig.retryPolicy.retryableStatusCodes,e.code)?((i=this.retryThrottler)===null||i===void 0||i.addCallFailed(),this.maybeRetryCall(o,n=>{n||(this.commitCall(t),this.reportStatus(e))})):(this.commitCall(t),this.reportStatus(e));break}}getPushback(e){let t=e.get("grpc-retry-pushback-ms");if(t.length===0)return null;try{return parseInt(t[0])}catch{return-1}}handleChildStatus(e,t){var o;if(this.underlyingCalls[t].state==="COMPLETED")return;if(this.trace("state="+this.state+" handling status with progress "+e.progress+" from child ["+this.underlyingCalls[t].call.getCallNumber()+"] in state "+this.underlyingCalls[t].state),this.underlyingCalls[t].state="COMPLETED",e.code===eE.Status.OK){(o=this.retryThrottler)===null||o===void 0||o.addCallSucceeded(),this.commitCall(t),this.reportStatus(e);return}if(this.state==="NO_RETRY"){this.commitCall(t),this.reportStatus(e);return}if(this.state==="COMMITTED"){this.reportStatus(e);return}let s=this.getPushback(e.metadata);switch(e.progress){case"NOT_STARTED":this.startNewAttempt();break;case"REFUSED":this.transparentRetryUsed?this.handleProcessedStatus(e,t,s):(this.transparentRetryUsed=!0,this.startNewAttempt());break;case"DROP":this.commitCall(t),this.reportStatus(e);break;case"PROCESSED":this.handleProcessedStatus(e,t,s);break}}maybeStartHedgingAttempt(){this.state==="HEDGING"&&this.callConfig.methodConfig.hedgingPolicy&&(this.attempts>=this.maxAttempts||(this.attempts+=1,this.startNewAttempt(),this.maybeStartHedgingTimer()))}maybeStartHedgingTimer(){var e,t,o;if(this.hedgingTimer&&clearTimeout(this.hedgingTimer),this.state!=="HEDGING"||!this.callConfig.methodConfig.hedgingPolicy)return;let s=this.callConfig.methodConfig.hedgingPolicy;if(this.attempts>=this.maxAttempts)return;let a=(e=s.hedgingDelay)!==null&&e!==void 0?e:"0s",i=Number(a.substring(0,a.length-1));this.hedgingTimer=setTimeout(()=>{this.maybeStartHedgingAttempt()},i*1e3),(o=(t=this.hedgingTimer).unref)===null||o===void 0||o.call(t)}startNewAttempt(){let e=this.channel.createLoadBalancingCall(this.callConfig,this.methodName,this.host,this.credentials,this.deadline);this.trace("Created child call ["+e.getCallNumber()+"] for attempt "+this.attempts);let t=this.underlyingCalls.length;this.underlyingCalls.push({state:"ACTIVE",call:e,nextMessageToSend:0,startTime:new Date});let o=this.attempts-1,s=this.initialMetadata.clone();o>0&&s.set(DO,`${o}`);let a=!1;e.start(s,{onReceiveMetadata:i=>{this.trace("Received metadata from child ["+e.getCallNumber()+"]"),this.commitCall(t),a=!0,o>0&&i.set(DO,`${o}`),this.underlyingCalls[t].state==="ACTIVE"&&this.listener.onReceiveMetadata(i)},onReceiveMessage:i=>{this.trace("Received message from child ["+e.getCallNumber()+"]"),this.commitCall(t),this.underlyingCalls[t].state==="ACTIVE"&&this.listener.onReceiveMessage(i)},onReceiveStatus:i=>{this.trace("Received status from child ["+e.getCallNumber()+"]"),!a&&o>0&&i.metadata.set(DO,`${o}`),this.handleChildStatus(i,t)}}),this.sendNextChildMessage(t),this.readStarted&&e.startRead()}start(e,t){this.trace("start called"),this.listener=t,this.initialMetadata=e,this.attempts+=1,this.startNewAttempt(),this.maybeStartHedgingTimer()}handleChildWriteCompleted(e){var t,o;let s=this.underlyingCalls[e],a=s.nextMessageToSend;(o=(t=this.getBufferEntry(a)).callback)===null||o===void 0||o.call(t),this.clearSentMessages(),s.nextMessageToSend+=1,this.sendNextChildMessage(e)}sendNextChildMessage(e){let t=this.underlyingCalls[e];if(t.state!=="COMPLETED"&&this.getBufferEntry(t.nextMessageToSend)){let o=this.getBufferEntry(t.nextMessageToSend);switch(o.entryType){case"MESSAGE":t.call.sendMessageWithContext({callback:s=>{this.handleChildWriteCompleted(e)}},o.message.message);break;case"HALF_CLOSE":t.nextMessageToSend+=1,t.call.halfClose();break;case"FREED":break}}}sendMessageWithContext(e,t){var o;this.trace("write() called with message of length "+t.length);let s={message:t,flags:e.flags},a=this.getNextBufferIndex(),i={entryType:"MESSAGE",message:s,allocated:this.bufferTracker.allocate(t.length,this.callNumber)};if(this.writeBuffer.push(i),i.allocated){(o=e.callback)===null||o===void 0||o.call(e);for(let[n,l]of this.underlyingCalls.entries())l.state==="ACTIVE"&&l.nextMessageToSend===a&&l.call.sendMessageWithContext({callback:c=>{this.handleChildWriteCompleted(n)}},t)}else{if(this.commitCallWithMostMessages(),this.committedCallIndex===null)return;let n=this.underlyingCalls[this.committedCallIndex];i.callback=e.callback,n.state==="ACTIVE"&&n.nextMessageToSend===a&&n.call.sendMessageWithContext({callback:l=>{this.handleChildWriteCompleted(this.committedCallIndex)}},t)}}startRead(){this.trace("startRead called"),this.readStarted=!0;for(let e of this.underlyingCalls)(e==null?void 0:e.state)==="ACTIVE"&&e.call.startRead()}halfClose(){this.trace("halfClose called");let e=this.getNextBufferIndex();this.writeBuffer.push({entryType:"HALF_CLOSE",allocated:!1});for(let t of this.underlyingCalls)(t==null?void 0:t.state)==="ACTIVE"&&t.nextMessageToSend===e&&(t.nextMessageToSend+=1,t.call.halfClose())}setCredentials(e){throw new Error("Method not implemented.")}getMethod(){return this.methodName}getHost(){return this.host}};fi.RetryingCall=BO});var rE=T(tE=>{"use strict";Object.defineProperty(tE,"__esModule",{value:!0});tE.BaseSubchannelWrapper=void 0;var VO=class{constructor(e){this.child=e,this.healthy=!0,this.healthListeners=new Set,e.addHealthStateWatcher(t=>{this.healthy&&this.updateHealthListeners()})}updateHealthListeners(){for(let e of this.healthListeners)e(this.isHealthy())}getConnectivityState(){return this.child.getConnectivityState()}addConnectivityStateListener(e){this.child.addConnectivityStateListener(e)}removeConnectivityStateListener(e){this.child.removeConnectivityStateListener(e)}startConnecting(){this.child.startConnecting()}getAddress(){return this.child.getAddress()}throttleKeepalive(e){this.child.throttleKeepalive(e)}ref(){this.child.ref()}unref(){this.child.unref()}getChannelzRef(){return this.child.getChannelzRef()}isHealthy(){return this.healthy&&this.child.isHealthy()}addHealthStateWatcher(e){this.healthListeners.add(e)}removeHealthStateWatcher(e){this.healthListeners.delete(e)}setHealthy(e){e!==this.healthy&&(this.healthy=e,this.child.isHealthy()&&this.updateHealthListeners())}getRealSubchannel(){return this.child.getRealSubchannel()}realSubchannelEquals(e){return this.getRealSubchannel()===e.getRealSubchannel()}getCallCredentials(){return this.child.getCallCredentials()}};tE.BaseSubchannelWrapper=VO});var zO=T(yo=>{"use strict";Object.defineProperty(yo,"__esModule",{value:!0});yo.InternalChannel=yo.SUBCHANNEL_ARGS_EXCLUDE_KEY_PREFIX=void 0;var e_e=Nc(),t_e=M3(),r_e=cj(),HO=ri(),n_e=ht(),pi=ue(),i_e=OO(),o_e=dj(),gj=jr(),nE=Pe(),s_e=uO(),iE=Pt(),or=tr(),lu=Eo(),a_e=Ej(),l_e=su(),c_e=Tj(),FO=EO(),u_e=X_(),GO=Sj(),f_e=rE(),p_e=2147483647,d_e=1e3,h_e=30*60*1e3,oE=new Map,__e=1<<24,E_e=1<<20,qO=class extends f_e.BaseSubchannelWrapper{constructor(e,t){super(e),this.channel=t,this.refCount=0,this.subchannelStateListener=(o,s,a,i)=>{t.throttleKeepalive(i)}}ref(){this.refCount===0&&(this.child.addConnectivityStateListener(this.subchannelStateListener),this.channel.addWrappedSubchannel(this)),this.child.ref(),this.refCount+=1}unref(){this.child.unref(),this.refCount-=1,this.refCount<=0&&(this.child.removeConnectivityStateListener(this.subchannelStateListener),this.channel.removeWrappedSubchannel(this))}},jO=class{pick(e){return{pickResultType:HO.PickResultType.DROP,status:{code:pi.Status.UNAVAILABLE,details:"Channel closed before call started",metadata:new n_e.Metadata},subchannel:null,onCallStarted:null,onCallEnded:null}}};yo.SUBCHANNEL_ARGS_EXCLUDE_KEY_PREFIX="grpc.internal.no_subchannel";var YO=class{constructor(e){this.target=e,this.trace=new lu.ChannelzTrace,this.callTracker=new lu.ChannelzCallTracker,this.childrenTracker=new lu.ChannelzChildrenTracker,this.state=or.ConnectivityState.IDLE}getChannelzInfoCallback(){return()=>({target:this.target,state:this.state,trace:this.trace,callTracker:this.callTracker,children:this.childrenTracker.getChildLists()})}},KO=class{constructor(e,t,o){var s,a,i,n,l,c;if(this.credentials=t,this.options=o,this.connectivityState=or.ConnectivityState.IDLE,this.currentPicker=new HO.UnavailablePicker,this.configSelectionQueue=[],this.pickQueue=[],this.connectivityStateWatchers=[],this.callRefTimer=null,this.configSelector=null,this.currentResolutionError=null,this.wrappedSubchannels=new Set,this.callCount=0,this.idleTimer=null,this.channelzEnabled=!0,this.randomChannelId=Math.floor(Math.random()*Number.MAX_SAFE_INTEGER),typeof e!="string")throw new TypeError("Channel target must be a string");if(!(t instanceof e_e.ChannelCredentials))throw new TypeError("Channel credentials must be a ChannelCredentials object");if(o&&typeof o!="object")throw new TypeError("Channel options must be an object");this.channelzInfoTracker=new YO(e);let u=(0,iE.parseUri)(e);if(u===null)throw new Error(`Could not parse target name "${e}"`);let f=(0,gj.mapUriDefaultScheme)(u);if(f===null)throw new Error(`Could not find a default scheme for target name "${e}"`);this.options["grpc.enable_channelz"]===0&&(this.channelzEnabled=!1),this.channelzRef=(0,lu.registerChannelzChannel)(e,this.channelzInfoTracker.getChannelzInfoCallback(),this.channelzEnabled),this.channelzEnabled&&this.channelzInfoTracker.trace.addTrace("CT_INFO","Channel created"),this.options["grpc.default_authority"]?this.defaultAuthority=this.options["grpc.default_authority"]:this.defaultAuthority=(0,gj.getDefaultAuthority)(f);let _=(0,s_e.mapProxyName)(f,o);this.target=_.target,this.options=Object.assign({},this.options,_.extraOptions),this.subchannelPool=(0,r_e.getSubchannelPool)(((s=this.options["grpc.use_local_subchannel_pool"])!==null&&s!==void 0?s:0)===0),this.retryBufferTracker=new GO.MessageBufferTracker((a=this.options["grpc.retry_buffer_size"])!==null&&a!==void 0?a:__e,(i=this.options["grpc.per_rpc_retry_buffer_size"])!==null&&i!==void 0?i:E_e),this.keepaliveTime=(n=this.options["grpc.keepalive_time_ms"])!==null&&n!==void 0?n:-1,this.idleTimeoutMs=Math.max((l=this.options["grpc.client_idle_timeout_ms"])!==null&&l!==void 0?l:h_e,d_e);let m={createSubchannel:(y,A)=>{let I={};for(let[N,K]of Object.entries(A))N.startsWith(yo.SUBCHANNEL_ARGS_EXCLUDE_KEY_PREFIX)||(I[N]=K);let M=this.subchannelPool.getOrCreateSubchannel(this.target,y,I,this.credentials);return M.throttleKeepalive(this.keepaliveTime),this.channelzEnabled&&this.channelzInfoTracker.trace.addTrace("CT_INFO","Created subchannel or used existing subchannel",M.getChannelzRef()),new qO(M,this)},updateState:(y,A)=>{this.currentPicker=A;let I=this.pickQueue.slice();this.pickQueue=[],I.length>0&&this.callRefTimerUnref();for(let M of I)M.doPick();this.updateState(y)},requestReresolution:()=>{throw new Error("Resolving load balancer should never call requestReresolution")},addChannelzChild:y=>{this.channelzEnabled&&this.channelzInfoTracker.childrenTracker.refChild(y)},removeChannelzChild:y=>{this.channelzEnabled&&this.channelzInfoTracker.childrenTracker.unrefChild(y)}};this.resolvingLoadBalancer=new t_e.ResolvingLoadBalancer(this.target,m,this.options,(y,A)=>{var I;y.retryThrottling?oE.set(this.getTarget(),new GO.RetryThrottler(y.retryThrottling.maxTokens,y.retryThrottling.tokenRatio,oE.get(this.getTarget()))):oE.delete(this.getTarget()),this.channelzEnabled&&this.channelzInfoTracker.trace.addTrace("CT_INFO","Address resolution succeeded"),(I=this.configSelector)===null||I===void 0||I.unref(),this.configSelector=A,this.currentResolutionError=null,process.nextTick(()=>{let M=this.configSelectionQueue;this.configSelectionQueue=[],M.length>0&&this.callRefTimerUnref();for(let F of M)F.getConfig()})},y=>{this.channelzEnabled&&this.channelzInfoTracker.trace.addTrace("CT_WARNING","Address resolution failed with code "+y.code+' and details "'+y.details+'"'),this.configSelectionQueue.length>0&&this.trace("Name resolution failed with calls queued for config selection"),this.configSelector===null&&(this.currentResolutionError=Object.assign(Object.assign({},(0,u_e.restrictControlPlaneStatusCode)(y.code,y.details)),{metadata:y.metadata}));let A=this.configSelectionQueue;this.configSelectionQueue=[],A.length>0&&this.callRefTimerUnref();for(let I of A)I.reportResolverError(y)}),this.filterStackFactory=new i_e.FilterStackFactory([new o_e.CompressionFilterFactory(this,this.options)]),this.trace("Channel constructed with options "+JSON.stringify(o,void 0,2));let O=new Error;(0,nE.isTracerEnabled)("channel_stacktrace")&&(0,nE.trace)(pi.LogVerbosity.DEBUG,"channel_stacktrace","("+this.channelzRef.id+`) Channel constructed 
`+((c=O.stack)===null||c===void 0?void 0:c.substring(O.stack.indexOf(`
`)+1))),this.lastActivityTimestamp=new Date}trace(e,t){(0,nE.trace)(t??pi.LogVerbosity.DEBUG,"channel","("+this.channelzRef.id+") "+(0,iE.uriToString)(this.target)+" "+e)}callRefTimerRef(){var e,t,o,s;this.callRefTimer||(this.callRefTimer=setInterval(()=>{},p_e)),!((t=(e=this.callRefTimer).hasRef)===null||t===void 0)&&t.call(e)||(this.trace("callRefTimer.ref | configSelectionQueue.length="+this.configSelectionQueue.length+" pickQueue.length="+this.pickQueue.length),(s=(o=this.callRefTimer).ref)===null||s===void 0||s.call(o))}callRefTimerUnref(){var e,t,o;(!(!((e=this.callRefTimer)===null||e===void 0)&&e.hasRef)||this.callRefTimer.hasRef())&&(this.trace("callRefTimer.unref | configSelectionQueue.length="+this.configSelectionQueue.length+" pickQueue.length="+this.pickQueue.length),(o=(t=this.callRefTimer)===null||t===void 0?void 0:t.unref)===null||o===void 0||o.call(t))}removeConnectivityStateWatcher(e){let t=this.connectivityStateWatchers.findIndex(o=>o===e);t>=0&&this.connectivityStateWatchers.splice(t,1)}updateState(e){(0,nE.trace)(pi.LogVerbosity.DEBUG,"connectivity_state","("+this.channelzRef.id+") "+(0,iE.uriToString)(this.target)+" "+or.ConnectivityState[this.connectivityState]+" -> "+or.ConnectivityState[e]),this.channelzEnabled&&this.channelzInfoTracker.trace.addTrace("CT_INFO","Connectivity state change to "+or.ConnectivityState[e]),this.connectivityState=e,this.channelzInfoTracker.state=e;let t=this.connectivityStateWatchers.slice();for(let o of t)e!==o.currentState&&(o.timer&&clearTimeout(o.timer),this.removeConnectivityStateWatcher(o),o.callback());e!==or.ConnectivityState.TRANSIENT_FAILURE&&(this.currentResolutionError=null)}throttleKeepalive(e){if(e>this.keepaliveTime){this.keepaliveTime=e;for(let t of this.wrappedSubchannels)t.throttleKeepalive(e)}}addWrappedSubchannel(e){this.wrappedSubchannels.add(e)}removeWrappedSubchannel(e){this.wrappedSubchannels.delete(e)}doPick(e,t){return this.currentPicker.pick({metadata:e,extraPickInfo:t})}queueCallForPick(e){this.pickQueue.push(e),this.callRefTimerRef()}getConfig(e,t){return this.connectivityState!==or.ConnectivityState.SHUTDOWN&&this.resolvingLoadBalancer.exitIdle(),this.configSelector?{type:"SUCCESS",config:this.configSelector.invoke(e,t,this.randomChannelId)}:this.currentResolutionError?{type:"ERROR",error:this.currentResolutionError}:{type:"NONE"}}queueCallForConfig(e){this.configSelectionQueue.push(e),this.callRefTimerRef()}enterIdle(){this.resolvingLoadBalancer.destroy(),this.updateState(or.ConnectivityState.IDLE),this.currentPicker=new HO.QueuePicker(this.resolvingLoadBalancer),this.idleTimer&&(clearTimeout(this.idleTimer),this.idleTimer=null),this.callRefTimer&&(clearInterval(this.callRefTimer),this.callRefTimer=null)}startIdleTimeout(e){var t,o;this.idleTimer=setTimeout(()=>{if(this.callCount>0){this.startIdleTimeout(this.idleTimeoutMs);return}let a=new Date().valueOf()-this.lastActivityTimestamp.valueOf();a>=this.idleTimeoutMs?(this.trace("Idle timer triggered after "+this.idleTimeoutMs+"ms of inactivity"),this.enterIdle()):this.startIdleTimeout(this.idleTimeoutMs-a)},e),(o=(t=this.idleTimer).unref)===null||o===void 0||o.call(t)}maybeStartIdleTimer(){this.connectivityState!==or.ConnectivityState.SHUTDOWN&&!this.idleTimer&&this.startIdleTimeout(this.idleTimeoutMs)}onCallStart(){this.channelzEnabled&&this.channelzInfoTracker.callTracker.addCallStarted(),this.callCount+=1}onCallEnd(e){this.channelzEnabled&&(e.code===pi.Status.OK?this.channelzInfoTracker.callTracker.addCallSucceeded():this.channelzInfoTracker.callTracker.addCallFailed()),this.callCount-=1,this.lastActivityTimestamp=new Date,this.maybeStartIdleTimer()}createLoadBalancingCall(e,t,o,s,a){let i=(0,FO.getNextCallNumber)();return this.trace("createLoadBalancingCall ["+i+'] method="'+t+'"'),new a_e.LoadBalancingCall(this,e,t,o,s,a,i)}createRetryingCall(e,t,o,s,a){let i=(0,FO.getNextCallNumber)();return this.trace("createRetryingCall ["+i+'] method="'+t+'"'),new GO.RetryingCall(this,e,t,o,s,a,i,this.retryBufferTracker,oE.get(this.getTarget()))}createResolvingCall(e,t,o,s,a){let i=(0,FO.getNextCallNumber)();this.trace("createResolvingCall ["+i+'] method="'+e+'", deadline='+(0,l_e.deadlineToString)(t));let n={deadline:t,flags:a??pi.Propagate.DEFAULTS,host:o??this.defaultAuthority,parentCall:s},l=new c_e.ResolvingCall(this,e,n,this.filterStackFactory.clone(),i);return this.onCallStart(),l.addStatusWatcher(c=>{this.onCallEnd(c)}),l}close(){var e;this.resolvingLoadBalancer.destroy(),this.updateState(or.ConnectivityState.SHUTDOWN),this.currentPicker=new jO;for(let t of this.configSelectionQueue)t.cancelWithStatus(pi.Status.UNAVAILABLE,"Channel closed before call started");this.configSelectionQueue=[];for(let t of this.pickQueue)t.cancelWithStatus(pi.Status.UNAVAILABLE,"Channel closed before call started");this.pickQueue=[],this.callRefTimer&&clearInterval(this.callRefTimer),this.idleTimer&&clearTimeout(this.idleTimer),this.channelzEnabled&&(0,lu.unregisterChannelzRef)(this.channelzRef),this.subchannelPool.unrefUnusedSubchannels(),(e=this.configSelector)===null||e===void 0||e.unref(),this.configSelector=null}getTarget(){return(0,iE.uriToString)(this.target)}getConnectivityState(e){let t=this.connectivityState;return e&&(this.resolvingLoadBalancer.exitIdle(),this.lastActivityTimestamp=new Date,this.maybeStartIdleTimer()),t}watchConnectivityState(e,t,o){if(this.connectivityState===or.ConnectivityState.SHUTDOWN)throw new Error("Channel has been shut down");let s=null;if(t!==1/0){let i=t instanceof Date?t:new Date(t),n=new Date;if(t===-1/0||i<=n){process.nextTick(o,new Error("Deadline passed without connectivity state change"));return}s=setTimeout(()=>{this.removeConnectivityStateWatcher(a),o(new Error("Deadline passed without connectivity state change"))},i.getTime()-n.getTime())}let a={currentState:e,callback:o,timer:s};this.connectivityStateWatchers.push(a)}getChannelzRef(){return this.channelzRef}createCall(e,t,o,s,a){if(typeof e!="string")throw new TypeError("Channel#createCall: method must be a string");if(!(typeof t=="number"||t instanceof Date))throw new TypeError("Channel#createCall: deadline must be a number or Date");if(this.connectivityState===or.ConnectivityState.SHUTDOWN)throw new Error("Channel has been shut down");return this.createResolvingCall(e,t,o,s,a)}getOptions(){return this.options}};yo.InternalChannel=KO});var iy=T(sE=>{"use strict";Object.defineProperty(sE,"__esModule",{value:!0});sE.ChannelImplementation=void 0;var m_e=Nc(),T_e=zO(),$O=class{constructor(e,t,o){if(typeof e!="string")throw new TypeError("Channel target must be a string");if(!(t instanceof m_e.ChannelCredentials))throw new TypeError("Channel credentials must be a ChannelCredentials object");if(o&&typeof o!="object")throw new TypeError("Channel options must be an object");this.internalChannel=new T_e.InternalChannel(e,t,o)}close(){this.internalChannel.close()}getTarget(){return this.internalChannel.getTarget()}getConnectivityState(e){return this.internalChannel.getConnectivityState(e)}watchConnectivityState(e,t,o){this.internalChannel.watchConnectivityState(e,t,o)}getChannelzRef(){return this.internalChannel.getChannelzRef()}createCall(e,t,o,s,a){if(typeof e!="string")throw new TypeError("Channel#createCall: method must be a string");if(!(typeof t=="number"||t instanceof Date))throw new TypeError("Channel#createCall: deadline must be a number or Date");return this.internalChannel.createCall(e,t,o,s,a)}};sE.ChannelImplementation=$O});var yj=T(Nr=>{"use strict";Object.defineProperty(Nr,"__esModule",{value:!0});Nr.ServerDuplexStreamImpl=Nr.ServerWritableStreamImpl=Nr.ServerReadableStreamImpl=Nr.ServerUnaryCallImpl=void 0;Nr.serverErrorToStatus=tA;var S_e=V("events"),ZO=V("stream"),eA=ue(),vj=ht();function tA(r,e){var t;let o={code:eA.Status.UNKNOWN,details:"message"in r?r.message:"Unknown Error",metadata:(t=e??r.metadata)!==null&&t!==void 0?t:null};return"code"in r&&typeof r.code=="number"&&Number.isInteger(r.code)&&(o.code=r.code,"details"in r&&typeof r.details=="string"&&(o.details=r.details)),o}var XO=class extends S_e.EventEmitter{constructor(e,t,o,s){super(),this.path=e,this.call=t,this.metadata=o,this.request=s,this.cancelled=!1}getPeer(){return this.call.getPeer()}sendMetadata(e){this.call.sendMetadata(e)}getDeadline(){return this.call.getDeadline()}getPath(){return this.path}getHost(){return this.call.getHost()}};Nr.ServerUnaryCallImpl=XO;var WO=class extends ZO.Readable{constructor(e,t,o){super({objectMode:!0}),this.path=e,this.call=t,this.metadata=o,this.cancelled=!1}_read(e){this.call.startRead()}getPeer(){return this.call.getPeer()}sendMetadata(e){this.call.sendMetadata(e)}getDeadline(){return this.call.getDeadline()}getPath(){return this.path}getHost(){return this.call.getHost()}};Nr.ServerReadableStreamImpl=WO;var JO=class extends ZO.Writable{constructor(e,t,o,s){super({objectMode:!0}),this.path=e,this.call=t,this.metadata=o,this.request=s,this.pendingStatus={code:eA.Status.OK,details:"OK"},this.cancelled=!1,this.trailingMetadata=new vj.Metadata,this.on("error",a=>{this.pendingStatus=tA(a),this.end()})}getPeer(){return this.call.getPeer()}sendMetadata(e){this.call.sendMetadata(e)}getDeadline(){return this.call.getDeadline()}getPath(){return this.path}getHost(){return this.call.getHost()}_write(e,t,o){this.call.sendMessage(e,o)}_final(e){var t;e(null),this.call.sendStatus(Object.assign(Object.assign({},this.pendingStatus),{metadata:(t=this.pendingStatus.metadata)!==null&&t!==void 0?t:this.trailingMetadata}))}end(e){return e&&(this.trailingMetadata=e),super.end()}};Nr.ServerWritableStreamImpl=JO;var QO=class extends ZO.Duplex{constructor(e,t,o){super({objectMode:!0}),this.path=e,this.call=t,this.metadata=o,this.pendingStatus={code:eA.Status.OK,details:"OK"},this.cancelled=!1,this.trailingMetadata=new vj.Metadata,this.on("error",s=>{this.pendingStatus=tA(s),this.end()})}getPeer(){return this.call.getPeer()}sendMetadata(e){this.call.sendMetadata(e)}getDeadline(){return this.call.getDeadline()}getPath(){return this.path}getHost(){return this.call.getHost()}_read(e){this.call.startRead()}_write(e,t,o){this.call.sendMessage(e,o)}_final(e){var t;e(null),this.call.sendStatus(Object.assign(Object.assign({},this.pendingStatus),{metadata:(t=this.pendingStatus.metadata)!==null&&t!==void 0?t:this.trailingMetadata}))}end(e){return e&&(this.trailingMetadata=e),super.end()}};Nr.ServerDuplexStreamImpl=QO});var aE=T(Aa=>{"use strict";Object.defineProperty(Aa,"__esModule",{value:!0});Aa.ServerCredentials=void 0;Aa.createCertificateProviderServerCredentials=g_e;Aa.createServerCredentialsWithInterceptors=v_e;var rA=Nv(),Oo=class{constructor(e,t){this.serverConstructorOptions=e,this.watchers=new Set,this.latestContextOptions=null,this.latestContextOptions=t??null}_addWatcher(e){this.watchers.add(e)}_removeWatcher(e){this.watchers.delete(e)}getWatcherCount(){return this.watchers.size}updateSecureContextOptions(e){this.latestContextOptions=e;for(let t of this.watchers)t(this.latestContextOptions)}_isSecure(){return this.serverConstructorOptions!==null}_getSecureContextOptions(){return this.latestContextOptions}_getConstructorOptions(){return this.serverConstructorOptions}_getInterceptors(){return[]}static createInsecure(){return new nA}static createSsl(e,t,o=!1){var s;if(e!==null&&!Buffer.isBuffer(e))throw new TypeError("rootCerts must be null or a Buffer");if(!Array.isArray(t))throw new TypeError("keyCertPairs must be an array");if(typeof o!="boolean")throw new TypeError("checkClientCertificate must be a boolean");let a=[],i=[];for(let n=0;n<t.length;n++){let l=t[n];if(l===null||typeof l!="object")throw new TypeError(`keyCertPair[${n}] must be an object`);if(!Buffer.isBuffer(l.private_key))throw new TypeError(`keyCertPair[${n}].private_key must be a Buffer`);if(!Buffer.isBuffer(l.cert_chain))throw new TypeError(`keyCertPair[${n}].cert_chain must be a Buffer`);a.push(l.cert_chain),i.push(l.private_key)}return new iA({requestCert:o,ciphers:rA.CIPHER_SUITES},{ca:(s=e??(0,rA.getDefaultRootsData)())!==null&&s!==void 0?s:void 0,cert:a,key:i})}};Aa.ServerCredentials=Oo;var nA=class r extends Oo{constructor(){super(null)}_getSettings(){return null}_equals(e){return e instanceof r}},iA=class r extends Oo{constructor(e,t){super(e,t),this.options=Object.assign(Object.assign({},e),t)}_equals(e){if(this===e)return!0;if(!(e instanceof r))return!1;if(Buffer.isBuffer(this.options.ca)&&Buffer.isBuffer(e.options.ca)){if(!this.options.ca.equals(e.options.ca))return!1}else if(this.options.ca!==e.options.ca)return!1;if(Array.isArray(this.options.cert)&&Array.isArray(e.options.cert)){if(this.options.cert.length!==e.options.cert.length)return!1;for(let t=0;t<this.options.cert.length;t++){let o=this.options.cert[t],s=e.options.cert[t];if(Buffer.isBuffer(o)&&Buffer.isBuffer(s)){if(!o.equals(s))return!1}else if(o!==s)return!1}}else if(this.options.cert!==e.options.cert)return!1;if(Array.isArray(this.options.key)&&Array.isArray(e.options.key)){if(this.options.key.length!==e.options.key.length)return!1;for(let t=0;t<this.options.key.length;t++){let o=this.options.key[t],s=e.options.key[t];if(Buffer.isBuffer(o)&&Buffer.isBuffer(s)){if(!o.equals(s))return!1}else if(o!==s)return!1}}else if(this.options.key!==e.options.key)return!1;return this.options.requestCert===e.options.requestCert}},oA=class r extends Oo{constructor(e,t,o){super({requestCert:t!==null,rejectUnauthorized:o,ciphers:rA.CIPHER_SUITES}),this.identityCertificateProvider=e,this.caCertificateProvider=t,this.requireClientCertificate=o,this.latestCaUpdate=null,this.latestIdentityUpdate=null,this.caCertificateUpdateListener=this.handleCaCertificateUpdate.bind(this),this.identityCertificateUpdateListener=this.handleIdentityCertitificateUpdate.bind(this)}_addWatcher(e){var t;this.getWatcherCount()===0&&((t=this.caCertificateProvider)===null||t===void 0||t.addCaCertificateListener(this.caCertificateUpdateListener),this.identityCertificateProvider.addIdentityCertificateListener(this.identityCertificateUpdateListener)),super._addWatcher(e)}_removeWatcher(e){var t;super._removeWatcher(e),this.getWatcherCount()===0&&((t=this.caCertificateProvider)===null||t===void 0||t.removeCaCertificateListener(this.caCertificateUpdateListener),this.identityCertificateProvider.removeIdentityCertificateListener(this.identityCertificateUpdateListener))}_equals(e){return this===e?!0:e instanceof r?this.caCertificateProvider===e.caCertificateProvider&&this.identityCertificateProvider===e.identityCertificateProvider&&this.requireClientCertificate===e.requireClientCertificate:!1}calculateSecureContextOptions(){var e;return this.latestIdentityUpdate===null||this.caCertificateProvider!==null&&this.latestCaUpdate===null?null:{ca:(e=this.latestCaUpdate)===null||e===void 0?void 0:e.caCertificate,cert:[this.latestIdentityUpdate.certificate],key:[this.latestIdentityUpdate.privateKey]}}finalizeUpdate(){let e=this.calculateSecureContextOptions();this.updateSecureContextOptions(e)}handleCaCertificateUpdate(e){this.latestCaUpdate=e,this.finalizeUpdate()}handleIdentityCertitificateUpdate(e){this.latestIdentityUpdate=e,this.finalizeUpdate()}};function g_e(r,e,t){return new oA(r,e,t)}var sA=class r extends Oo{constructor(e,t){super({}),this.childCredentials=e,this.interceptors=t}_isSecure(){return this.childCredentials._isSecure()}_equals(e){if(!(e instanceof r)||!this.childCredentials._equals(e.childCredentials)||this.interceptors.length!==e.interceptors.length)return!1;for(let t=0;t<this.interceptors.length;t++)if(this.interceptors[t]!==e.interceptors[t])return!1;return!0}_getInterceptors(){return this.interceptors}_addWatcher(e){this.childCredentials._addWatcher(e)}_removeWatcher(e){this.childCredentials._removeWatcher(e)}_getConstructorOptions(){return this.childCredentials._getConstructorOptions()}_getSecureContextOptions(){return this.childCredentials._getSecureContextOptions()}};function v_e(r,e){return new sA(r,e)}});var hA=T(sr=>{"use strict";Object.defineProperty(sr,"__esModule",{value:!0});sr.BaseServerInterceptingCall=sr.ServerInterceptingCall=sr.ResponderBuilder=sr.ServerListenerBuilder=void 0;sr.isInterceptingServerListener=O_e;sr.getServerInterceptingCall=P_e;var lA=ht(),Lt=ue(),Ra=V("http2"),Oj=Uh(),Aj=V("zlib"),y_e=pO(),Pj=Pe(),Ij="server_call";function Ao(r){Pj.trace(Lt.LogVerbosity.DEBUG,Ij,r)}var cA=class{constructor(){this.metadata=void 0,this.message=void 0,this.halfClose=void 0,this.cancel=void 0}withOnReceiveMetadata(e){return this.metadata=e,this}withOnReceiveMessage(e){return this.message=e,this}withOnReceiveHalfClose(e){return this.halfClose=e,this}withOnCancel(e){return this.cancel=e,this}build(){return{onReceiveMetadata:this.metadata,onReceiveMessage:this.message,onReceiveHalfClose:this.halfClose,onCancel:this.cancel}}};sr.ServerListenerBuilder=cA;function O_e(r){return r.onReceiveMetadata!==void 0&&r.onReceiveMetadata.length===1}var uA=class{constructor(e,t){this.listener=e,this.nextListener=t,this.cancelled=!1,this.processingMetadata=!1,this.hasPendingMessage=!1,this.pendingMessage=null,this.processingMessage=!1,this.hasPendingHalfClose=!1}processPendingMessage(){this.hasPendingMessage&&(this.nextListener.onReceiveMessage(this.pendingMessage),this.pendingMessage=null,this.hasPendingMessage=!1)}processPendingHalfClose(){this.hasPendingHalfClose&&(this.nextListener.onReceiveHalfClose(),this.hasPendingHalfClose=!1)}onReceiveMetadata(e){this.cancelled||(this.processingMetadata=!0,this.listener.onReceiveMetadata(e,t=>{this.processingMetadata=!1,!this.cancelled&&(this.nextListener.onReceiveMetadata(t),this.processPendingMessage(),this.processPendingHalfClose())}))}onReceiveMessage(e){this.cancelled||(this.processingMessage=!0,this.listener.onReceiveMessage(e,t=>{this.processingMessage=!1,!this.cancelled&&(this.processingMetadata?(this.pendingMessage=t,this.hasPendingMessage=!0):(this.nextListener.onReceiveMessage(t),this.processPendingHalfClose()))}))}onReceiveHalfClose(){this.cancelled||this.listener.onReceiveHalfClose(()=>{this.cancelled||(this.processingMetadata||this.processingMessage?this.hasPendingHalfClose=!0:this.nextListener.onReceiveHalfClose())})}onCancel(){this.cancelled=!0,this.listener.onCancel(),this.nextListener.onCancel()}},fA=class{constructor(){this.start=void 0,this.metadata=void 0,this.message=void 0,this.status=void 0}withStart(e){return this.start=e,this}withSendMetadata(e){return this.metadata=e,this}withSendMessage(e){return this.message=e,this}withSendStatus(e){return this.status=e,this}build(){return{start:this.start,sendMetadata:this.metadata,sendMessage:this.message,sendStatus:this.status}}};sr.ResponderBuilder=fA;var lE={onReceiveMetadata:(r,e)=>{e(r)},onReceiveMessage:(r,e)=>{e(r)},onReceiveHalfClose:r=>{r()},onCancel:()=>{}},cE={start:r=>{r()},sendMetadata:(r,e)=>{e(r)},sendMessage:(r,e)=>{e(r)},sendStatus:(r,e)=>{e(r)}},pA=class{constructor(e,t){var o,s,a,i;this.nextCall=e,this.processingMetadata=!1,this.sentMetadata=!1,this.processingMessage=!1,this.pendingMessage=null,this.pendingMessageCallback=null,this.pendingStatus=null,this.responder={start:(o=t==null?void 0:t.start)!==null&&o!==void 0?o:cE.start,sendMetadata:(s=t==null?void 0:t.sendMetadata)!==null&&s!==void 0?s:cE.sendMetadata,sendMessage:(a=t==null?void 0:t.sendMessage)!==null&&a!==void 0?a:cE.sendMessage,sendStatus:(i=t==null?void 0:t.sendStatus)!==null&&i!==void 0?i:cE.sendStatus}}processPendingMessage(){this.pendingMessageCallback&&(this.nextCall.sendMessage(this.pendingMessage,this.pendingMessageCallback),this.pendingMessage=null,this.pendingMessageCallback=null)}processPendingStatus(){this.pendingStatus&&(this.nextCall.sendStatus(this.pendingStatus),this.pendingStatus=null)}start(e){this.responder.start(t=>{var o,s,a,i;let n={onReceiveMetadata:(o=t==null?void 0:t.onReceiveMetadata)!==null&&o!==void 0?o:lE.onReceiveMetadata,onReceiveMessage:(s=t==null?void 0:t.onReceiveMessage)!==null&&s!==void 0?s:lE.onReceiveMessage,onReceiveHalfClose:(a=t==null?void 0:t.onReceiveHalfClose)!==null&&a!==void 0?a:lE.onReceiveHalfClose,onCancel:(i=t==null?void 0:t.onCancel)!==null&&i!==void 0?i:lE.onCancel},l=new uA(n,e);this.nextCall.start(l)})}sendMetadata(e){this.processingMetadata=!0,this.sentMetadata=!0,this.responder.sendMetadata(e,t=>{this.processingMetadata=!1,this.nextCall.sendMetadata(t),this.processPendingMessage(),this.processPendingStatus()})}sendMessage(e,t){this.processingMessage=!0,this.sentMetadata||this.sendMetadata(new lA.Metadata),this.responder.sendMessage(e,o=>{this.processingMessage=!1,this.processingMetadata?(this.pendingMessage=o,this.pendingMessageCallback=t):this.nextCall.sendMessage(o,t)})}sendStatus(e){this.responder.sendStatus(e,t=>{this.processingMetadata||this.processingMessage?this.pendingStatus=t:this.nextCall.sendStatus(t)})}startRead(){this.nextCall.startRead()}getPeer(){return this.nextCall.getPeer()}getDeadline(){return this.nextCall.getDeadline()}getHost(){return this.nextCall.getHost()}};sr.ServerInterceptingCall=pA;var Lj="grpc-accept-encoding",dA="grpc-encoding",Rj="grpc-message",Nj="grpc-status",aA="grpc-timeout",A_e=/(\d{1,8})\s*([HMSmun])/,R_e={H:36e5,M:6e4,S:1e3,m:1,u:.001,n:1e-6},N_e={[Lj]:"identity,deflate,gzip",[dA]:"identity"},Cj={[Ra.constants.HTTP2_HEADER_STATUS]:Ra.constants.HTTP_STATUS_OK,[Ra.constants.HTTP2_HEADER_CONTENT_TYPE]:"application/grpc+proto"},C_e={waitForTrailers:!0},uE=class{constructor(e,t,o,s,a){var i;this.stream=e,this.callEventTracker=o,this.handler=s,this.listener=null,this.deadlineTimer=null,this.deadline=1/0,this.maxSendMessageSize=Lt.DEFAULT_MAX_SEND_MESSAGE_LENGTH,this.maxReceiveMessageSize=Lt.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH,this.cancelled=!1,this.metadataSent=!1,this.wantTrailers=!1,this.cancelNotified=!1,this.incomingEncoding="identity",this.readQueue=[],this.isReadPending=!1,this.receivedHalfClose=!1,this.streamEnded=!1,this.stream.once("error",u=>{}),this.stream.once("close",()=>{var u;Ao("Request to method "+((u=this.handler)===null||u===void 0?void 0:u.path)+" stream closed with rstCode "+this.stream.rstCode),this.callEventTracker&&!this.streamEnded&&(this.streamEnded=!0,this.callEventTracker.onStreamEnd(!1),this.callEventTracker.onCallEnd({code:Lt.Status.CANCELLED,details:"Stream closed before sending status",metadata:null})),this.notifyOnCancel()}),this.stream.on("data",u=>{this.handleDataFrame(u)}),this.stream.pause(),this.stream.on("end",()=>{this.handleEndEvent()}),"grpc.max_send_message_length"in a&&(this.maxSendMessageSize=a["grpc.max_send_message_length"]),"grpc.max_receive_message_length"in a&&(this.maxReceiveMessageSize=a["grpc.max_receive_message_length"]),this.host=(i=t[":authority"])!==null&&i!==void 0?i:t.host,this.decoder=new y_e.StreamDecoder(this.maxReceiveMessageSize);let n=lA.Metadata.fromHttp2Headers(t);Pj.isTracerEnabled(Ij)&&Ao("Request to "+this.handler.path+" received headers "+JSON.stringify(n.toJSON()));let l=n.get(aA);l.length>0&&this.handleTimeoutHeader(l[0]);let c=n.get(dA);c.length>0&&(this.incomingEncoding=c[0]),n.remove(aA),n.remove(dA),n.remove(Lj),n.remove(Ra.constants.HTTP2_HEADER_ACCEPT_ENCODING),n.remove(Ra.constants.HTTP2_HEADER_TE),n.remove(Ra.constants.HTTP2_HEADER_CONTENT_TYPE),this.metadata=n}handleTimeoutHeader(e){let t=e.toString().match(A_e);if(t===null){let a={code:Lt.Status.INTERNAL,details:`Invalid ${aA} value "${e}"`,metadata:null};process.nextTick(()=>{this.sendStatus(a)});return}let o=+t[1]*R_e[t[2]]|0,s=new Date;this.deadline=s.setMilliseconds(s.getMilliseconds()+o),this.deadlineTimer=setTimeout(()=>{let a={code:Lt.Status.DEADLINE_EXCEEDED,details:"Deadline exceeded",metadata:null};this.sendStatus(a)},o)}checkCancelled(){return!this.cancelled&&(this.stream.destroyed||this.stream.closed)&&(this.notifyOnCancel(),this.cancelled=!0),this.cancelled}notifyOnCancel(){this.cancelNotified||(this.cancelNotified=!0,this.cancelled=!0,process.nextTick(()=>{var e;(e=this.listener)===null||e===void 0||e.onCancel()}),this.deadlineTimer&&clearTimeout(this.deadlineTimer),this.stream.resume())}maybeSendMetadata(){this.metadataSent||this.sendMetadata(new lA.Metadata)}serializeMessage(e){let t=this.handler.serialize(e),o=t.byteLength,s=Buffer.allocUnsafe(o+5);return s.writeUInt8(0,0),s.writeUInt32BE(o,1),t.copy(s,5),s}decompressMessage(e,t){let o=e.subarray(5);if(t==="identity")return o;if(t==="deflate"||t==="gzip"){let s;return t==="deflate"?s=Aj.createInflate():s=Aj.createGunzip(),new Promise((a,i)=>{let n=0,l=[];s.on("data",c=>{l.push(c),n+=c.byteLength,this.maxReceiveMessageSize!==-1&&n>this.maxReceiveMessageSize&&(s.destroy(),i({code:Lt.Status.RESOURCE_EXHAUSTED,details:`Received message that decompresses to a size larger than ${this.maxReceiveMessageSize}`}))}),s.on("end",()=>{a(Buffer.concat(l))}),s.write(o),s.end()})}else return Promise.reject({code:Lt.Status.UNIMPLEMENTED,details:`Received message compressed with unsupported encoding "${t}"`})}async decompressAndMaybePush(e){if(e.type!=="COMPRESSED")throw new Error(`Invalid queue entry type: ${e.type}`);let o=e.compressedMessage.readUInt8(0)===1?this.incomingEncoding:"identity",s;try{s=await this.decompressMessage(e.compressedMessage,o)}catch(a){this.sendStatus(a);return}try{e.parsedMessage=this.handler.deserialize(s)}catch(a){this.sendStatus({code:Lt.Status.INTERNAL,details:`Error deserializing request: ${a.message}`});return}e.type="READABLE",this.maybePushNextMessage()}maybePushNextMessage(){if(this.listener&&this.isReadPending&&this.readQueue.length>0&&this.readQueue[0].type!=="COMPRESSED"){this.isReadPending=!1;let e=this.readQueue.shift();e.type==="READABLE"?this.listener.onReceiveMessage(e.parsedMessage):this.listener.onReceiveHalfClose()}}handleDataFrame(e){var t;if(this.checkCancelled())return;Ao("Request to "+this.handler.path+" received data frame of size "+e.length);let o;try{o=this.decoder.write(e)}catch(s){this.sendStatus({code:Lt.Status.RESOURCE_EXHAUSTED,details:s.message});return}for(let s of o){this.stream.pause();let a={type:"COMPRESSED",compressedMessage:s,parsedMessage:null};this.readQueue.push(a),this.decompressAndMaybePush(a),(t=this.callEventTracker)===null||t===void 0||t.addMessageReceived()}}handleEndEvent(){this.readQueue.push({type:"HALF_CLOSE",compressedMessage:null,parsedMessage:null}),this.receivedHalfClose=!0,this.maybePushNextMessage()}start(e){Ao("Request to "+this.handler.path+" start called"),!this.checkCancelled()&&(this.listener=e,e.onReceiveMetadata(this.metadata))}sendMetadata(e){if(this.checkCancelled()||this.metadataSent)return;this.metadataSent=!0;let t=e?e.toHttp2Headers():null,o=Object.assign(Object.assign(Object.assign({},Cj),N_e),t);this.stream.respond(o,C_e)}sendMessage(e,t){if(this.checkCancelled())return;let o;try{o=this.serializeMessage(e)}catch(s){this.sendStatus({code:Lt.Status.INTERNAL,details:`Error serializing response: ${(0,Oj.getErrorMessage)(s)}`,metadata:null});return}if(this.maxSendMessageSize!==-1&&o.length-5>this.maxSendMessageSize){this.sendStatus({code:Lt.Status.RESOURCE_EXHAUSTED,details:`Sent message larger than max (${o.length} vs. ${this.maxSendMessageSize})`,metadata:null});return}this.maybeSendMetadata(),Ao("Request to "+this.handler.path+" sent data frame of size "+o.length),this.stream.write(o,s=>{var a;if(s){this.sendStatus({code:Lt.Status.INTERNAL,details:`Error writing message: ${(0,Oj.getErrorMessage)(s)}`,metadata:null});return}(a=this.callEventTracker)===null||a===void 0||a.addMessageSent(),t()})}sendStatus(e){var t,o;if(!this.checkCancelled())if(Ao("Request to method "+((t=this.handler)===null||t===void 0?void 0:t.path)+" ended with status code: "+Lt.Status[e.code]+" details: "+e.details),this.metadataSent)this.wantTrailers?this.notifyOnCancel():(this.wantTrailers=!0,this.stream.once("wantTrailers",()=>{var s;this.callEventTracker&&!this.streamEnded&&(this.streamEnded=!0,this.callEventTracker.onStreamEnd(!0),this.callEventTracker.onCallEnd(e));let a=Object.assign({[Nj]:e.code,[Rj]:encodeURI(e.details)},(s=e.metadata)===null||s===void 0?void 0:s.toHttp2Headers());this.stream.sendTrailers(a),this.notifyOnCancel()}),this.stream.end());else{this.callEventTracker&&!this.streamEnded&&(this.streamEnded=!0,this.callEventTracker.onStreamEnd(!0),this.callEventTracker.onCallEnd(e));let s=Object.assign(Object.assign({[Nj]:e.code,[Rj]:encodeURI(e.details)},Cj),(o=e.metadata)===null||o===void 0?void 0:o.toHttp2Headers());this.stream.respond(s,{endStream:!0}),this.notifyOnCancel()}}startRead(){Ao("Request to "+this.handler.path+" startRead called"),!this.checkCancelled()&&(this.isReadPending=!0,this.readQueue.length===0?this.receivedHalfClose||this.stream.resume():this.maybePushNextMessage())}getPeer(){var e;let t=(e=this.stream.session)===null||e===void 0?void 0:e.socket;return t!=null&&t.remoteAddress?t.remotePort?`${t.remoteAddress}:${t.remotePort}`:t.remoteAddress:"unknown"}getDeadline(){return this.deadline}getHost(){return this.host}};sr.BaseServerInterceptingCall=uE;function P_e(r,e,t,o,s,a){let i={path:s.path,requestStream:s.type==="clientStream"||s.type==="bidi",responseStream:s.type==="serverStream"||s.type==="bidi",requestDeserialize:s.deserialize,responseSerialize:s.serialize},n=new uE(e,t,o,s,a);return r.reduce((l,c)=>c(i,l),n)}});var kj=T(hi=>{"use strict";var I_e=hi&&hi.__runInitializers||function(r,e,t){for(var o=arguments.length>2,s=0;s<e.length;s++)t=o?e[s].call(r,t):e[s].call(r);return o?t:void 0},L_e=hi&&hi.__esDecorate||function(r,e,t,o,s,a){function i(I){if(I!==void 0&&typeof I!="function")throw new TypeError("Function expected");return I}for(var n=o.kind,l=n==="getter"?"get":n==="setter"?"set":"value",c=!e&&r?o.static?r:r.prototype:null,u=e||(c?Object.getOwnPropertyDescriptor(c,o.name):{}),f,_=!1,m=t.length-1;m>=0;m--){var O={};for(var y in o)O[y]=y==="access"?{}:o[y];for(var y in o.access)O.access[y]=o.access[y];O.addInitializer=function(I){if(_)throw new TypeError("Cannot add initializers after decoration has completed");a.push(i(I||null))};var A=(0,t[m])(n==="accessor"?{get:u.get,set:u.set}:u[l],O);if(n==="accessor"){if(A===void 0)continue;if(A===null||typeof A!="object")throw new TypeError("Object expected");(f=i(A.get))&&(u.get=f),(f=i(A.set))&&(u.set=f),(f=i(A.init))&&s.unshift(f)}else(f=i(A))&&(n==="field"?s.unshift(f):u[l]=f)}c&&Object.defineProperty(c,o.name,u),_=!0};Object.defineProperty(hi,"__esModule",{value:!0});hi.Server=void 0;var bt=V("http2"),b_e=V("util"),qe=ue(),Pa=yj(),_A=aE(),bj=jr(),Ca=Pe(),di=rr(),Cr=Pt(),Qe=Eo(),xj=hA(),Na=~(1<<31),EA=~(1<<31),x_e=2e4,Mj=~(1<<31),{HTTP2_HEADER_PATH:wj}=bt.constants,M_e="server",Dj=Buffer.from("max_age");function Uj(r){Ca.trace(qe.LogVerbosity.DEBUG,"server_call",r)}function w_e(){}function D_e(r){return function(e,t){return b_e.deprecate(e,r)}}function mA(r){return{code:qe.Status.UNIMPLEMENTED,details:`The server does not implement the method ${r}`}}function U_e(r,e){let t=mA(e);switch(r){case"unary":return(o,s)=>{s(t,null)};case"clientStream":return(o,s)=>{s(t,null)};case"serverStream":return o=>{o.emit("error",t)};case"bidi":return o=>{o.emit("error",t)};default:throw new Error(`Invalid handlerType ${r}`)}}var k_e=(()=>{var r;let e=[],t;return r=class{constructor(s){var a,i,n,l,c,u;this.boundPorts=(I_e(this,e),new Map),this.http2Servers=new Map,this.sessionIdleTimeouts=new Map,this.handlers=new Map,this.sessions=new Map,this.started=!1,this.shutdown=!1,this.serverAddressString="null",this.channelzEnabled=!0,this.options=s??{},this.options["grpc.enable_channelz"]===0?(this.channelzEnabled=!1,this.channelzTrace=new Qe.ChannelzTraceStub,this.callTracker=new Qe.ChannelzCallTrackerStub,this.listenerChildrenTracker=new Qe.ChannelzChildrenTrackerStub,this.sessionChildrenTracker=new Qe.ChannelzChildrenTrackerStub):(this.channelzTrace=new Qe.ChannelzTrace,this.callTracker=new Qe.ChannelzCallTracker,this.listenerChildrenTracker=new Qe.ChannelzChildrenTracker,this.sessionChildrenTracker=new Qe.ChannelzChildrenTracker),this.channelzRef=(0,Qe.registerChannelzServer)("server",()=>this.getChannelzInfo(),this.channelzEnabled),this.channelzTrace.addTrace("CT_INFO","Server created"),this.maxConnectionAgeMs=(a=this.options["grpc.max_connection_age_ms"])!==null&&a!==void 0?a:Na,this.maxConnectionAgeGraceMs=(i=this.options["grpc.max_connection_age_grace_ms"])!==null&&i!==void 0?i:Na,this.keepaliveTimeMs=(n=this.options["grpc.keepalive_time_ms"])!==null&&n!==void 0?n:EA,this.keepaliveTimeoutMs=(l=this.options["grpc.keepalive_timeout_ms"])!==null&&l!==void 0?l:x_e,this.sessionIdleTimeout=(c=this.options["grpc.max_connection_idle_ms"])!==null&&c!==void 0?c:Mj,this.commonServerOptions={maxSendHeaderBlockLength:Number.MAX_SAFE_INTEGER},"grpc-node.max_session_memory"in this.options?this.commonServerOptions.maxSessionMemory=this.options["grpc-node.max_session_memory"]:this.commonServerOptions.maxSessionMemory=Number.MAX_SAFE_INTEGER,"grpc.max_concurrent_streams"in this.options&&(this.commonServerOptions.settings={maxConcurrentStreams:this.options["grpc.max_concurrent_streams"]}),this.interceptors=(u=this.options.interceptors)!==null&&u!==void 0?u:[],this.trace("Server constructed")}getChannelzInfo(){return{trace:this.channelzTrace,callTracker:this.callTracker,listenerChildren:this.listenerChildrenTracker.getChildLists(),sessionChildren:this.sessionChildrenTracker.getChildLists()}}getChannelzSessionInfo(s){var a,i,n;let l=this.sessions.get(s),c=s.socket,u=c.remoteAddress?(0,di.stringToSubchannelAddress)(c.remoteAddress,c.remotePort):null,f=c.localAddress?(0,di.stringToSubchannelAddress)(c.localAddress,c.localPort):null,_;if(s.encrypted){let O=c,y=O.getCipher(),A=O.getCertificate(),I=O.getPeerCertificate();_={cipherSuiteStandardName:(a=y.standardName)!==null&&a!==void 0?a:null,cipherSuiteOtherName:y.standardName?null:y.name,localCertificate:A&&"raw"in A?A.raw:null,remoteCertificate:I&&"raw"in I?I.raw:null}}else _=null;return{remoteAddress:u,localAddress:f,security:_,remoteName:null,streamsStarted:l.streamTracker.callsStarted,streamsSucceeded:l.streamTracker.callsSucceeded,streamsFailed:l.streamTracker.callsFailed,messagesSent:l.messagesSent,messagesReceived:l.messagesReceived,keepAlivesSent:l.keepAlivesSent,lastLocalStreamCreatedTimestamp:null,lastRemoteStreamCreatedTimestamp:l.streamTracker.lastCallStartedTimestamp,lastMessageSentTimestamp:l.lastMessageSentTimestamp,lastMessageReceivedTimestamp:l.lastMessageReceivedTimestamp,localFlowControlWindow:(i=s.state.localWindowSize)!==null&&i!==void 0?i:null,remoteFlowControlWindow:(n=s.state.remoteWindowSize)!==null&&n!==void 0?n:null}}trace(s){Ca.trace(qe.LogVerbosity.DEBUG,M_e,"("+this.channelzRef.id+") "+s)}keepaliveTrace(s){Ca.trace(qe.LogVerbosity.DEBUG,"keepalive","("+this.channelzRef.id+") "+s)}addProtoService(){throw new Error("Not implemented. Use addService() instead")}addService(s,a){if(s===null||typeof s!="object"||a===null||typeof a!="object")throw new Error("addService() requires two objects as arguments");let i=Object.keys(s);if(i.length===0)throw new Error("Cannot add an empty service to a server");i.forEach(n=>{let l=s[n],c;l.requestStream?l.responseStream?c="bidi":c="clientStream":l.responseStream?c="serverStream":c="unary";let u=a[n],f;if(u===void 0&&typeof l.originalName=="string"&&(u=a[l.originalName]),u!==void 0?f=u.bind(a):f=U_e(c,n),this.register(l.path,f,l.responseSerialize,l.requestDeserialize,c)===!1)throw new Error(`Method handler for ${l.path} already provided.`)})}removeService(s){if(s===null||typeof s!="object")throw new Error("removeService() requires object as argument");Object.keys(s).forEach(i=>{let n=s[i];this.unregister(n.path)})}bind(s,a){throw new Error("Not implemented. Use bindAsync() instead")}experimentalRegisterListenerToChannelz(s){return(0,Qe.registerChannelzSocket)((0,di.subchannelAddressToString)(s),()=>({localAddress:s,remoteAddress:null,security:null,remoteName:null,streamsStarted:0,streamsSucceeded:0,streamsFailed:0,messagesSent:0,messagesReceived:0,keepAlivesSent:0,lastLocalStreamCreatedTimestamp:null,lastRemoteStreamCreatedTimestamp:null,lastMessageSentTimestamp:null,lastMessageReceivedTimestamp:null,localFlowControlWindow:null,remoteFlowControlWindow:null}),this.channelzEnabled)}experimentalUnregisterListenerFromChannelz(s){(0,Qe.unregisterChannelzRef)(s)}createHttp2Server(s){let a;if(s._isSecure()){let i=s._getConstructorOptions(),n=s._getSecureContextOptions(),l=Object.assign(Object.assign(Object.assign(Object.assign({},this.commonServerOptions),i),n),{enableTrace:this.options["grpc-node.tls_enable_trace"]===1}),c=n!==null;this.trace("Initial credentials valid: "+c),a=bt.createSecureServer(l),a.prependListener("connection",f=>{c||(this.trace("Dropped connection from "+JSON.stringify(f.address())+" due to unloaded credentials"),f.destroy())}),a.on("secureConnection",f=>{f.on("error",_=>{this.trace("An incoming TLS connection closed with error: "+_.message)})});let u=f=>{if(f){let _=a;try{_.setSecureContext(f)}catch(m){Ca.log(qe.LogVerbosity.ERROR,"Failed to set secure context with error "+m.message),f=null}}c=f!==null,this.trace("Post-update credentials valid: "+c)};s._addWatcher(u),a.on("close",()=>{s._removeWatcher(u)})}else a=bt.createServer(this.commonServerOptions);return a.setTimeout(0,w_e),this._setupHandlers(a,s._getInterceptors()),a}bindOneAddress(s,a){this.trace("Attempting to bind "+(0,di.subchannelAddressToString)(s));let i=this.createHttp2Server(a.credentials);return new Promise((n,l)=>{let c=u=>{this.trace("Failed to bind "+(0,di.subchannelAddressToString)(s)+" with error "+u.message),n({port:"port"in s?s.port:1,error:u.message})};i.once("error",c),i.listen(s,()=>{let u=i.address(),f;typeof u=="string"?f={path:u}:f={host:u.address,port:u.port};let _=this.experimentalRegisterListenerToChannelz(f);this.listenerChildrenTracker.refChild(_),this.http2Servers.set(i,{channelzRef:_,sessions:new Set,ownsChannelzRef:!0}),a.listeningServers.add(i),this.trace("Successfully bound "+(0,di.subchannelAddressToString)(f)),n({port:"port"in f?f.port:1}),i.removeListener("error",c)})})}async bindManyPorts(s,a){if(s.length===0)return{count:0,port:0,errors:[]};if((0,di.isTcpSubchannelAddress)(s[0])&&s[0].port===0){let i=await this.bindOneAddress(s[0],a);if(i.error){let n=await this.bindManyPorts(s.slice(1),a);return Object.assign(Object.assign({},n),{errors:[i.error,...n.errors]})}else{let n=s.slice(1).map(u=>(0,di.isTcpSubchannelAddress)(u)?{host:u.host,port:i.port}:u),l=await Promise.all(n.map(u=>this.bindOneAddress(u,a))),c=[i,...l];return{count:c.filter(u=>u.error===void 0).length,port:i.port,errors:c.filter(u=>u.error).map(u=>u.error)}}}else{let i=await Promise.all(s.map(n=>this.bindOneAddress(n,a)));return{count:i.filter(n=>n.error===void 0).length,port:i[0].port,errors:i.filter(n=>n.error).map(n=>n.error)}}}async bindAddressList(s,a){let i=await this.bindManyPorts(s,a);if(i.count>0)return i.count<s.length&&Ca.log(qe.LogVerbosity.INFO,`WARNING Only ${i.count} addresses added out of total ${s.length} resolved`),i.port;{let n=`No address added out of total ${s.length} resolved`;throw Ca.log(qe.LogVerbosity.ERROR,n),new Error(`${n} errors: [${i.errors.join(",")}]`)}}resolvePort(s){return new Promise((a,i)=>{let n={onSuccessfulResolution:(c,u,f)=>{n.onSuccessfulResolution=()=>{};let _=[].concat(...c.map(m=>m.addresses));if(_.length===0){i(new Error(`No addresses resolved for port ${s}`));return}a(_)},onError:c=>{i(new Error(c.details))}};(0,bj.createResolver)(s,n,this.options).updateResolution()})}async bindPort(s,a){let i=await this.resolvePort(s);if(a.cancelled)throw this.completeUnbind(a),new Error("bindAsync operation cancelled by unbind call");let n=await this.bindAddressList(i,a);if(a.cancelled)throw this.completeUnbind(a),new Error("bindAsync operation cancelled by unbind call");return n}normalizePort(s){let a=(0,Cr.parseUri)(s);if(a===null)throw new Error(`Could not parse port "${s}"`);let i=(0,bj.mapUriDefaultScheme)(a);if(i===null)throw new Error(`Could not get a default scheme for port "${s}"`);return i}bindAsync(s,a,i){if(this.shutdown)throw new Error("bindAsync called after shutdown");if(typeof s!="string")throw new TypeError("port must be a string");if(a===null||!(a instanceof _A.ServerCredentials))throw new TypeError("creds must be a ServerCredentials object");if(typeof i!="function")throw new TypeError("callback must be a function");this.trace("bindAsync port="+s);let n=this.normalizePort(s),l=(_,m)=>{process.nextTick(()=>i(_,m))},c=this.boundPorts.get((0,Cr.uriToString)(n));if(c){if(!a._equals(c.credentials)){l(new Error(`${s} already bound with incompatible credentials`),0);return}c.cancelled=!1,c.completionPromise?c.completionPromise.then(_=>i(null,_),_=>i(_,0)):l(null,c.portNumber);return}c={mapKey:(0,Cr.uriToString)(n),originalUri:n,completionPromise:null,cancelled:!1,portNumber:0,credentials:a,listeningServers:new Set};let u=(0,Cr.splitHostPort)(n.path),f=this.bindPort(n,c);c.completionPromise=f,(u==null?void 0:u.port)===0?f.then(_=>{let m={scheme:n.scheme,authority:n.authority,path:(0,Cr.combineHostPort)({host:u.host,port:_})};c.mapKey=(0,Cr.uriToString)(m),c.completionPromise=null,c.portNumber=_,this.boundPorts.set(c.mapKey,c),i(null,_)},_=>{i(_,0)}):(this.boundPorts.set(c.mapKey,c),f.then(_=>{c.completionPromise=null,c.portNumber=_,i(null,_)},_=>{i(_,0)}))}registerInjectorToChannelz(){return(0,Qe.registerChannelzSocket)("injector",()=>({localAddress:null,remoteAddress:null,security:null,remoteName:null,streamsStarted:0,streamsSucceeded:0,streamsFailed:0,messagesSent:0,messagesReceived:0,keepAlivesSent:0,lastLocalStreamCreatedTimestamp:null,lastRemoteStreamCreatedTimestamp:null,lastMessageSentTimestamp:null,lastMessageReceivedTimestamp:null,localFlowControlWindow:null,remoteFlowControlWindow:null}),this.channelzEnabled)}experimentalCreateConnectionInjectorWithChannelzRef(s,a,i=!1){if(s===null||!(s instanceof _A.ServerCredentials))throw new TypeError("creds must be a ServerCredentials object");this.channelzEnabled&&this.listenerChildrenTracker.refChild(a);let n=this.createHttp2Server(s),l=new Set;return this.http2Servers.set(n,{channelzRef:a,sessions:l,ownsChannelzRef:i}),{injectConnection:c=>{n.emit("connection",c)},drain:c=>{var u,f;for(let _ of l)this.closeSession(_);(f=(u=setTimeout(()=>{for(let _ of l)_.destroy(bt.constants.NGHTTP2_CANCEL)},c)).unref)===null||f===void 0||f.call(u)},destroy:()=>{this.closeServer(n);for(let c of l)this.closeSession(c)}}}createConnectionInjector(s){if(s===null||!(s instanceof _A.ServerCredentials))throw new TypeError("creds must be a ServerCredentials object");let a=this.registerInjectorToChannelz();return this.experimentalCreateConnectionInjectorWithChannelzRef(s,a,!0)}closeServer(s,a){this.trace("Closing server with address "+JSON.stringify(s.address()));let i=this.http2Servers.get(s);s.close(()=>{i&&i.ownsChannelzRef&&(this.listenerChildrenTracker.unrefChild(i.channelzRef),(0,Qe.unregisterChannelzRef)(i.channelzRef)),this.http2Servers.delete(s),a==null||a()})}closeSession(s,a){var i;this.trace("Closing session initiated by "+((i=s.socket)===null||i===void 0?void 0:i.remoteAddress));let n=this.sessions.get(s),l=()=>{n&&(this.sessionChildrenTracker.unrefChild(n.ref),(0,Qe.unregisterChannelzRef)(n.ref)),a==null||a()};s.closed?queueMicrotask(l):s.close(l)}completeUnbind(s){for(let a of s.listeningServers){let i=this.http2Servers.get(a);if(this.closeServer(a,()=>{s.listeningServers.delete(a)}),i)for(let n of i.sessions)this.closeSession(n)}this.boundPorts.delete(s.mapKey)}unbind(s){this.trace("unbind port="+s);let a=this.normalizePort(s),i=(0,Cr.splitHostPort)(a.path);if((i==null?void 0:i.port)===0)throw new Error("Cannot unbind port 0");let n=this.boundPorts.get((0,Cr.uriToString)(a));n&&(this.trace("unbinding "+n.mapKey+" originally bound as "+(0,Cr.uriToString)(n.originalUri)),n.completionPromise?n.cancelled=!0:this.completeUnbind(n))}drain(s,a){var i,n;this.trace("drain port="+s+" graceTimeMs="+a);let l=this.normalizePort(s),c=(0,Cr.splitHostPort)(l.path);if((c==null?void 0:c.port)===0)throw new Error("Cannot drain port 0");let u=this.boundPorts.get((0,Cr.uriToString)(l));if(!u)return;let f=new Set;for(let _ of u.listeningServers){let m=this.http2Servers.get(_);if(m)for(let O of m.sessions)f.add(O),this.closeSession(O,()=>{f.delete(O)})}(n=(i=setTimeout(()=>{for(let _ of f)_.destroy(bt.constants.NGHTTP2_CANCEL)},a)).unref)===null||n===void 0||n.call(i)}forceShutdown(){for(let s of this.boundPorts.values())s.cancelled=!0;this.boundPorts.clear();for(let s of this.http2Servers.keys())this.closeServer(s);this.sessions.forEach((s,a)=>{this.closeSession(a),a.destroy(bt.constants.NGHTTP2_CANCEL)}),this.sessions.clear(),(0,Qe.unregisterChannelzRef)(this.channelzRef),this.shutdown=!0}register(s,a,i,n,l){return this.handlers.has(s)?!1:(this.handlers.set(s,{func:a,serialize:i,deserialize:n,type:l,path:s}),!0)}unregister(s){return this.handlers.delete(s)}start(){if(this.http2Servers.size===0||[...this.http2Servers.keys()].every(s=>!s.listening))throw new Error("server must be bound in order to start");if(this.started===!0)throw new Error("server is already started");this.started=!0}tryShutdown(s){var a;let i=c=>{(0,Qe.unregisterChannelzRef)(this.channelzRef),s(c)},n=0;function l(){n--,n===0&&i()}this.shutdown=!0;for(let[c,u]of this.http2Servers.entries()){n++;let f=u.channelzRef.name;this.trace("Waiting for server "+f+" to close"),this.closeServer(c,()=>{this.trace("Server "+f+" finished closing"),l()});for(let _ of u.sessions.keys()){n++;let m=(a=_.socket)===null||a===void 0?void 0:a.remoteAddress;this.trace("Waiting for session "+m+" to close"),this.closeSession(_,()=>{this.trace("Session "+m+" finished closing"),l()})}}n===0&&i()}addHttp2Port(){throw new Error("Not yet implemented")}getChannelzRef(){return this.channelzRef}_verifyContentType(s,a){let i=a[bt.constants.HTTP2_HEADER_CONTENT_TYPE];return typeof i!="string"||!i.startsWith("application/grpc")?(s.respond({[bt.constants.HTTP2_HEADER_STATUS]:bt.constants.HTTP_STATUS_UNSUPPORTED_MEDIA_TYPE},{endStream:!0}),!1):!0}_retrieveHandler(s){Uj("Received call to method "+s+" at address "+this.serverAddressString);let a=this.handlers.get(s);return a===void 0?(Uj("No handler registered for method "+s+". Sending UNIMPLEMENTED status."),null):a}_respondWithError(s,a,i=null){var n,l;let c=Object.assign({"grpc-status":(n=s.code)!==null&&n!==void 0?n:qe.Status.INTERNAL,"grpc-message":s.details,[bt.constants.HTTP2_HEADER_STATUS]:bt.constants.HTTP_STATUS_OK,[bt.constants.HTTP2_HEADER_CONTENT_TYPE]:"application/grpc+proto"},(l=s.metadata)===null||l===void 0?void 0:l.toHttp2Headers());a.respond(c,{endStream:!0}),this.callTracker.addCallFailed(),i==null||i.streamTracker.addCallFailed()}_channelzHandler(s,a,i){this.onStreamOpened(a);let n=this.sessions.get(a.session);if(this.callTracker.addCallStarted(),n==null||n.streamTracker.addCallStarted(),!this._verifyContentType(a,i)){this.callTracker.addCallFailed(),n==null||n.streamTracker.addCallFailed();return}let l=i[wj],c=this._retrieveHandler(l);if(!c){this._respondWithError(mA(l),a,n);return}let u={addMessageSent:()=>{n&&(n.messagesSent+=1,n.lastMessageSentTimestamp=new Date)},addMessageReceived:()=>{n&&(n.messagesReceived+=1,n.lastMessageReceivedTimestamp=new Date)},onCallEnd:_=>{_.code===qe.Status.OK?this.callTracker.addCallSucceeded():this.callTracker.addCallFailed()},onStreamEnd:_=>{n&&(_?n.streamTracker.addCallSucceeded():n.streamTracker.addCallFailed())}},f=(0,xj.getServerInterceptingCall)([...s,...this.interceptors],a,i,u,c,this.options);this._runHandlerForCall(f,c)||(this.callTracker.addCallFailed(),n==null||n.streamTracker.addCallFailed(),f.sendStatus({code:qe.Status.INTERNAL,details:`Unknown handler type: ${c.type}`}))}_streamHandler(s,a,i){if(this.onStreamOpened(a),this._verifyContentType(a,i)!==!0)return;let n=i[wj],l=this._retrieveHandler(n);if(!l){this._respondWithError(mA(n),a,null);return}let c=(0,xj.getServerInterceptingCall)([...s,...this.interceptors],a,i,null,l,this.options);this._runHandlerForCall(c,l)||c.sendStatus({code:qe.Status.INTERNAL,details:`Unknown handler type: ${l.type}`})}_runHandlerForCall(s,a){let{type:i}=a;if(i==="unary")B_e(s,a);else if(i==="clientStream")V_e(s,a);else if(i==="serverStream")F_e(s,a);else if(i==="bidi")G_e(s,a);else return!1;return!0}_setupHandlers(s,a){if(s===null)return;let i=s.address(),n="null";i&&(typeof i=="string"?n=i:n=i.address+":"+i.port),this.serverAddressString=n;let l=this.channelzEnabled?this._channelzHandler:this._streamHandler,c=this.channelzEnabled?this._channelzSessionHandler(s):this._sessionHandler(s);s.on("stream",l.bind(this,a)),s.on("session",c)}_sessionHandler(s){return a=>{var i,n;(i=this.http2Servers.get(s))===null||i===void 0||i.sessions.add(a);let l=null,c=null,u=null,f=!1,_=this.enableIdleTimeout(a);if(this.maxConnectionAgeMs!==Na){let I=this.maxConnectionAgeMs/10,M=Math.random()*I*2-I;l=setTimeout(()=>{var F,N;f=!0,this.trace("Connection dropped by max connection age: "+((F=a.socket)===null||F===void 0?void 0:F.remoteAddress));try{a.goaway(bt.constants.NGHTTP2_NO_ERROR,~(1<<31),Dj)}catch{a.destroy();return}a.close(),this.maxConnectionAgeGraceMs!==Na&&(c=setTimeout(()=>{a.destroy()},this.maxConnectionAgeGraceMs),(N=c.unref)===null||N===void 0||N.call(c))},this.maxConnectionAgeMs+M),(n=l.unref)===null||n===void 0||n.call(l)}let m=()=>{u&&(clearTimeout(u),u=null)},O=()=>!a.destroyed&&this.keepaliveTimeMs<EA&&this.keepaliveTimeMs>0,y,A=()=>{var I;O()&&(this.keepaliveTrace("Starting keepalive timer for "+this.keepaliveTimeMs+"ms"),u=setTimeout(()=>{m(),y()},this.keepaliveTimeMs),(I=u.unref)===null||I===void 0||I.call(u))};y=()=>{var I;if(!O())return;this.keepaliveTrace("Sending ping with timeout "+this.keepaliveTimeoutMs+"ms");let M="";try{a.ping((N,K,B)=>{m(),N?(this.keepaliveTrace("Ping failed with error: "+N.message),f=!0,a.close()):(this.keepaliveTrace("Received ping response"),A())})||(M="Ping returned false")}catch(F){M=(F instanceof Error?F.message:"")||"Unknown error"}if(M){this.keepaliveTrace("Ping send failed: "+M),this.trace("Connection dropped due to ping send error: "+M),f=!0,a.close();return}u=setTimeout(()=>{m(),this.keepaliveTrace("Ping timeout passed without response"),this.trace("Connection dropped by keepalive timeout"),f=!0,a.close()},this.keepaliveTimeoutMs),(I=u.unref)===null||I===void 0||I.call(u)},A(),a.on("close",()=>{var I,M;f||this.trace(`Connection dropped by client ${(I=a.socket)===null||I===void 0?void 0:I.remoteAddress}`),l&&clearTimeout(l),c&&clearTimeout(c),m(),_!==null&&(clearTimeout(_.timeout),this.sessionIdleTimeouts.delete(a)),(M=this.http2Servers.get(s))===null||M===void 0||M.sessions.delete(a)})}}_channelzSessionHandler(s){return a=>{var i,n,l,c;let u=(0,Qe.registerChannelzSocket)((n=(i=a.socket)===null||i===void 0?void 0:i.remoteAddress)!==null&&n!==void 0?n:"unknown",this.getChannelzSessionInfo.bind(this,a),this.channelzEnabled),f={ref:u,streamTracker:new Qe.ChannelzCallTracker,messagesSent:0,messagesReceived:0,keepAlivesSent:0,lastMessageSentTimestamp:null,lastMessageReceivedTimestamp:null};(l=this.http2Servers.get(s))===null||l===void 0||l.sessions.add(a),this.sessions.set(a,f);let _=`${a.socket.remoteAddress}:${a.socket.remotePort}`;this.channelzTrace.addTrace("CT_INFO","Connection established by client "+_),this.trace("Connection established by client "+_),this.sessionChildrenTracker.refChild(u);let m=null,O=null,y=null,A=!1,I=this.enableIdleTimeout(a);if(this.maxConnectionAgeMs!==Na){let B=this.maxConnectionAgeMs/10,G=Math.random()*B*2-B;m=setTimeout(()=>{var te;A=!0,this.channelzTrace.addTrace("CT_INFO","Connection dropped by max connection age from "+_);try{a.goaway(bt.constants.NGHTTP2_NO_ERROR,~(1<<31),Dj)}catch{a.destroy();return}a.close(),this.maxConnectionAgeGraceMs!==Na&&(O=setTimeout(()=>{a.destroy()},this.maxConnectionAgeGraceMs),(te=O.unref)===null||te===void 0||te.call(O))},this.maxConnectionAgeMs+G),(c=m.unref)===null||c===void 0||c.call(m)}let M=()=>{y&&(clearTimeout(y),y=null)},F=()=>!a.destroyed&&this.keepaliveTimeMs<EA&&this.keepaliveTimeMs>0,N,K=()=>{var B;F()&&(this.keepaliveTrace("Starting keepalive timer for "+this.keepaliveTimeMs+"ms"),y=setTimeout(()=>{M(),N()},this.keepaliveTimeMs),(B=y.unref)===null||B===void 0||B.call(y))};N=()=>{var B;if(!F())return;this.keepaliveTrace("Sending ping with timeout "+this.keepaliveTimeoutMs+"ms");let G="";try{a.ping(($,le,v)=>{M(),$?(this.keepaliveTrace("Ping failed with error: "+$.message),this.channelzTrace.addTrace("CT_INFO","Connection dropped due to error of a ping frame "+$.message+" return in "+le),A=!0,a.close()):(this.keepaliveTrace("Received ping response"),K())})||(G="Ping returned false")}catch(te){G=(te instanceof Error?te.message:"")||"Unknown error"}if(G){this.keepaliveTrace("Ping send failed: "+G),this.channelzTrace.addTrace("CT_INFO","Connection dropped due to ping send error: "+G),A=!0,a.close();return}f.keepAlivesSent+=1,y=setTimeout(()=>{M(),this.keepaliveTrace("Ping timeout passed without response"),this.channelzTrace.addTrace("CT_INFO","Connection dropped by keepalive timeout from "+_),A=!0,a.close()},this.keepaliveTimeoutMs),(B=y.unref)===null||B===void 0||B.call(y)},K(),a.on("close",()=>{var B;A||this.channelzTrace.addTrace("CT_INFO","Connection dropped by client "+_),this.sessionChildrenTracker.unrefChild(u),(0,Qe.unregisterChannelzRef)(u),m&&clearTimeout(m),O&&clearTimeout(O),M(),I!==null&&(clearTimeout(I.timeout),this.sessionIdleTimeouts.delete(a)),(B=this.http2Servers.get(s))===null||B===void 0||B.sessions.delete(a),this.sessions.delete(a)})}}enableIdleTimeout(s){var a,i;if(this.sessionIdleTimeout>=Mj)return null;let n={activeStreams:0,lastIdle:Date.now(),onClose:this.onStreamClose.bind(this,s),timeout:setTimeout(this.onIdleTimeout,this.sessionIdleTimeout,this,s)};(i=(a=n.timeout).unref)===null||i===void 0||i.call(a),this.sessionIdleTimeouts.set(s,n);let{socket:l}=s;return this.trace("Enable idle timeout for "+l.remoteAddress+":"+l.remotePort),n}onIdleTimeout(s,a){let{socket:i}=a,n=s.sessionIdleTimeouts.get(a);n!==void 0&&n.activeStreams===0&&(Date.now()-n.lastIdle>=s.sessionIdleTimeout?(s.trace("Session idle timeout triggered for "+(i==null?void 0:i.remoteAddress)+":"+(i==null?void 0:i.remotePort)+" last idle at "+n.lastIdle),s.closeSession(a)):n.timeout.refresh())}onStreamOpened(s){let a=s.session,i=this.sessionIdleTimeouts.get(a);i&&(i.activeStreams+=1,s.once("close",i.onClose))}onStreamClose(s){var a,i;let n=this.sessionIdleTimeouts.get(s);n&&(n.activeStreams-=1,n.activeStreams===0&&(n.lastIdle=Date.now(),n.timeout.refresh(),this.trace("Session onStreamClose"+((a=s.socket)===null||a===void 0?void 0:a.remoteAddress)+":"+((i=s.socket)===null||i===void 0?void 0:i.remotePort)+" at "+n.lastIdle)))}},(()=>{let o=typeof Symbol=="function"&&Symbol.metadata?Object.create(null):void 0;t=[D_e("Calling start() is no longer necessary. It can be safely omitted.")],L_e(r,null,t,{kind:"method",name:"start",static:!1,private:!1,access:{has:s=>"start"in s,get:s=>s.start},metadata:o},null,e),o&&Object.defineProperty(r,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o})})(),r})();hi.Server=k_e;async function B_e(r,e){let t;function o(i,n,l,c){if(i){r.sendStatus((0,Pa.serverErrorToStatus)(i,l));return}r.sendMessage(n,()=>{r.sendStatus({code:qe.Status.OK,details:"OK",metadata:l??null})})}let s,a=null;r.start({onReceiveMetadata(i){s=i,r.startRead()},onReceiveMessage(i){if(a){r.sendStatus({code:qe.Status.UNIMPLEMENTED,details:`Received a second request message for server streaming method ${e.path}`,metadata:null});return}a=i,r.startRead()},onReceiveHalfClose(){if(!a){r.sendStatus({code:qe.Status.UNIMPLEMENTED,details:`Received no request message for server streaming method ${e.path}`,metadata:null});return}t=new Pa.ServerWritableStreamImpl(e.path,r,s,a);try{e.func(t,o)}catch(i){r.sendStatus({code:qe.Status.UNKNOWN,details:`Server method handler threw error ${i.message}`,metadata:null})}},onCancel(){t&&(t.cancelled=!0,t.emit("cancelled","cancelled"))}})}function V_e(r,e){let t;function o(s,a,i,n){if(s){r.sendStatus((0,Pa.serverErrorToStatus)(s,i));return}r.sendMessage(a,()=>{r.sendStatus({code:qe.Status.OK,details:"OK",metadata:i??null})})}r.start({onReceiveMetadata(s){t=new Pa.ServerDuplexStreamImpl(e.path,r,s);try{e.func(t,o)}catch(a){r.sendStatus({code:qe.Status.UNKNOWN,details:`Server method handler threw error ${a.message}`,metadata:null})}},onReceiveMessage(s){t.push(s)},onReceiveHalfClose(){t.push(null)},onCancel(){t&&(t.cancelled=!0,t.emit("cancelled","cancelled"),t.destroy())}})}function F_e(r,e){let t,o,s=null;r.start({onReceiveMetadata(a){o=a,r.startRead()},onReceiveMessage(a){if(s){r.sendStatus({code:qe.Status.UNIMPLEMENTED,details:`Received a second request message for server streaming method ${e.path}`,metadata:null});return}s=a,r.startRead()},onReceiveHalfClose(){if(!s){r.sendStatus({code:qe.Status.UNIMPLEMENTED,details:`Received no request message for server streaming method ${e.path}`,metadata:null});return}t=new Pa.ServerWritableStreamImpl(e.path,r,o,s);try{e.func(t)}catch(a){r.sendStatus({code:qe.Status.UNKNOWN,details:`Server method handler threw error ${a.message}`,metadata:null})}},onCancel(){t&&(t.cancelled=!0,t.emit("cancelled","cancelled"),t.destroy())}})}function G_e(r,e){let t;r.start({onReceiveMetadata(o){t=new Pa.ServerDuplexStreamImpl(e.path,r,o);try{e.func(t)}catch(s){r.sendStatus({code:qe.Status.UNKNOWN,details:`Server method handler threw error ${s.message}`,metadata:null})}},onReceiveMessage(o){t.push(o)},onReceiveHalfClose(){t.push(null)},onCancel(){t&&(t.cancelled=!0,t.emit("cancelled","cancelled"),t.destroy())}})}});var Bj=T(fE=>{"use strict";Object.defineProperty(fE,"__esModule",{value:!0});fE.StatusBuilder=void 0;var TA=class{constructor(){this.code=null,this.details=null,this.metadata=null}withCode(e){return this.code=e,this}withDetails(e){return this.details=e,this}withMetadata(e){return this.metadata=e,this}build(){let e={};return this.code!==null&&(e.code=this.code),this.details!==null&&(e.details=this.details),this.metadata!==null&&(e.metadata=this.metadata),e}};fE.StatusBuilder=TA});var SA=T(Ia=>{"use strict";Object.defineProperty(Ia,"__esModule",{value:!0});Ia.msToDuration=H_e;Ia.durationToMs=q_e;Ia.isDuration=j_e;Ia.parseDuration=K_e;function H_e(r){return{seconds:r/1e3|0,nanos:r%1e3*1e6|0}}function q_e(r){return r.seconds*1e3+r.nanos/1e6|0}function j_e(r){return typeof r.seconds=="number"&&typeof r.nanos=="number"}var Y_e=/^(\d+)(?:\.(\d+))?s$/;function K_e(r){let e=r.match(Y_e);return e?{seconds:Number.parseInt(e[1],10),nanos:e[2]?Number.parseInt(e[2].padEnd(9,"0"),10):0}:null}});var pE=T(on=>{"use strict";Object.defineProperty(on,"__esModule",{value:!0});on.LeafLoadBalancer=on.PickFirstLoadBalancer=on.PickFirstLoadBalancingConfig=void 0;on.shuffled=Hj;on.setup=Z_e;var gA=ao(),$e=tr(),Ro=ri(),Vj=rr(),z_e=Pe(),$_e=ue(),Fj=rr(),Gj=V("net"),X_e="pick_first";function cu(r){z_e.trace($_e.LogVerbosity.DEBUG,X_e,r)}var uu="pick_first",W_e=250,La=class r{constructor(e){this.shuffleAddressList=e}getLoadBalancerName(){return uu}toJsonObject(){return{[uu]:{shuffleAddressList:this.shuffleAddressList}}}getShuffleAddressList(){return this.shuffleAddressList}static createFromJson(e){if("shuffleAddressList"in e&&typeof e.shuffleAddressList!="boolean")throw new Error("pick_first config field shuffleAddressList must be a boolean if provided");return new r(e.shuffleAddressList===!0)}};on.PickFirstLoadBalancingConfig=La;var vA=class{constructor(e){this.subchannel=e}pick(e){return{pickResultType:Ro.PickResultType.COMPLETE,subchannel:this.subchannel,status:null,onCallStarted:null,onCallEnded:null}}};function Hj(r){let e=r.slice();for(let t=e.length-1;t>1;t--){let o=Math.floor(Math.random()*(t+1)),s=e[t];e[t]=e[o],e[o]=s}return e}function J_e(r){if(r.length===0)return[];let e=[],t=[],o=[],s=(0,Fj.isTcpSubchannelAddress)(r[0])&&(0,Gj.isIPv6)(r[0].host);for(let n of r)(0,Fj.isTcpSubchannelAddress)(n)&&(0,Gj.isIPv6)(n.host)?t.push(n):o.push(n);let a=s?t:o,i=s?o:t;for(let n=0;n<Math.max(a.length,i.length);n++)n<a.length&&e.push(a[n]),n<i.length&&e.push(i[n]);return e}var qj="grpc-node.internal.pick-first.report_health_status",fu=class{constructor(e){this.channelControlHelper=e,this.children=[],this.currentState=$e.ConnectivityState.IDLE,this.currentSubchannelIndex=0,this.currentPick=null,this.subchannelStateListener=(t,o,s,a,i)=>{this.onSubchannelStateUpdate(t,o,s,i)},this.pickedSubchannelHealthListener=()=>this.calculateAndReportNewState(),this.stickyTransientFailureMode=!1,this.reportHealthStatus=!1,this.lastError=null,this.latestAddressList=null,this.latestOptions={},this.connectionDelayTimeout=setTimeout(()=>{},0),clearTimeout(this.connectionDelayTimeout)}allChildrenHaveReportedTF(){return this.children.every(e=>e.hasReportedTransientFailure)}resetChildrenReportedTF(){this.children.every(e=>e.hasReportedTransientFailure=!1)}calculateAndReportNewState(){var e;if(this.currentPick)if(this.reportHealthStatus&&!this.currentPick.isHealthy()){let t=`Picked subchannel ${this.currentPick.getAddress()} is unhealthy`;this.updateState($e.ConnectivityState.TRANSIENT_FAILURE,new Ro.UnavailablePicker({details:t}),t)}else this.updateState($e.ConnectivityState.READY,new vA(this.currentPick),null);else if(((e=this.latestAddressList)===null||e===void 0?void 0:e.length)===0){let t=`No connection established. Last error: ${this.lastError}`;this.updateState($e.ConnectivityState.TRANSIENT_FAILURE,new Ro.UnavailablePicker({details:t}),t)}else if(this.children.length===0)this.updateState($e.ConnectivityState.IDLE,new Ro.QueuePicker(this),null);else if(this.stickyTransientFailureMode){let t=`No connection established. Last error: ${this.lastError}`;this.updateState($e.ConnectivityState.TRANSIENT_FAILURE,new Ro.UnavailablePicker({details:t}),t)}else this.updateState($e.ConnectivityState.CONNECTING,new Ro.QueuePicker(this),null)}requestReresolution(){this.channelControlHelper.requestReresolution()}maybeEnterStickyTransientFailureMode(){if(this.allChildrenHaveReportedTF()){if(this.requestReresolution(),this.resetChildrenReportedTF(),this.stickyTransientFailureMode){this.calculateAndReportNewState();return}this.stickyTransientFailureMode=!0;for(let{subchannel:e}of this.children)e.startConnecting();this.calculateAndReportNewState()}}removeCurrentPick(){this.currentPick!==null&&(this.currentPick.removeConnectivityStateListener(this.subchannelStateListener),this.channelControlHelper.removeChannelzChild(this.currentPick.getChannelzRef()),this.currentPick.removeHealthStateWatcher(this.pickedSubchannelHealthListener),this.currentPick.unref(),this.currentPick=null)}onSubchannelStateUpdate(e,t,o,s){var a;if(!((a=this.currentPick)===null||a===void 0)&&a.realSubchannelEquals(e)){o!==$e.ConnectivityState.READY&&(this.removeCurrentPick(),this.calculateAndReportNewState());return}for(let[i,n]of this.children.entries())if(e.realSubchannelEquals(n.subchannel)){o===$e.ConnectivityState.READY&&this.pickSubchannel(n.subchannel),o===$e.ConnectivityState.TRANSIENT_FAILURE&&(n.hasReportedTransientFailure=!0,s&&(this.lastError=s),this.maybeEnterStickyTransientFailureMode(),i===this.currentSubchannelIndex&&this.startNextSubchannelConnecting(i+1)),n.subchannel.startConnecting();return}}startNextSubchannelConnecting(e){clearTimeout(this.connectionDelayTimeout);for(let[t,o]of this.children.entries())if(t>=e){let s=o.subchannel.getConnectivityState();if(s===$e.ConnectivityState.IDLE||s===$e.ConnectivityState.CONNECTING){this.startConnecting(t);return}}this.maybeEnterStickyTransientFailureMode()}startConnecting(e){var t,o;clearTimeout(this.connectionDelayTimeout),this.currentSubchannelIndex=e,this.children[e].subchannel.getConnectivityState()===$e.ConnectivityState.IDLE&&(cu("Start connecting to subchannel with address "+this.children[e].subchannel.getAddress()),process.nextTick(()=>{var s;(s=this.children[e])===null||s===void 0||s.subchannel.startConnecting()})),this.connectionDelayTimeout=setTimeout(()=>{this.startNextSubchannelConnecting(e+1)},W_e),(o=(t=this.connectionDelayTimeout).unref)===null||o===void 0||o.call(t)}pickSubchannel(e){cu("Pick subchannel with address "+e.getAddress()),this.stickyTransientFailureMode=!1,e.ref(),this.channelControlHelper.addChannelzChild(e.getChannelzRef()),this.removeCurrentPick(),this.resetSubchannelList(),e.addConnectivityStateListener(this.subchannelStateListener),e.addHealthStateWatcher(this.pickedSubchannelHealthListener),this.currentPick=e,clearTimeout(this.connectionDelayTimeout),this.calculateAndReportNewState()}updateState(e,t,o){cu($e.ConnectivityState[this.currentState]+" -> "+$e.ConnectivityState[e]),this.currentState=e,this.channelControlHelper.updateState(e,t,o)}resetSubchannelList(){for(let e of this.children)e.subchannel.removeConnectivityStateListener(this.subchannelStateListener),e.subchannel.unref(),this.channelControlHelper.removeChannelzChild(e.subchannel.getChannelzRef());this.currentSubchannelIndex=0,this.children=[]}connectToAddressList(e,t){cu("connectToAddressList(["+e.map(s=>(0,Vj.subchannelAddressToString)(s))+"])");let o=e.map(s=>({subchannel:this.channelControlHelper.createSubchannel(s,t),hasReportedTransientFailure:!1}));for(let{subchannel:s}of o)if(s.getConnectivityState()===$e.ConnectivityState.READY){this.pickSubchannel(s);return}for(let{subchannel:s}of o)s.ref(),this.channelControlHelper.addChannelzChild(s.getChannelzRef());this.resetSubchannelList(),this.children=o;for(let{subchannel:s}of this.children)s.addConnectivityStateListener(this.subchannelStateListener);for(let s of this.children)s.subchannel.getConnectivityState()===$e.ConnectivityState.TRANSIENT_FAILURE&&(s.hasReportedTransientFailure=!0);this.startNextSubchannelConnecting(0),this.calculateAndReportNewState()}updateAddressList(e,t,o){if(!(t instanceof La))return;this.reportHealthStatus=o[qj],t.getShuffleAddressList()&&(e=Hj(e));let s=[].concat(...e.map(i=>i.addresses));cu("updateAddressList(["+s.map(i=>(0,Vj.subchannelAddressToString)(i))+"])"),s.length===0&&(this.lastError="No addresses resolved");let a=J_e(s);this.latestAddressList=a,this.latestOptions=o,this.connectToAddressList(a,o)}exitIdle(){this.currentState===$e.ConnectivityState.IDLE&&this.latestAddressList&&this.connectToAddressList(this.latestAddressList,this.latestOptions)}resetBackoff(){}destroy(){this.resetSubchannelList(),this.removeCurrentPick()}getTypeName(){return uu}};on.PickFirstLoadBalancer=fu;var Q_e=new La(!1),yA=class{constructor(e,t,o){this.endpoint=e,this.options=o,this.latestState=$e.ConnectivityState.IDLE;let s=(0,gA.createChildChannelControlHelper)(t,{updateState:(a,i,n)=>{this.latestState=a,this.latestPicker=i,t.updateState(a,i,n)}});this.pickFirstBalancer=new fu(s),this.latestPicker=new Ro.QueuePicker(this.pickFirstBalancer)}startConnecting(){this.pickFirstBalancer.updateAddressList([this.endpoint],Q_e,Object.assign(Object.assign({},this.options),{[qj]:!0}))}updateEndpoint(e,t){this.options=t,this.endpoint=e,this.latestState!==$e.ConnectivityState.IDLE&&this.startConnecting()}getConnectivityState(){return this.latestState}getPicker(){return this.latestPicker}getEndpoint(){return this.endpoint}exitIdle(){this.pickFirstBalancer.exitIdle()}destroy(){this.pickFirstBalancer.destroy()}};on.LeafLoadBalancer=yA;function Z_e(){(0,gA.registerLoadBalancerType)(uu,fu,La),(0,gA.registerDefaultLoadBalancerType)(uu)}});var jj=T(hE=>{"use strict";Object.defineProperty(hE,"__esModule",{value:!0});hE.FileWatcherCertificateProvider=void 0;var eEe=V("fs"),tEe=Pe(),rEe=ue(),nEe=V("util"),iEe="certificate_provider";function dE(r){tEe.trace(rEe.LogVerbosity.DEBUG,iEe,r)}var OA=(0,nEe.promisify)(eEe.readFile),AA=class{constructor(e){if(this.config=e,this.refreshTimer=null,this.fileResultPromise=null,this.latestCaUpdate=void 0,this.caListeners=new Set,this.latestIdentityUpdate=void 0,this.identityListeners=new Set,this.lastUpdateTime=null,e.certificateFile===void 0!=(e.privateKeyFile===void 0))throw new Error("certificateFile and privateKeyFile must be set or unset together");if(e.certificateFile===void 0&&e.caCertificateFile===void 0)throw new Error("At least one of certificateFile and caCertificateFile must be set");dE("File watcher constructed with config "+JSON.stringify(e))}updateCertificates(){this.fileResultPromise||(this.fileResultPromise=Promise.allSettled([this.config.certificateFile?OA(this.config.certificateFile):Promise.reject(),this.config.privateKeyFile?OA(this.config.privateKeyFile):Promise.reject(),this.config.caCertificateFile?OA(this.config.caCertificateFile):Promise.reject()]),this.fileResultPromise.then(([e,t,o])=>{if(this.refreshTimer){dE("File watcher read certificates certificate "+e.status+", privateKey "+t.status+", CA certificate "+o.status),this.lastUpdateTime=new Date,this.fileResultPromise=null,e.status==="fulfilled"&&t.status==="fulfilled"?this.latestIdentityUpdate={certificate:e.value,privateKey:t.value}:this.latestIdentityUpdate=null,o.status==="fulfilled"?this.latestCaUpdate={caCertificate:o.value}:this.latestCaUpdate=null;for(let s of this.identityListeners)s(this.latestIdentityUpdate);for(let s of this.caListeners)s(this.latestCaUpdate)}}),dE("File watcher initiated certificate update"))}maybeStartWatchingFiles(){if(!this.refreshTimer){let e=this.lastUpdateTime?new Date().getTime()-this.lastUpdateTime.getTime():1/0;e>this.config.refreshIntervalMs&&this.updateCertificates(),e>this.config.refreshIntervalMs*2&&(this.latestCaUpdate=void 0,this.latestIdentityUpdate=void 0),this.refreshTimer=setInterval(()=>this.updateCertificates(),this.config.refreshIntervalMs),dE("File watcher started watching")}}maybeStopWatchingFiles(){this.caListeners.size===0&&this.identityListeners.size===0&&(this.fileResultPromise=null,this.refreshTimer&&(clearInterval(this.refreshTimer),this.refreshTimer=null))}addCaCertificateListener(e){this.caListeners.add(e),this.maybeStartWatchingFiles(),this.latestCaUpdate!==void 0&&process.nextTick(e,this.latestCaUpdate)}removeCaCertificateListener(e){this.caListeners.delete(e),this.maybeStopWatchingFiles()}addIdentityCertificateListener(e){this.identityListeners.add(e),this.maybeStartWatchingFiles(),this.latestIdentityUpdate!==void 0&&process.nextTick(e,this.latestIdentityUpdate)}removeIdentityCertificateListener(e){this.identityListeners.delete(e),this.maybeStopWatchingFiles()}};hE.FileWatcherCertificateProvider=AA});var NA=T(k=>{"use strict";Object.defineProperty(k,"__esModule",{value:!0});k.SUBCHANNEL_ARGS_EXCLUDE_KEY_PREFIX=k.createCertificateProviderChannelCredentials=k.FileWatcherCertificateProvider=k.createCertificateProviderServerCredentials=k.createServerCredentialsWithInterceptors=k.BaseSubchannelWrapper=k.registerAdminService=k.FilterStackFactory=k.BaseFilter=k.PickResultType=k.QueuePicker=k.UnavailablePicker=k.ChildLoadBalancerHandler=k.EndpointMap=k.endpointHasAddress=k.endpointToString=k.subchannelAddressToString=k.LeafLoadBalancer=k.isLoadBalancerNameRegistered=k.parseLoadBalancingConfig=k.selectLbConfigFromList=k.registerLoadBalancerType=k.createChildChannelControlHelper=k.BackoffTimeout=k.parseDuration=k.durationToMs=k.splitHostPort=k.uriToString=k.createResolver=k.registerResolver=k.log=k.trace=void 0;var Yj=Pe();Object.defineProperty(k,"trace",{enumerable:!0,get:function(){return Yj.trace}});Object.defineProperty(k,"log",{enumerable:!0,get:function(){return Yj.log}});var Kj=jr();Object.defineProperty(k,"registerResolver",{enumerable:!0,get:function(){return Kj.registerResolver}});Object.defineProperty(k,"createResolver",{enumerable:!0,get:function(){return Kj.createResolver}});var zj=Pt();Object.defineProperty(k,"uriToString",{enumerable:!0,get:function(){return zj.uriToString}});Object.defineProperty(k,"splitHostPort",{enumerable:!0,get:function(){return zj.splitHostPort}});var $j=SA();Object.defineProperty(k,"durationToMs",{enumerable:!0,get:function(){return $j.durationToMs}});Object.defineProperty(k,"parseDuration",{enumerable:!0,get:function(){return $j.parseDuration}});var oEe=Ic();Object.defineProperty(k,"BackoffTimeout",{enumerable:!0,get:function(){return oEe.BackoffTimeout}});var pu=ao();Object.defineProperty(k,"createChildChannelControlHelper",{enumerable:!0,get:function(){return pu.createChildChannelControlHelper}});Object.defineProperty(k,"registerLoadBalancerType",{enumerable:!0,get:function(){return pu.registerLoadBalancerType}});Object.defineProperty(k,"selectLbConfigFromList",{enumerable:!0,get:function(){return pu.selectLbConfigFromList}});Object.defineProperty(k,"parseLoadBalancingConfig",{enumerable:!0,get:function(){return pu.parseLoadBalancingConfig}});Object.defineProperty(k,"isLoadBalancerNameRegistered",{enumerable:!0,get:function(){return pu.isLoadBalancerNameRegistered}});var sEe=pE();Object.defineProperty(k,"LeafLoadBalancer",{enumerable:!0,get:function(){return sEe.LeafLoadBalancer}});var _E=rr();Object.defineProperty(k,"subchannelAddressToString",{enumerable:!0,get:function(){return _E.subchannelAddressToString}});Object.defineProperty(k,"endpointToString",{enumerable:!0,get:function(){return _E.endpointToString}});Object.defineProperty(k,"endpointHasAddress",{enumerable:!0,get:function(){return _E.endpointHasAddress}});Object.defineProperty(k,"EndpointMap",{enumerable:!0,get:function(){return _E.EndpointMap}});var aEe=Jh();Object.defineProperty(k,"ChildLoadBalancerHandler",{enumerable:!0,get:function(){return aEe.ChildLoadBalancerHandler}});var RA=ri();Object.defineProperty(k,"UnavailablePicker",{enumerable:!0,get:function(){return RA.UnavailablePicker}});Object.defineProperty(k,"QueuePicker",{enumerable:!0,get:function(){return RA.QueuePicker}});Object.defineProperty(k,"PickResultType",{enumerable:!0,get:function(){return RA.PickResultType}});var lEe=NO();Object.defineProperty(k,"BaseFilter",{enumerable:!0,get:function(){return lEe.BaseFilter}});var cEe=OO();Object.defineProperty(k,"FilterStackFactory",{enumerable:!0,get:function(){return cEe.FilterStackFactory}});var uEe=t_();Object.defineProperty(k,"registerAdminService",{enumerable:!0,get:function(){return uEe.registerAdminService}});var fEe=rE();Object.defineProperty(k,"BaseSubchannelWrapper",{enumerable:!0,get:function(){return fEe.BaseSubchannelWrapper}});var Xj=aE();Object.defineProperty(k,"createServerCredentialsWithInterceptors",{enumerable:!0,get:function(){return Xj.createServerCredentialsWithInterceptors}});Object.defineProperty(k,"createCertificateProviderServerCredentials",{enumerable:!0,get:function(){return Xj.createCertificateProviderServerCredentials}});var pEe=jj();Object.defineProperty(k,"FileWatcherCertificateProvider",{enumerable:!0,get:function(){return pEe.FileWatcherCertificateProvider}});var dEe=Nc();Object.defineProperty(k,"createCertificateProviderChannelCredentials",{enumerable:!0,get:function(){return dEe.createCertificateProviderChannelCredentials}});var hEe=zO();Object.defineProperty(k,"SUBCHANNEL_ARGS_EXCLUDE_KEY_PREFIX",{enumerable:!0,get:function(){return hEe.SUBCHANNEL_ARGS_EXCLUDE_KEY_PREFIX}})});var Wj=T(PA=>{"use strict";Object.defineProperty(PA,"__esModule",{value:!0});PA.setup=EEe;var _Ee=jr(),CA=class{constructor(e,t,o){this.listener=t,this.hasReturnedResult=!1,this.endpoints=[];let s;e.authority===""?s="/"+e.path:s=e.path,this.endpoints=[{addresses:[{path:s}]}]}updateResolution(){this.hasReturnedResult||(this.hasReturnedResult=!0,process.nextTick(this.listener.onSuccessfulResolution,this.endpoints,null,null,null,{}))}destroy(){this.hasReturnedResult=!1}static getDefaultAuthority(e){return"localhost"}};function EEe(){(0,_Ee.registerResolver)("unix",CA)}});var t4=T(xA=>{"use strict";Object.defineProperty(xA,"__esModule",{value:!0});xA.setup=gEe;var Jj=V("net"),EE=ue(),IA=ht(),Qj=jr(),Zj=Pt(),mEe=Pe(),TEe="ip_resolver";function e4(r){mEe.trace(EE.LogVerbosity.DEBUG,TEe,r)}var LA="ipv4",bA="ipv6",SEe=443,mE=class{constructor(e,t,o){var s;this.listener=t,this.endpoints=[],this.error=null,this.hasReturnedResult=!1,e4("Resolver constructed for target "+(0,Zj.uriToString)(e));let a=[];if(!(e.scheme===LA||e.scheme===bA)){this.error={code:EE.Status.UNAVAILABLE,details:`Unrecognized scheme ${e.scheme} in IP resolver`,metadata:new IA.Metadata};return}let i=e.path.split(",");for(let n of i){let l=(0,Zj.splitHostPort)(n);if(l===null){this.error={code:EE.Status.UNAVAILABLE,details:`Failed to parse ${e.scheme} address ${n}`,metadata:new IA.Metadata};return}if(e.scheme===LA&&!(0,Jj.isIPv4)(l.host)||e.scheme===bA&&!(0,Jj.isIPv6)(l.host)){this.error={code:EE.Status.UNAVAILABLE,details:`Failed to parse ${e.scheme} address ${n}`,metadata:new IA.Metadata};return}a.push({host:l.host,port:(s=l.port)!==null&&s!==void 0?s:SEe})}this.endpoints=a.map(n=>({addresses:[n]})),e4("Parsed "+e.scheme+" address list "+a)}updateResolution(){this.hasReturnedResult||(this.hasReturnedResult=!0,process.nextTick(()=>{this.error?this.listener.onError(this.error):this.listener.onSuccessfulResolution(this.endpoints,null,null,null,{})}))}destroy(){this.hasReturnedResult=!1}static getDefaultAuthority(e){return e.path.split(",")[0]}};function gEe(){(0,Qj.registerResolver)(LA,mE),(0,Qj.registerResolver)(bA,mE)}});var o4=T(du=>{"use strict";Object.defineProperty(du,"__esModule",{value:!0});du.RoundRobinLoadBalancer=void 0;du.setup=REe;var i4=ao(),yt=tr(),MA=ri(),vEe=Pe(),yEe=ue(),r4=rr(),OEe=pE(),AEe="round_robin";function n4(r){vEe.trace(yEe.LogVerbosity.DEBUG,AEe,r)}var TE="round_robin",wA=class r{getLoadBalancerName(){return TE}constructor(){}toJsonObject(){return{[TE]:{}}}static createFromJson(e){return new r}},DA=class{constructor(e,t=0){this.children=e,this.nextIndex=t}pick(e){let t=this.children[this.nextIndex].picker;return this.nextIndex=(this.nextIndex+1)%this.children.length,t.pick(e)}peekNextEndpoint(){return this.children[this.nextIndex].endpoint}},SE=class{constructor(e){this.channelControlHelper=e,this.children=[],this.currentState=yt.ConnectivityState.IDLE,this.currentReadyPicker=null,this.updatesPaused=!1,this.lastError=null,this.childChannelControlHelper=(0,i4.createChildChannelControlHelper)(e,{updateState:(t,o,s)=>{this.currentState===yt.ConnectivityState.READY&&t!==yt.ConnectivityState.READY&&this.channelControlHelper.requestReresolution(),s&&(this.lastError=s),this.calculateAndUpdateState()}})}countChildrenWithState(e){return this.children.filter(t=>t.getConnectivityState()===e).length}calculateAndUpdateState(){if(!this.updatesPaused){if(this.countChildrenWithState(yt.ConnectivityState.READY)>0){let e=this.children.filter(o=>o.getConnectivityState()===yt.ConnectivityState.READY),t=0;if(this.currentReadyPicker!==null){let o=this.currentReadyPicker.peekNextEndpoint();t=e.findIndex(s=>(0,r4.endpointEqual)(s.getEndpoint(),o)),t<0&&(t=0)}this.updateState(yt.ConnectivityState.READY,new DA(e.map(o=>({endpoint:o.getEndpoint(),picker:o.getPicker()})),t),null)}else if(this.countChildrenWithState(yt.ConnectivityState.CONNECTING)>0)this.updateState(yt.ConnectivityState.CONNECTING,new MA.QueuePicker(this),null);else if(this.countChildrenWithState(yt.ConnectivityState.TRANSIENT_FAILURE)>0){let e=`round_robin: No connection established. Last error: ${this.lastError}`;this.updateState(yt.ConnectivityState.TRANSIENT_FAILURE,new MA.UnavailablePicker({details:e}),e)}else this.updateState(yt.ConnectivityState.IDLE,new MA.QueuePicker(this),null);for(let e of this.children)e.getConnectivityState()===yt.ConnectivityState.IDLE&&e.exitIdle()}}updateState(e,t,o){n4(yt.ConnectivityState[this.currentState]+" -> "+yt.ConnectivityState[e]),e===yt.ConnectivityState.READY?this.currentReadyPicker=t:this.currentReadyPicker=null,this.currentState=e,this.channelControlHelper.updateState(e,t,o)}resetSubchannelList(){for(let e of this.children)e.destroy()}updateAddressList(e,t,o){this.resetSubchannelList(),n4("Connect to endpoint list "+e.map(r4.endpointToString)),this.updatesPaused=!0,this.children=e.map(s=>new OEe.LeafLoadBalancer(s,this.childChannelControlHelper,o));for(let s of this.children)s.startConnecting();this.updatesPaused=!1,this.calculateAndUpdateState()}exitIdle(){}resetBackoff(){}destroy(){this.resetSubchannelList()}getTypeName(){return TE}};du.RoundRobinLoadBalancer=SE;function REe(){(0,i4.registerLoadBalancerType)(TE,SE,wA)}});var l4=T(Co=>{"use strict";var UA;Object.defineProperty(Co,"__esModule",{value:!0});Co.OutlierDetectionLoadBalancer=Co.OutlierDetectionLoadBalancingConfig=void 0;Co.setup=UEe;var NEe=tr(),s4=ue(),No=SA(),a4=NA(),CEe=ao(),PEe=Jh(),IEe=ri(),kA=rr(),LEe=rE(),bEe=Pe(),xEe="outlier_detection";function it(r){bEe.trace(s4.LogVerbosity.DEBUG,xEe,r)}var qA="outlier_detection",MEe=((UA=process.env.GRPC_EXPERIMENTAL_ENABLE_OUTLIER_DETECTION)!==null&&UA!==void 0?UA:"true")==="true",wEe={stdev_factor:1900,enforcement_percentage:100,minimum_hosts:5,request_volume:100},DEe={threshold:85,enforcement_percentage:100,minimum_hosts:5,request_volume:50};function ba(r,e,t,o){if(e in r&&r[e]!==void 0&&typeof r[e]!==t){let s=o?`${o}.${e}`:e;throw new Error(`outlier detection config ${s} parse error: expected ${t}, got ${typeof r[e]}`)}}function BA(r,e,t){let o=t?`${t}.${e}`:e;if(e in r&&r[e]!==void 0){if(!(0,No.isDuration)(r[e]))throw new Error(`outlier detection config ${o} parse error: expected Duration, got ${typeof r[e]}`);if(!(r[e].seconds>=0&&r[e].seconds<=315576e6&&r[e].nanos>=0&&r[e].nanos<=999999999))throw new Error(`outlier detection config ${o} parse error: values out of range for non-negative Duaration`)}}function gE(r,e,t){let o=t?`${t}.${e}`:e;if(ba(r,e,"number",t),e in r&&r[e]!==void 0&&!(r[e]>=0&&r[e]<=100))throw new Error(`outlier detection config ${o} parse error: value out of range for percentage (0-100)`)}var hu=class r{constructor(e,t,o,s,a,i,n){if(this.childPolicy=n,n.getLoadBalancerName()==="pick_first")throw new Error("outlier_detection LB policy cannot have a pick_first child policy");this.intervalMs=e??1e4,this.baseEjectionTimeMs=t??3e4,this.maxEjectionTimeMs=o??3e5,this.maxEjectionPercent=s??10,this.successRateEjection=a?Object.assign(Object.assign({},wEe),a):null,this.failurePercentageEjection=i?Object.assign(Object.assign({},DEe),i):null}getLoadBalancerName(){return qA}toJsonObject(){var e,t;return{outlier_detection:{interval:(0,No.msToDuration)(this.intervalMs),base_ejection_time:(0,No.msToDuration)(this.baseEjectionTimeMs),max_ejection_time:(0,No.msToDuration)(this.maxEjectionTimeMs),max_ejection_percent:this.maxEjectionPercent,success_rate_ejection:(e=this.successRateEjection)!==null&&e!==void 0?e:void 0,failure_percentage_ejection:(t=this.failurePercentageEjection)!==null&&t!==void 0?t:void 0,child_policy:[this.childPolicy.toJsonObject()]}}}getIntervalMs(){return this.intervalMs}getBaseEjectionTimeMs(){return this.baseEjectionTimeMs}getMaxEjectionTimeMs(){return this.maxEjectionTimeMs}getMaxEjectionPercent(){return this.maxEjectionPercent}getSuccessRateEjectionConfig(){return this.successRateEjection}getFailurePercentageEjectionConfig(){return this.failurePercentageEjection}getChildPolicy(){return this.childPolicy}static createFromJson(e){var t;if(BA(e,"interval"),BA(e,"base_ejection_time"),BA(e,"max_ejection_time"),gE(e,"max_ejection_percent"),"success_rate_ejection"in e&&e.success_rate_ejection!==void 0){if(typeof e.success_rate_ejection!="object")throw new Error("outlier detection config success_rate_ejection must be an object");ba(e.success_rate_ejection,"stdev_factor","number","success_rate_ejection"),gE(e.success_rate_ejection,"enforcement_percentage","success_rate_ejection"),ba(e.success_rate_ejection,"minimum_hosts","number","success_rate_ejection"),ba(e.success_rate_ejection,"request_volume","number","success_rate_ejection")}if("failure_percentage_ejection"in e&&e.failure_percentage_ejection!==void 0){if(typeof e.failure_percentage_ejection!="object")throw new Error("outlier detection config failure_percentage_ejection must be an object");gE(e.failure_percentage_ejection,"threshold","failure_percentage_ejection"),gE(e.failure_percentage_ejection,"enforcement_percentage","failure_percentage_ejection"),ba(e.failure_percentage_ejection,"minimum_hosts","number","failure_percentage_ejection"),ba(e.failure_percentage_ejection,"request_volume","number","failure_percentage_ejection")}if(!("child_policy"in e)||!Array.isArray(e.child_policy))throw new Error("outlier detection config child_policy must be an array");let o=(0,CEe.selectLbConfigFromList)(e.child_policy);if(!o)throw new Error("outlier detection config child_policy: no valid recognized policy found");return new r(e.interval?(0,No.durationToMs)(e.interval):null,e.base_ejection_time?(0,No.durationToMs)(e.base_ejection_time):null,e.max_ejection_time?(0,No.durationToMs)(e.max_ejection_time):null,(t=e.max_ejection_percent)!==null&&t!==void 0?t:null,e.success_rate_ejection,e.failure_percentage_ejection,o)}};Co.OutlierDetectionLoadBalancingConfig=hu;var FA=class extends LEe.BaseSubchannelWrapper{constructor(e,t){super(e),this.mapEntry=t,this.refCount=0}ref(){this.child.ref(),this.refCount+=1}unref(){if(this.child.unref(),this.refCount-=1,this.refCount<=0&&this.mapEntry){let e=this.mapEntry.subchannelWrappers.indexOf(this);e>=0&&this.mapEntry.subchannelWrappers.splice(e,1)}}eject(){this.setHealthy(!1)}uneject(){this.setHealthy(!0)}getMapEntry(){return this.mapEntry}getWrappedSubchannel(){return this.child}};function VA(){return{success:0,failure:0}}var GA=class{constructor(){this.activeBucket=VA(),this.inactiveBucket=VA()}addSuccess(){this.activeBucket.success+=1}addFailure(){this.activeBucket.failure+=1}switchBuckets(){this.inactiveBucket=this.activeBucket,this.activeBucket=VA()}getLastSuccesses(){return this.inactiveBucket.success}getLastFailures(){return this.inactiveBucket.failure}},HA=class{constructor(e,t){this.wrappedPicker=e,this.countCalls=t}pick(e){let t=this.wrappedPicker.pick(e);if(t.pickResultType===IEe.PickResultType.COMPLETE){let o=t.subchannel,s=o.getMapEntry();if(s){let a=t.onCallEnded;return this.countCalls&&(a=i=>{var n;i===s4.Status.OK?s.counter.addSuccess():s.counter.addFailure(),(n=t.onCallEnded)===null||n===void 0||n.call(t,i)}),Object.assign(Object.assign({},t),{subchannel:o.getWrappedSubchannel(),onCallEnded:a})}else return Object.assign(Object.assign({},t),{subchannel:o.getWrappedSubchannel()})}else return t}},vE=class{constructor(e){this.entryMap=new kA.EndpointMap,this.latestConfig=null,this.timerStartTime=null,this.childBalancer=new PEe.ChildLoadBalancerHandler((0,a4.createChildChannelControlHelper)(e,{createSubchannel:(t,o)=>{let s=e.createSubchannel(t,o),a=this.entryMap.getForSubchannelAddress(t),i=new FA(s,a);return(a==null?void 0:a.currentEjectionTimestamp)!==null&&i.eject(),a==null||a.subchannelWrappers.push(i),i},updateState:(t,o,s)=>{t===NEe.ConnectivityState.READY?e.updateState(t,new HA(o,this.isCountingEnabled()),s):e.updateState(t,o,s)}})),this.ejectionTimer=setInterval(()=>{},0),clearInterval(this.ejectionTimer)}isCountingEnabled(){return this.latestConfig!==null&&(this.latestConfig.getSuccessRateEjectionConfig()!==null||this.latestConfig.getFailurePercentageEjectionConfig()!==null)}getCurrentEjectionPercent(){let e=0;for(let t of this.entryMap.values())t.currentEjectionTimestamp!==null&&(e+=1);return e*100/this.entryMap.size}runSuccessRateCheck(e){if(!this.latestConfig)return;let t=this.latestConfig.getSuccessRateEjectionConfig();if(!t)return;it("Running success rate check");let o=t.request_volume,s=0,a=[];for(let[f,_]of this.entryMap.entries()){let m=_.counter.getLastSuccesses(),O=_.counter.getLastFailures();it("Stats for "+(0,kA.endpointToString)(f)+": successes="+m+" failures="+O+" targetRequestVolume="+o),m+O>=o&&(s+=1,a.push(m/(m+O)))}if(it("Found "+s+" success rate candidates; currentEjectionPercent="+this.getCurrentEjectionPercent()+" successRates=["+a+"]"),s<t.minimum_hosts)return;let i=a.reduce((f,_)=>f+_)/a.length,n=0;for(let f of a){let _=f-i;n+=_*_}let l=n/a.length,c=Math.sqrt(l),u=i-c*(t.stdev_factor/1e3);it("stdev="+c+" ejectionThreshold="+u);for(let[f,_]of this.entryMap.entries()){if(this.getCurrentEjectionPercent()>=this.latestConfig.getMaxEjectionPercent())break;let m=_.counter.getLastSuccesses(),O=_.counter.getLastFailures();if(m+O<o)continue;let y=m/(m+O);if(it("Checking candidate "+f+" successRate="+y),y<u){let A=Math.random()*100;it("Candidate "+f+" randomNumber="+A+" enforcement_percentage="+t.enforcement_percentage),A<t.enforcement_percentage&&(it("Ejecting candidate "+f),this.eject(_,e))}}}runFailurePercentageCheck(e){if(!this.latestConfig)return;let t=this.latestConfig.getFailurePercentageEjectionConfig();if(!t)return;it("Running failure percentage check. threshold="+t.threshold+" request volume threshold="+t.request_volume);let o=0;for(let s of this.entryMap.values()){let a=s.counter.getLastSuccesses(),i=s.counter.getLastFailures();a+i>=t.request_volume&&(o+=1)}if(!(o<t.minimum_hosts))for(let[s,a]of this.entryMap.entries()){if(this.getCurrentEjectionPercent()>=this.latestConfig.getMaxEjectionPercent())break;let i=a.counter.getLastSuccesses(),n=a.counter.getLastFailures();if(it("Candidate successes="+i+" failures="+n),i+n<t.request_volume)continue;if(n*100/(n+i)>t.threshold){let c=Math.random()*100;it("Candidate "+s+" randomNumber="+c+" enforcement_percentage="+t.enforcement_percentage),c<t.enforcement_percentage&&(it("Ejecting candidate "+s),this.eject(a,e))}}}eject(e,t){e.currentEjectionTimestamp=new Date,e.ejectionTimeMultiplier+=1;for(let o of e.subchannelWrappers)o.eject()}uneject(e){e.currentEjectionTimestamp=null;for(let t of e.subchannelWrappers)t.uneject()}switchAllBuckets(){for(let e of this.entryMap.values())e.counter.switchBuckets()}startTimer(e){var t,o;this.ejectionTimer=setTimeout(()=>this.runChecks(),e),(o=(t=this.ejectionTimer).unref)===null||o===void 0||o.call(t)}runChecks(){let e=new Date;if(it("Ejection timer running"),this.switchAllBuckets(),!!this.latestConfig){this.timerStartTime=e,this.startTimer(this.latestConfig.getIntervalMs()),this.runSuccessRateCheck(e),this.runFailurePercentageCheck(e);for(let[t,o]of this.entryMap.entries())if(o.currentEjectionTimestamp===null)o.ejectionTimeMultiplier>0&&(o.ejectionTimeMultiplier-=1);else{let s=this.latestConfig.getBaseEjectionTimeMs(),a=this.latestConfig.getMaxEjectionTimeMs(),i=new Date(o.currentEjectionTimestamp.getTime());i.setMilliseconds(i.getMilliseconds()+Math.min(s*o.ejectionTimeMultiplier,Math.max(s,a))),i<new Date&&(it("Unejecting "+t),this.uneject(o))}}}updateAddressList(e,t,o){if(!(t instanceof hu))return;it("Received update with config: "+JSON.stringify(t.toJsonObject(),void 0,2));for(let a of e)this.entryMap.has(a)||(it("Adding map entry for "+(0,kA.endpointToString)(a)),this.entryMap.set(a,{counter:new GA,currentEjectionTimestamp:null,ejectionTimeMultiplier:0,subchannelWrappers:[]}));this.entryMap.deleteMissing(e);let s=t.getChildPolicy();if(this.childBalancer.updateAddressList(e,s,o),t.getSuccessRateEjectionConfig()||t.getFailurePercentageEjectionConfig())if(this.timerStartTime){it("Previous timer existed. Replacing timer"),clearTimeout(this.ejectionTimer);let a=t.getIntervalMs()-(new Date().getTime()-this.timerStartTime.getTime());this.startTimer(a)}else it("Starting new timer"),this.timerStartTime=new Date,this.startTimer(t.getIntervalMs()),this.switchAllBuckets();else{it("Counting disabled. Cancelling timer."),this.timerStartTime=null,clearTimeout(this.ejectionTimer);for(let a of this.entryMap.values())this.uneject(a),a.ejectionTimeMultiplier=0}this.latestConfig=t}exitIdle(){this.childBalancer.exitIdle()}resetBackoff(){this.childBalancer.resetBackoff()}destroy(){clearTimeout(this.ejectionTimer),this.childBalancer.destroy()}getTypeName(){return qA}};Co.OutlierDetectionLoadBalancer=vE;function UEe(){MEe&&(0,a4.registerLoadBalancerType)(qA,vE,hu)}});var _u=T(w=>{"use strict";Object.defineProperty(w,"__esModule",{value:!0});w.experimental=w.ServerInterceptingCall=w.ResponderBuilder=w.ServerListenerBuilder=w.addAdminServicesToServer=w.getChannelzHandlers=w.getChannelzServiceDefinition=w.InterceptorConfigurationError=w.InterceptingCall=w.RequesterBuilder=w.ListenerBuilder=w.StatusBuilder=w.getClientChannel=w.ServerCredentials=w.Server=w.setLogVerbosity=w.setLogger=w.load=w.loadObject=w.CallCredentials=w.ChannelCredentials=w.waitForClientReady=w.closeClient=w.Channel=w.makeGenericClientConstructor=w.makeClientConstructor=w.loadPackageDefinition=w.Client=w.compressionAlgorithms=w.propagate=w.connectivityState=w.status=w.logVerbosity=w.Metadata=w.credentials=void 0;var yE=Fh();Object.defineProperty(w,"CallCredentials",{enumerable:!0,get:function(){return yE.CallCredentials}});var kEe=iy();Object.defineProperty(w,"Channel",{enumerable:!0,get:function(){return kEe.ChannelImplementation}});var BEe=AO();Object.defineProperty(w,"compressionAlgorithms",{enumerable:!0,get:function(){return BEe.CompressionAlgorithms}});var VEe=tr();Object.defineProperty(w,"connectivityState",{enumerable:!0,get:function(){return VEe.ConnectivityState}});var OE=Nc();Object.defineProperty(w,"ChannelCredentials",{enumerable:!0,get:function(){return OE.ChannelCredentials}});var c4=ny();Object.defineProperty(w,"Client",{enumerable:!0,get:function(){return c4.Client}});var jA=ue();Object.defineProperty(w,"logVerbosity",{enumerable:!0,get:function(){return jA.LogVerbosity}});Object.defineProperty(w,"status",{enumerable:!0,get:function(){return jA.Status}});Object.defineProperty(w,"propagate",{enumerable:!0,get:function(){return jA.Propagate}});var u4=Pe(),YA=sy();Object.defineProperty(w,"loadPackageDefinition",{enumerable:!0,get:function(){return YA.loadPackageDefinition}});Object.defineProperty(w,"makeClientConstructor",{enumerable:!0,get:function(){return YA.makeClientConstructor}});Object.defineProperty(w,"makeGenericClientConstructor",{enumerable:!0,get:function(){return YA.makeClientConstructor}});var FEe=ht();Object.defineProperty(w,"Metadata",{enumerable:!0,get:function(){return FEe.Metadata}});var GEe=kj();Object.defineProperty(w,"Server",{enumerable:!0,get:function(){return GEe.Server}});var HEe=aE();Object.defineProperty(w,"ServerCredentials",{enumerable:!0,get:function(){return HEe.ServerCredentials}});var qEe=Bj();Object.defineProperty(w,"StatusBuilder",{enumerable:!0,get:function(){return qEe.StatusBuilder}});w.credentials={combineChannelCredentials:(r,...e)=>e.reduce((t,o)=>t.compose(o),r),combineCallCredentials:(r,...e)=>e.reduce((t,o)=>t.compose(o),r),createInsecure:OE.ChannelCredentials.createInsecure,createSsl:OE.ChannelCredentials.createSsl,createFromSecureContext:OE.ChannelCredentials.createFromSecureContext,createFromMetadataGenerator:yE.CallCredentials.createFromMetadataGenerator,createFromGoogleCredential:yE.CallCredentials.createFromGoogleCredential,createEmpty:yE.CallCredentials.createEmpty};var jEe=r=>r.close();w.closeClient=jEe;var YEe=(r,e,t)=>r.waitForReady(e,t);w.waitForClientReady=YEe;var KEe=(r,e)=>{throw new Error("Not available in this library. Use @grpc/proto-loader and loadPackageDefinition instead")};w.loadObject=KEe;var zEe=(r,e,t)=>{throw new Error("Not available in this library. Use @grpc/proto-loader and loadPackageDefinition instead")};w.load=zEe;var $Ee=r=>{u4.setLogger(r)};w.setLogger=$Ee;var XEe=r=>{u4.setLoggerVerbosity(r)};w.setLogVerbosity=XEe;var WEe=r=>c4.Client.prototype.getChannel.call(r);w.getClientChannel=WEe;var AE=ey();Object.defineProperty(w,"ListenerBuilder",{enumerable:!0,get:function(){return AE.ListenerBuilder}});Object.defineProperty(w,"RequesterBuilder",{enumerable:!0,get:function(){return AE.RequesterBuilder}});Object.defineProperty(w,"InterceptingCall",{enumerable:!0,get:function(){return AE.InterceptingCall}});Object.defineProperty(w,"InterceptorConfigurationError",{enumerable:!0,get:function(){return AE.InterceptorConfigurationError}});var f4=Eo();Object.defineProperty(w,"getChannelzServiceDefinition",{enumerable:!0,get:function(){return f4.getChannelzServiceDefinition}});Object.defineProperty(w,"getChannelzHandlers",{enumerable:!0,get:function(){return f4.getChannelzHandlers}});var JEe=t_();Object.defineProperty(w,"addAdminServicesToServer",{enumerable:!0,get:function(){return JEe.addAdminServicesToServer}});var KA=hA();Object.defineProperty(w,"ServerListenerBuilder",{enumerable:!0,get:function(){return KA.ServerListenerBuilder}});Object.defineProperty(w,"ResponderBuilder",{enumerable:!0,get:function(){return KA.ResponderBuilder}});Object.defineProperty(w,"ServerInterceptingCall",{enumerable:!0,get:function(){return KA.ServerInterceptingCall}});var QEe=NA();w.experimental=QEe;var ZEe=cO(),eme=Wj(),tme=t4(),rme=pE(),nme=o4(),ime=l4(),ome=Eo();ZEe.setup(),eme.setup(),tme.setup(),rme.setup(),nme.setup(),ime.setup(),ome.setup()});var p4=T(RE=>{"use strict";Object.defineProperty(RE,"__esModule",{value:!0});RE.createServiceClientConstructor=void 0;var sme=_u();function ame(r,e){let t={export:{path:r,requestStream:!1,responseStream:!1,requestSerialize:o=>o,requestDeserialize:o=>o,responseSerialize:o=>o,responseDeserialize:o=>o}};return sme.makeGenericClientConstructor(t,e)}RE.createServiceClientConstructor=ame});var Eu=T(ar=>{"use strict";Object.defineProperty(ar,"__esModule",{value:!0});ar.createOtlpGrpcExporterTransport=ar.GrpcExporterTransport=ar.createEmptyMetadata=ar.createSslCredentials=ar.createInsecureCredentials=void 0;var lme=0,cme=2;function ume(r){return r==="gzip"?cme:lme}function fme(){let{credentials:r}=_u();return r.createInsecure()}ar.createInsecureCredentials=fme;function pme(r,e,t){let{credentials:o}=_u();return o.createSsl(r,e,t)}ar.createSslCredentials=pme;function dme(){let{Metadata:r}=_u();return new r}ar.createEmptyMetadata=dme;var NE=class{constructor(e){this._parameters=e}shutdown(){var e;(e=this._client)===null||e===void 0||e.close()}send(e,t){let o=Buffer.from(e);if(this._client==null){let{createServiceClientConstructor:s}=p4();try{this._metadata=this._parameters.metadata()}catch(i){return Promise.resolve({status:"failure",error:i})}let a=s(this._parameters.grpcPath,this._parameters.grpcName);try{this._client=new a(this._parameters.address,this._parameters.credentials(),{"grpc.default_compression_algorithm":ume(this._parameters.compression)})}catch(i){return Promise.resolve({status:"failure",error:i})}}return new Promise(s=>{let a=Date.now()+t;if(this._metadata==null)return s({error:new Error("metadata was null"),status:"failure"});this._client.export(o,this._metadata,{deadline:a},(i,n)=>{s(i?{status:"failure",error:i}:{data:n,status:"success"})})})}};ar.GrpcExporterTransport=NE;function hme(r){return new NE(r)}ar.createOtlpGrpcExporterTransport=hme});var d4=T(CE=>{"use strict";Object.defineProperty(CE,"__esModule",{value:!0});CE.VERSION=void 0;CE.VERSION="0.56.0"});var T4=T(_i=>{"use strict";Object.defineProperty(_i,"__esModule",{value:!0});_i.getOtlpGrpcDefaultConfiguration=_i.mergeOtlpGrpcConfigurationWithDefaults=_i.validateAndNormalizeUrl=void 0;var E4=(_n(),ee(mc)),mu=Eu(),_me=d4(),Eme=V("url"),h4=(P(),ee(ot));function m4(r){var e;r=r.trim(),r.match(/^([\w]{1,8}):\/\//)||(r=`https://${r}`);let o=new Eme.URL(r);return o.protocol==="unix:"?r:(o.pathname&&o.pathname!=="/"&&h4.diag.warn("URL path should not be set when using grpc, the path part of the URL will be ignored."),o.protocol!==""&&!(!((e=o.protocol)===null||e===void 0)&&e.match(/^(http)s?:$/))&&h4.diag.warn("URL protocol should be http(s)://. Using http://."),o.host)}_i.validateAndNormalizeUrl=m4;function _4(r,e){for(let[t,o]of Object.entries(e.getMap()))r.get(t).length<1&&r.set(t,o)}function mme(r,e,t){var o,s,a,i,n;let l=(s=(o=r.url)!==null&&o!==void 0?o:e.url)!==null&&s!==void 0?s:t.url;return Object.assign(Object.assign({},(0,E4.mergeOtlpSharedConfigurationWithDefaults)(r,e,t)),{metadata:()=>{var c,u,f,_;let m=t.metadata();return _4(m,(u=(c=r.metadata)===null||c===void 0?void 0:c.call(r).clone())!==null&&u!==void 0?u:(0,mu.createEmptyMetadata)()),_4(m,(_=(f=e.metadata)===null||f===void 0?void 0:f.call(e))!==null&&_!==void 0?_:(0,mu.createEmptyMetadata)()),m},url:m4(l),credentials:(n=(a=r.credentials)!==null&&a!==void 0?a:(i=e.credentials)===null||i===void 0?void 0:i.call(e,l))!==null&&n!==void 0?n:t.credentials(l)})}_i.mergeOtlpGrpcConfigurationWithDefaults=mme;function Tme(){return Object.assign(Object.assign({},(0,E4.getSharedConfigurationDefaults)()),{metadata:()=>{let r=(0,mu.createEmptyMetadata)();return r.set("User-Agent",`OTel-OTLP-Exporter-JavaScript/${_me.VERSION}`),r},url:"http://localhost:4317",credentials:r=>r.startsWith("http://")?()=>(0,mu.createInsecureCredentials)():()=>(0,mu.createSslCredentials)()})}_i.getOtlpGrpcDefaultConfiguration=Tme});function PE(r){return r.setValue(zA,!0)}function S4(r){return r.deleteValue(zA)}function xa(r){return r.getValue(zA)===!0}var zA,Tu=p(()=>{P();zA=De("OpenTelemetry SDK Context Key SUPPRESS_TRACING")});var g4,IE,Ma,LE,$A=p(()=>{g4="=",IE=";",Ma=",",LE="baggage"});function bE(r){return r.reduce((e,t)=>{let o=`${e}${e!==""?Ma:""}${t}`;return o.length>8192?e:o},"")}function xE(r){return r.getAllEntries().map(([e,t])=>{let o=`${encodeURIComponent(e)}=${encodeURIComponent(t.value)}`;return t.metadata!==void 0&&(o+=IE+t.metadata.toString()),o})}function Su(r){let e=r.split(IE);if(e.length<=0)return;let t=e.shift();if(!t)return;let o=t.indexOf(g4);if(o<=0)return;let s=decodeURIComponent(t.substring(0,o).trim()),a=decodeURIComponent(t.substring(o+1).trim()),i;return e.length>0&&(i=Lr(e.join(IE))),{key:s,value:a,metadata:i}}function v4(r){return typeof r!="string"||r.length===0?{}:r.split(Ma).map(e=>Su(e)).filter(e=>e!==void 0&&e.value.length>0).reduce((e,t)=>(e[t.key]=t.value,e),{})}var XA=p(()=>{P();$A()});var ME,y4=p(()=>{P();Tu();$A();XA();ME=class{inject(e,t,o){let s=Ue.getBaggage(e);if(!s||xa(e))return;let a=xE(s).filter(n=>n.length<=4096).slice(0,180),i=bE(a);i.length>0&&o.set(t,LE,i)}extract(e,t,o){let s=o.get(t,LE),a=Array.isArray(s)?s.join(Ma):s;if(!a)return e;let i={};return a.length===0||(a.split(Ma).forEach(l=>{let c=Su(l);if(c){let u={value:c.value};c.metadata&&(u.metadata=c.metadata),i[c.key]=u}}),Object.entries(i).length===0)?e:Ue.setBaggage(e,Ue.createBaggage(i))}fields(){return[LE]}}});var wE,O4=p(()=>{wE=class{constructor(e,t){this._monotonicClock=t,this._epochMillis=e.now(),this._performanceMillis=t.now()}now(){let e=this._monotonicClock.now()-this._performanceMillis;return this._epochMillis+e}}});function A4(r){let e={};if(typeof r!="object"||r==null)return e;for(let[t,o]of Object.entries(r)){if(!WA(t)){S.warn(`Invalid attribute key: ${t}`);continue}if(!JA(o)){S.warn(`Invalid attribute value set for key: ${t}`);continue}Array.isArray(o)?e[t]=o.slice():e[t]=o}return e}function WA(r){return typeof r=="string"&&r.length>0}function JA(r){return r==null?!0:Array.isArray(r)?yme(r):R4(r)}function yme(r){let e;for(let t of r)if(t!=null){if(!e){if(R4(t)){e=typeof t;continue}return!1}if(typeof t!==e)return!1}return!0}function R4(r){switch(typeof r){case"number":case"boolean":case"string":return!0}return!1}var N4=p(()=>{P()});function DE(){return r=>{S.error(Ome(r))}}function Ome(r){return typeof r=="string"?r:JSON.stringify(Ame(r))}function Ame(r){let e={},t=r;for(;t!==null;)Object.getOwnPropertyNames(t).forEach(o=>{if(e[o])return;let s=t[o];s&&(e[o]=String(s))}),t=Object.getPrototypeOf(t);return e}var QA=p(()=>{P()});function P4(r){C4=r}function UE(r){try{C4(r)}catch{}}var C4,ZA=p(()=>{QA();C4=DE()});var wa,eR=p(()=>{(function(r){r.AlwaysOff="always_off",r.AlwaysOn="always_on",r.ParentBasedAlwaysOff="parentbased_always_off",r.ParentBasedAlwaysOn="parentbased_always_on",r.ParentBasedTraceIdRatio="parentbased_traceidratio",r.TraceIdRatio="traceidratio"})(wa||(wa={}))});function Cme(r){return Nme.indexOf(r)>-1}function Ime(r){return Pme.indexOf(r)>-1}function bme(r){return Lme.indexOf(r)>-1}function xme(r,e,t){if(typeof t[r]>"u")return;let o=String(t[r]);e[r]=o.toLowerCase()==="true"}function Mme(r,e,t,o=-1/0,s=1/0){if(typeof t[r]<"u"){let a=Number(t[r]);isNaN(a)||(a<o?e[r]=o:a>s?e[r]=s:e[r]=a)}}function wme(r,e,t,o=Rme){let s=t[r];typeof s=="string"&&(e[r]=s.split(o).map(a=>a.trim()))}function Ume(r,e,t){let o=t[r];if(typeof o=="string"){let s=Dme[o.toUpperCase()];s!=null&&(e[r]=s)}}function Ou(r){let e={};for(let t in yu){let o=t;switch(o){case"OTEL_LOG_LEVEL":Ume(o,e,r);break;default:if(Cme(o))xme(o,e,r);else if(Ime(o))Mme(o,e,r);else if(bme(o))wme(o,e,r);else{let s=r[o];typeof s<"u"&&s!==null&&(e[o]=String(s))}}}return e}var Rme,Nme,Pme,Lme,gu,vu,tR,rR,yu,Dme,nR=p(()=>{P();eR();Rme=",",Nme=["OTEL_SDK_DISABLED"];Pme=["OTEL_BSP_EXPORT_TIMEOUT","OTEL_BSP_MAX_EXPORT_BATCH_SIZE","OTEL_BSP_MAX_QUEUE_SIZE","OTEL_BSP_SCHEDULE_DELAY","OTEL_BLRP_EXPORT_TIMEOUT","OTEL_BLRP_MAX_EXPORT_BATCH_SIZE","OTEL_BLRP_MAX_QUEUE_SIZE","OTEL_BLRP_SCHEDULE_DELAY","OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_EVENT_COUNT_LIMIT","OTEL_SPAN_LINK_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT","OTEL_EXPORTER_OTLP_TIMEOUT","OTEL_EXPORTER_OTLP_TRACES_TIMEOUT","OTEL_EXPORTER_OTLP_METRICS_TIMEOUT","OTEL_EXPORTER_OTLP_LOGS_TIMEOUT","OTEL_EXPORTER_JAEGER_AGENT_PORT"];Lme=["OTEL_NO_PATCH_MODULES","OTEL_PROPAGATORS","OTEL_SEMCONV_STABILITY_OPT_IN"];gu=1/0,vu=128,tR=128,rR=128,yu={OTEL_SDK_DISABLED:!1,CONTAINER_NAME:"",ECS_CONTAINER_METADATA_URI_V4:"",ECS_CONTAINER_METADATA_URI:"",HOSTNAME:"",KUBERNETES_SERVICE_HOST:"",NAMESPACE:"",OTEL_BSP_EXPORT_TIMEOUT:3e4,OTEL_BSP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BSP_MAX_QUEUE_SIZE:2048,OTEL_BSP_SCHEDULE_DELAY:5e3,OTEL_BLRP_EXPORT_TIMEOUT:3e4,OTEL_BLRP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BLRP_MAX_QUEUE_SIZE:2048,OTEL_BLRP_SCHEDULE_DELAY:5e3,OTEL_EXPORTER_JAEGER_AGENT_HOST:"",OTEL_EXPORTER_JAEGER_AGENT_PORT:6832,OTEL_EXPORTER_JAEGER_ENDPOINT:"",OTEL_EXPORTER_JAEGER_PASSWORD:"",OTEL_EXPORTER_JAEGER_USER:"",OTEL_EXPORTER_OTLP_ENDPOINT:"",OTEL_EXPORTER_OTLP_TRACES_ENDPOINT:"",OTEL_EXPORTER_OTLP_METRICS_ENDPOINT:"",OTEL_EXPORTER_OTLP_LOGS_ENDPOINT:"",OTEL_EXPORTER_OTLP_HEADERS:"",OTEL_EXPORTER_OTLP_TRACES_HEADERS:"",OTEL_EXPORTER_OTLP_METRICS_HEADERS:"",OTEL_EXPORTER_OTLP_LOGS_HEADERS:"",OTEL_EXPORTER_OTLP_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_TRACES_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_METRICS_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_LOGS_TIMEOUT:1e4,OTEL_EXPORTER_ZIPKIN_ENDPOINT:"http://localhost:9411/api/v2/spans",OTEL_LOG_LEVEL:H.INFO,OTEL_NO_PATCH_MODULES:[],OTEL_PROPAGATORS:["tracecontext","baggage"],OTEL_RESOURCE_ATTRIBUTES:"",OTEL_SERVICE_NAME:"",OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT:gu,OTEL_ATTRIBUTE_COUNT_LIMIT:vu,OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT:gu,OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT:vu,OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT:gu,OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT:vu,OTEL_SPAN_EVENT_COUNT_LIMIT:128,OTEL_SPAN_LINK_COUNT_LIMIT:128,OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT:tR,OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT:rR,OTEL_TRACES_EXPORTER:"",OTEL_TRACES_SAMPLER:wa.ParentBasedAlwaysOn,OTEL_TRACES_SAMPLER_ARG:"",OTEL_LOGS_EXPORTER:"",OTEL_EXPORTER_OTLP_INSECURE:"",OTEL_EXPORTER_OTLP_TRACES_INSECURE:"",OTEL_EXPORTER_OTLP_METRICS_INSECURE:"",OTEL_EXPORTER_OTLP_LOGS_INSECURE:"",OTEL_EXPORTER_OTLP_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_COMPRESSION:"",OTEL_EXPORTER_OTLP_TRACES_COMPRESSION:"",OTEL_EXPORTER_OTLP_METRICS_COMPRESSION:"",OTEL_EXPORTER_OTLP_LOGS_COMPRESSION:"",OTEL_EXPORTER_OTLP_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_TRACES_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_LOGS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE:"cumulative",OTEL_SEMCONV_STABILITY_OPT_IN:[]};Dme={ALL:H.ALL,VERBOSE:H.VERBOSE,DEBUG:H.DEBUG,INFO:H.INFO,WARN:H.WARN,ERROR:H.ERROR,NONE:H.NONE}});function kE(){let r=Ou(process.env);return Object.assign({},yu,r)}function BE(){return Ou(process.env)}var I4=p(()=>{nR()});var VE,L4=p(()=>{VE=typeof globalThis=="object"?globalThis:global});function b4(r){return r>=48&&r<=57?r-48:r>=97&&r<=102?r-87:r-55}function FE(r){let e=new Uint8Array(r.length/2),t=0;for(let o=0;o<r.length;o+=2){let s=b4(r.charCodeAt(o)),a=b4(r.charCodeAt(o+1));e[t++]=s<<4|a}return e}var iR=p(()=>{});function GE(r){return Buffer.from(FE(r)).toString("base64")}var x4=p(()=>{iR()});function M4(r){return function(){for(let t=0;t<r/4;t++)HE.writeUInt32BE(Math.random()*2**32>>>0,t*4);for(let t=0;t<r&&!(HE[t]>0);t++)t===r-1&&(HE[r-1]=1);return HE.toString("hex",0,r)}}var Da,HE,w4=p(()=>{Da=class{constructor(){this.generateTraceId=M4(16),this.generateSpanId=M4(8)}},HE=Buffer.allocUnsafe(16)});import{performance as kme}from"perf_hooks";var Ei,D4=p(()=>{Ei=kme});var qE,oR=p(()=>{qE="1.29.0"});var jE,U4=p(()=>{oR();Ve();jE={[Se]:"opentelemetry",[st]:"node",[ge]:wt,[ve]:qE}});function YE(r){r.unref()}var k4=p(()=>{});var B4=p(()=>{I4();L4();x4();w4();D4();U4();k4()});var sR=p(()=>{B4()});function Ua(r){let e=r/1e3,t=Math.trunc(e),o=Math.round(r%1e3*Vme);return[t,o]}function zE(){let r=Ei.timeOrigin;if(typeof r!="number"){let e=Ei;r=e.timing&&e.timing.fetchStart}return r}function aR(r){let e=Ua(zE()),t=Ua(typeof r=="number"?r:Ei.now());return lR(e,t)}function F4(r){if($E(r))return r;if(typeof r=="number")return r<zE()?aR(r):Ua(r);if(r instanceof Date)return Ua(r.getTime());throw TypeError("Invalid input type")}function G4(r,e){let t=e[0]-r[0],o=e[1]-r[1];return o<0&&(t-=1,o+=KE),[t,o]}function H4(r){let e=V4,t=`${"0".repeat(e)}${r[1]}Z`,o=t.substring(t.length-e-1);return new Date(r[0]*1e3).toISOString().replace("000Z",o)}function q4(r){return r[0]*KE+r[1]}function j4(r){return r[0]*1e3+r[1]/1e6}function Y4(r){return r[0]*1e6+r[1]/1e3}function $E(r){return Array.isArray(r)&&r.length===2&&typeof r[0]=="number"&&typeof r[1]=="number"}function K4(r){return $E(r)||typeof r=="number"||r instanceof Date}function lR(r,e){let t=[r[0]+e[0],r[1]+e[1]];return t[1]>=KE&&(t[1]-=KE,t[0]+=1),t}var V4,Bme,Vme,KE,z4=p(()=>{sR();V4=9,Bme=6,Vme=Math.pow(10,Bme),KE=Math.pow(10,V4)});var XE,$4=p(()=>{(function(r){r[r.SUCCESS=0]="SUCCESS",r[r.FAILED=1]="FAILED"})(XE||(XE={}))});var WE,X4=p(()=>{P();WE=class{constructor(e={}){var t;this._propagators=(t=e.propagators)!==null&&t!==void 0?t:[],this._fields=Array.from(new Set(this._propagators.map(o=>typeof o.fields=="function"?o.fields():[]).reduce((o,s)=>o.concat(s),[])))}inject(e,t,o){for(let s of this._propagators)try{s.inject(e,t,o)}catch(a){S.warn(`Failed to inject with ${s.constructor.name}. Err: ${a.message}`)}}extract(e,t,o){return this._propagators.reduce((s,a)=>{try{return a.extract(s,t,o)}catch(i){S.warn(`Failed to extract with ${a.constructor.name}. Err: ${i.message}`)}return s},e)}fields(){return this._fields.slice()}}});function W4(r){return Hme.test(r)}function J4(r){return qme.test(r)&&!jme.test(r)}var cR,Fme,Gme,Hme,qme,jme,Q4=p(()=>{cR="[_0-9a-z-*/]",Fme=`[a-z]${cR}{0,255}`,Gme=`[a-z0-9]${cR}{0,240}@[a-z]${cR}{0,13}`,Hme=new RegExp(`^(?:${Fme}|${Gme})$`),qme=/^[ -~]{0,255}[!-~]$/,jme=/,|=/});var Z4,Yme,e6,t6,ka,uR=p(()=>{Q4();Z4=32,Yme=512,e6=",",t6="=",ka=class r{constructor(e){this._internalState=new Map,e&&this._parse(e)}set(e,t){let o=this._clone();return o._internalState.has(e)&&o._internalState.delete(e),o._internalState.set(e,t),o}unset(e){let t=this._clone();return t._internalState.delete(e),t}get(e){return this._internalState.get(e)}serialize(){return this._keys().reduce((e,t)=>(e.push(t+t6+this.get(t)),e),[]).join(e6)}_parse(e){e.length>Yme||(this._internalState=e.split(e6).reverse().reduce((t,o)=>{let s=o.trim(),a=s.indexOf(t6);if(a!==-1){let i=s.slice(0,a),n=s.slice(a+1,o.length);W4(i)&&J4(n)&&t.set(i,n)}return t},new Map),this._internalState.size>Z4&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,Z4))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let e=new r;return e._internalState=new Map(this._internalState),e}}});function fR(r){let e=Jme.exec(r);return!e||e[1]==="00"&&e[5]?null:{traceId:e[2],spanId:e[3],traceFlags:parseInt(e[4],16)}}var Au,Ru,Kme,zme,$me,Xme,Wme,Jme,JE,r6=p(()=>{P();Tu();uR();Au="traceparent",Ru="tracestate",Kme="00",zme="(?!ff)[\\da-f]{2}",$me="(?![0]{32})[\\da-f]{32}",Xme="(?![0]{16})[\\da-f]{16}",Wme="[\\da-f]{2}",Jme=new RegExp(`^\\s?(${zme})-(${$me})-(${Xme})-(${Wme})(-.*)?\\s?$`);JE=class{inject(e,t,o){let s=ie.getSpanContext(e);if(!s||xa(e)||!xe(s))return;let a=`${Kme}-${s.traceId}-${s.spanId}-0${Number(s.traceFlags||se.NONE).toString(16)}`;o.set(t,Au,a),s.traceState&&o.set(t,Ru,s.traceState.serialize())}extract(e,t,o){let s=o.get(t,Au);if(!s)return e;let a=Array.isArray(s)?s[0]:s;if(typeof a!="string")return e;let i=fR(a);if(!i)return e;i.isRemote=!0;let n=o.get(t,Ru);if(n){let l=Array.isArray(n)?n.join(","):n;i.traceState=new ka(typeof l=="string"?l:void 0)}return ie.setSpanContext(e,i)}fields(){return[Au,Ru]}}});function n6(r,e){return r.setValue(pR,e)}function i6(r){return r.deleteValue(pR)}function o6(r){return r.getValue(pR)}var pR,QE,s6=p(()=>{P();pR=De("OpenTelemetry SDK Context Key RPC_METADATA");(function(r){r.HTTP="http"})(QE||(QE={}))});var Po,dR=p(()=>{P();Po=class{shouldSample(){return{decision:ke.NOT_RECORD}}toString(){return"AlwaysOffSampler"}}});var mi,hR=p(()=>{P();mi=class{shouldSample(){return{decision:ke.RECORD_AND_SAMPLED}}toString(){return"AlwaysOnSampler"}}});var ZE,a6=p(()=>{P();ZA();dR();hR();ZE=class{constructor(e){var t,o,s,a;this._root=e.root,this._root||(UE(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new mi),this._remoteParentSampled=(t=e.remoteParentSampled)!==null&&t!==void 0?t:new mi,this._remoteParentNotSampled=(o=e.remoteParentNotSampled)!==null&&o!==void 0?o:new Po,this._localParentSampled=(s=e.localParentSampled)!==null&&s!==void 0?s:new mi,this._localParentNotSampled=(a=e.localParentNotSampled)!==null&&a!==void 0?a:new Po}shouldSample(e,t,o,s,a,i){let n=ie.getSpanContext(e);return!n||!xe(n)?this._root.shouldSample(e,t,o,s,a,i):n.isRemote?n.traceFlags&se.SAMPLED?this._remoteParentSampled.shouldSample(e,t,o,s,a,i):this._remoteParentNotSampled.shouldSample(e,t,o,s,a,i):n.traceFlags&se.SAMPLED?this._localParentSampled.shouldSample(e,t,o,s,a,i):this._localParentNotSampled.shouldSample(e,t,o,s,a,i)}toString(){return`ParentBased{root=${this._root.toString()}, remoteParentSampled=${this._remoteParentSampled.toString()}, remoteParentNotSampled=${this._remoteParentNotSampled.toString()}, localParentSampled=${this._localParentSampled.toString()}, localParentNotSampled=${this._localParentNotSampled.toString()}}`}}});var em,l6=p(()=>{P();em=class{constructor(e=0){this._ratio=e,this._ratio=this._normalize(e),this._upperBound=Math.floor(this._ratio*4294967295)}shouldSample(e,t){return{decision:Mt(t)&&this._accumulate(t)<this._upperBound?ke.RECORD_AND_SAMPLED:ke.NOT_RECORD}}toString(){return`TraceIdRatioBased{${this._ratio}}`}_normalize(e){return typeof e!="number"||isNaN(e)?0:e>=1?1:e<=0?0:e}_accumulate(e){let t=0;for(let o=0;o<e.length/8;o++){let s=o*8,a=parseInt(e.slice(s,s+8),16);t=(t^a)>>>0}return t}}});function iTe(r,e){return function(t){return r(e(t))}}function _R(r){if(!oTe(r)||sTe(r)!==Qme)return!1;let e=nTe(r);if(e===null)return!0;let t=f6.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&c6.call(t)===rTe}function oTe(r){return r!=null&&typeof r=="object"}function sTe(r){return r==null?r===void 0?eTe:Zme:Io&&Io in Object(r)?aTe(r):lTe(r)}function aTe(r){let e=f6.call(r,Io),t=r[Io],o=!1;try{r[Io]=void 0,o=!0}catch{}let s=p6.call(r);return o&&(e?r[Io]=t:delete r[Io]),s}function lTe(r){return p6.call(r)}var Qme,Zme,eTe,tTe,c6,rTe,nTe,u6,f6,Io,p6,d6=p(()=>{Qme="[object Object]",Zme="[object Null]",eTe="[object Undefined]",tTe=Function.prototype,c6=tTe.toString,rTe=c6.call(Object),nTe=iTe(Object.getPrototypeOf,Object),u6=Object.prototype,f6=u6.hasOwnProperty,Io=Symbol?Symbol.toStringTag:void 0,p6=u6.toString});function _6(...r){let e=r.shift(),t=new WeakMap;for(;r.length>0;)e=E6(e,r.shift(),0,t);return e}function ER(r){return rm(r)?r.slice():r}function E6(r,e,t=0,o){let s;if(!(t>cTe)){if(t++,tm(r)||tm(e)||m6(e))s=ER(e);else if(rm(r)){if(s=r.slice(),rm(e))for(let a=0,i=e.length;a<i;a++)s.push(ER(e[a]));else if(Nu(e)){let a=Object.keys(e);for(let i=0,n=a.length;i<n;i++){let l=a[i];s[l]=ER(e[l])}}}else if(Nu(r))if(Nu(e)){if(!uTe(r,e))return e;s=Object.assign({},r);let a=Object.keys(e);for(let i=0,n=a.length;i<n;i++){let l=a[i],c=e[l];if(tm(c))typeof c>"u"?delete s[l]:s[l]=c;else{let u=s[l],f=c;if(h6(r,l,o)||h6(e,l,o))delete s[l];else{if(Nu(u)&&Nu(f)){let _=o.get(u)||[],m=o.get(f)||[];_.push({obj:r,key:l}),m.push({obj:e,key:l}),o.set(u,_),o.set(f,m)}s[l]=E6(s[l],c,t,o)}}}}else s=e;return s}}function h6(r,e,t){let o=t.get(r[e])||[];for(let s=0,a=o.length;s<a;s++){let i=o[s];if(i.key===e&&i.obj===r)return!0}return!1}function rm(r){return Array.isArray(r)}function m6(r){return typeof r=="function"}function Nu(r){return!tm(r)&&!rm(r)&&!m6(r)&&typeof r=="object"}function tm(r){return typeof r=="string"||typeof r=="number"||typeof r=="boolean"||typeof r>"u"||r instanceof Date||r instanceof RegExp||r===null}function uTe(r,e){return!(!_R(r)||!_R(e))}var cTe,T6=p(()=>{d6();cTe=20});function S6(r,e){let t,o=new Promise(function(a,i){t=setTimeout(function(){i(new Cu("Operation timed out."))},e)});return Promise.race([r,o]).then(s=>(clearTimeout(t),s),s=>{throw clearTimeout(t),s})}var Cu,g6=p(()=>{Cu=class r extends Error{constructor(e){super(e),Object.setPrototypeOf(this,r.prototype)}}});function mR(r,e){return typeof e=="string"?r===e:!!r.match(e)}function v6(r,e){if(!e)return!1;for(let t of e)if(mR(r,t))return!0;return!1}var y6=p(()=>{});function O6(r){return typeof r=="function"&&typeof r.__original=="function"&&typeof r.__unwrap=="function"&&r.__wrapped===!0}var A6=p(()=>{});var nm,R6=p(()=>{nm=class{constructor(){this._promise=new Promise((e,t)=>{this._resolve=e,this._reject=t})}get promise(){return this._promise}resolve(e){this._resolve(e)}reject(e){this._reject(e)}}});var im,N6=p(()=>{R6();im=class{constructor(e,t){this._callback=e,this._that=t,this._isCalled=!1,this._deferred=new nm}get isCalled(){return this._isCalled}get promise(){return this._deferred.promise}call(...e){if(!this._isCalled){this._isCalled=!0;try{Promise.resolve(this._callback.call(this._that,...e)).then(t=>this._deferred.resolve(t),t=>this._deferred.reject(t))}catch(t){this._deferred.reject(t)}}return this._deferred.promise}}});function C6(r,e){return new Promise(t=>{me.with(PE(me.active()),()=>{r.export(e,o=>{t(o)})})})}var P6=p(()=>{P();Tu()});var I6={};Ae(I6,{AlwaysOffSampler:()=>Po,AlwaysOnSampler:()=>mi,AnchoredClock:()=>wE,BindOnceFuture:()=>im,CompositePropagator:()=>WE,DEFAULT_ATTRIBUTE_COUNT_LIMIT:()=>vu,DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT:()=>gu,DEFAULT_ENVIRONMENT:()=>yu,DEFAULT_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT:()=>tR,DEFAULT_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT:()=>rR,ExportResultCode:()=>XE,ParentBasedSampler:()=>ZE,RPCType:()=>QE,RandomIdGenerator:()=>Da,SDK_INFO:()=>jE,TRACE_PARENT_HEADER:()=>Au,TRACE_STATE_HEADER:()=>Ru,TimeoutError:()=>Cu,TraceIdRatioBasedSampler:()=>em,TraceState:()=>ka,TracesSamplerValues:()=>wa,VERSION:()=>qE,W3CBaggagePropagator:()=>ME,W3CTraceContextPropagator:()=>JE,_globalThis:()=>VE,addHrTimes:()=>lR,baggageUtils:()=>fTe,callWithTimeout:()=>S6,deleteRPCMetadata:()=>i6,getEnv:()=>kE,getEnvWithoutDefaults:()=>BE,getRPCMetadata:()=>o6,getTimeOrigin:()=>zE,globalErrorHandler:()=>UE,hexToBase64:()=>GE,hexToBinary:()=>FE,hrTime:()=>aR,hrTimeDuration:()=>G4,hrTimeToMicroseconds:()=>Y4,hrTimeToMilliseconds:()=>j4,hrTimeToNanoseconds:()=>q4,hrTimeToTimeStamp:()=>H4,internal:()=>pTe,isAttributeKey:()=>WA,isAttributeValue:()=>JA,isTimeInput:()=>K4,isTimeInputHrTime:()=>$E,isTracingSuppressed:()=>xa,isUrlIgnored:()=>v6,isWrapped:()=>O6,loggingErrorHandler:()=>DE,merge:()=>_6,millisToHrTime:()=>Ua,otperformance:()=>Ei,parseEnvironment:()=>Ou,parseTraceParent:()=>fR,sanitizeAttributes:()=>A4,setGlobalErrorHandler:()=>P4,setRPCMetadata:()=>n6,suppressTracing:()=>PE,timeInputToHrTime:()=>F4,unrefTimer:()=>YE,unsuppressTracing:()=>S4,urlMatches:()=>mR});var fTe,pTe,L6=p(()=>{y4();O4();N4();ZA();QA();z4();iR();$4();XA();sR();X4();r6();s6();dR();hR();a6();l6();Tu();uR();nR();T6();eR();g6();y6();A6();N6();oR();P6();fTe={getKeyPairs:xE,serializeKeyPairs:bE,parseKeyPairsIntoRecord:v4,parsePairKeyValue:Su},pTe={_export:C6}});var D6=T(om=>{"use strict";Object.defineProperty(om,"__esModule",{value:!0});om.getOtlpGrpcConfigurationFromEnv=void 0;var b6=(L6(),ee(I6)),Pu=Eu(),dTe=(Zs(),ee(f3)),hTe=V("fs"),_Te=V("path"),M6=(P(),ee(ot));function TR(r,e){if(r!=null&&r!=="")return r;if(e!=null&&e!=="")return e}function ETe(r){var e,t;let o=(e=process.env[`OTEL_EXPORTER_OTLP_${r}_HEADERS`])===null||e===void 0?void 0:e.trim(),s=(t=process.env.OTEL_EXPORTER_OTLP_HEADERS)===null||t===void 0?void 0:t.trim(),a=b6.baggageUtils.parseKeyPairsIntoRecord(o),i=b6.baggageUtils.parseKeyPairsIntoRecord(s);if(Object.keys(a).length===0&&Object.keys(i).length===0)return;let n=Object.assign({},i,a),l=(0,Pu.createEmptyMetadata)();for(let[c,u]of Object.entries(n))l.set(c,u);return l}function mTe(r){let e=ETe(r);if(e!=null)return()=>e}function TTe(r){var e,t;let o=(e=process.env[`OTEL_EXPORTER_OTLP_${r}_ENDPOINT`])===null||e===void 0?void 0:e.trim(),s=(t=process.env.OTEL_EXPORTER_OTLP_ENDPOINT)===null||t===void 0?void 0:t.trim();return TR(o,s)}function STe(r){var e,t;let o=(e=process.env[`OTEL_EXPORTER_OTLP_${r}_INSECURE`])===null||e===void 0?void 0:e.toLowerCase().trim(),s=(t=process.env.OTEL_EXPORTER_OTLP_INSECURE)===null||t===void 0?void 0:t.toLowerCase().trim();return TR(o,s)==="true"}function SR(r,e,t){var o,s;let a=(o=process.env[r])===null||o===void 0?void 0:o.trim(),i=(s=process.env[e])===null||s===void 0?void 0:s.trim(),n=TR(a,i);if(n!=null)try{return hTe.readFileSync(_Te.resolve(process.cwd(),n))}catch{M6.diag.warn(t);return}else return}function gTe(r){return SR(`OTEL_EXPORTER_OTLP_${r}_CLIENT_CERTIFICATE`,"OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE","Failed to read client certificate chain file")}function vTe(r){return SR(`OTEL_EXPORTER_OTLP_${r}_CLIENT_KEY`,"OTEL_EXPORTER_OTLP_CLIENT_KEY","Failed to read client certificate private key file")}function x6(r){return SR(`OTEL_EXPORTER_OTLP_${r}_CERTIFICATE`,"OTEL_EXPORTER_OTLP_CERTIFICATE","Failed to read root certificate file")}function w6(r){let e=vTe(r),t=gTe(r),o=x6(r),s=e!=null&&t!=null;return o!=null&&!s?(M6.diag.warn("Client key and certificate must both be provided, but one was missing - attempting to create credentials from just the root certificate"),(0,Pu.createSslCredentials)(x6(r))):(0,Pu.createSslCredentials)(o,e,t)}function yTe(r){return STe(r)?(0,Pu.createInsecureCredentials)():w6(r)}function OTe(r){return Object.assign(Object.assign({},(0,dTe.getSharedConfigurationFromEnvironment)(r)),{metadata:mTe(r),url:TTe(r),credentials:e=>e.startsWith("http://")?()=>(0,Pu.createInsecureCredentials)():e.startsWith("https://")?()=>w6(r):()=>yTe(r)})}om.getOtlpGrpcConfigurationFromEnv=OTe});var k6=T(sm=>{"use strict";Object.defineProperty(sm,"__esModule",{value:!0});sm.convertLegacyOtlpGrpcOptions=void 0;var ATe=(P(),ee(ot)),U6=T4(),RTe=Eu(),NTe=D6();function CTe(r,e){r.headers&&ATe.diag.warn("Headers cannot be set when using grpc");let t=r.credentials;return(0,U6.mergeOtlpGrpcConfigurationWithDefaults)({url:r.url,metadata:()=>{var o;return(o=r.metadata)!==null&&o!==void 0?o:(0,RTe.createEmptyMetadata)()},compression:r.compression,timeoutMillis:r.timeoutMillis,concurrencyLimit:r.concurrencyLimit,credentials:t!=null?()=>t:void 0},(0,NTe.getOtlpGrpcConfigurationFromEnv)(e),(0,U6.getOtlpGrpcDefaultConfiguration)())}sm.convertLegacyOtlpGrpcOptions=CTe});var B6=T(am=>{"use strict";Object.defineProperty(am,"__esModule",{value:!0});am.createOtlpGrpcExportDelegate=void 0;var PTe=(_n(),ee(mc)),ITe=Eu();function LTe(r,e,t,o){return(0,PTe.createOtlpNetworkExportDelegate)(r,e,(0,ITe.createOtlpGrpcExporterTransport)({address:r.url,compression:r.compression,credentials:r.credentials,metadata:r.metadata,grpcName:t,grpcPath:o}))}am.createOtlpGrpcExportDelegate=LTe});var gR=T(Ba=>{"use strict";Object.defineProperty(Ba,"__esModule",{value:!0});Ba.createOtlpGrpcExportDelegate=Ba.convertLegacyOtlpGrpcOptions=void 0;var bTe=k6();Object.defineProperty(Ba,"convertLegacyOtlpGrpcOptions",{enumerable:!0,get:function(){return bTe.convertLegacyOtlpGrpcOptions}});var xTe=B6();Object.defineProperty(Ba,"createOtlpGrpcExportDelegate",{enumerable:!0,get:function(){return xTe.createOtlpGrpcExportDelegate}})});var F6=T(lm=>{"use strict";Object.defineProperty(lm,"__esModule",{value:!0});lm.OTLPLogExporter=void 0;var V6=gR(),MTe=(Qn(),ee(fv)),wTe=(_n(),ee(mc)),vR=class extends wTe.OTLPExporterBase{constructor(e={}){super((0,V6.createOtlpGrpcExportDelegate)((0,V6.convertLegacyOtlpGrpcOptions)(e,"LOGS"),MTe.ProtobufLogsSerializer,"LogsExportService","/opentelemetry.proto.collector.logs.v1.LogsService/Export"))}};lm.OTLPLogExporter=vR});var G6=T(Lo=>{"use strict";var DTe=Lo&&Lo.__createBinding||(Object.create?function(r,e,t,o){o===void 0&&(o=t),Object.defineProperty(r,o,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,o){o===void 0&&(o=t),r[o]=e[t]}),UTe=Lo&&Lo.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&DTe(e,r,t)};Object.defineProperty(Lo,"__esModule",{value:!0});UTe(F6(),Lo)});var H6,q6=p(()=>{H6="0.56.0"});var Va,j6=p(()=>{_n();Qn();Zs();q6();Va=class extends Br{constructor(e={}){super(Hr(qr(e,"LOGS","v1/logs",{"User-Agent":`OTel-OTLP-Exporter-JavaScript/${H6}`,"Content-Type":"application/x-protobuf"}),Ch))}}});var Y6=p(()=>{j6()});var K6=p(()=>{Y6()});var z6={};Ae(z6,{OTLPLogExporter:()=>Va});var $6=p(()=>{K6()});var X6,W6=p(()=>{X6="0.56.0"});var Fa,J6=p(()=>{_n();Qn();W6();Zs();Fa=class extends Br{constructor(e={}){super(Hr(qr(e,"TRACES","v1/traces",{"User-Agent":`OTel-OTLP-Exporter-JavaScript/${X6}`,"Content-Type":"application/x-protobuf"}),Ph))}}});var Q6=p(()=>{J6()});var Z6=p(()=>{Q6()});var eY={};Ae(eY,{OTLPTraceExporter:()=>Fa});var tY=p(()=>{Z6()});var rY,nY=p(()=>{rY="0.56.0"});var yR,iY=p(()=>{_n();nY();Qn();Zs();yR=class extends Br{constructor(e={}){super(Hr(qr(e,"TRACES","v1/traces",{"User-Agent":`OTel-OTLP-Exporter-JavaScript/${rY}`,"Content-Type":"application/json"}),Ih))}}});var oY=p(()=>{iY()});var sY=p(()=>{oY()});var aY={};Ae(aY,{OTLPTraceExporter:()=>yR});var lY=p(()=>{sY()});var uY=T(cm=>{"use strict";Object.defineProperty(cm,"__esModule",{value:!0});cm.OTLPTraceExporter=void 0;var cY=gR(),kTe=(Qn(),ee(fv)),BTe=(_n(),ee(mc)),OR=class extends BTe.OTLPExporterBase{constructor(e={}){super((0,cY.createOtlpGrpcExportDelegate)((0,cY.convertLegacyOtlpGrpcOptions)(e,"TRACES"),kTe.ProtobufTraceSerializer,"TraceExportService","/opentelemetry.proto.collector.trace.v1.TraceService/Export"))}};cm.OTLPTraceExporter=OR});var fY=T(bo=>{"use strict";var VTe=bo&&bo.__createBinding||(Object.create?function(r,e,t,o){o===void 0&&(o=t),Object.defineProperty(r,o,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,o){o===void 0&&(o=t),r[o]=e[t]}),FTe=bo&&bo.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&VTe(e,r,t)};Object.defineProperty(bo,"__esModule",{value:!0});FTe(uY(),bo)});var um,pY=p(()=>{(function(r){r.AlwaysOff="always_off",r.AlwaysOn="always_on",r.ParentBasedAlwaysOff="parentbased_always_off",r.ParentBasedAlwaysOn="parentbased_always_on",r.ParentBasedTraceIdRatio="parentbased_traceidratio",r.TraceIdRatio="traceidratio"})(um||(um={}))});function qTe(r){return HTe.indexOf(r)>-1}function YTe(r){return jTe.indexOf(r)>-1}function zTe(r){return KTe.indexOf(r)>-1}function WTe(r,e,t){if(typeof t[r]>"u")return;let o=String(t[r]);e[r]=o.toLowerCase()==="true"}function JTe(r,e,t,o=-1/0,s=1/0){if(typeof t[r]<"u"){let a=Number(t[r]);isNaN(a)||(a<o?e[r]=o:a>s?e[r]=s:e[r]=a)}}function QTe(r,e,t,o=GTe){let s=t[r];typeof s=="string"&&(e[r]=s.split(o).map(a=>a.trim()))}function eSe(r,e,t){let o=t[r];if(typeof o=="string"){let s=ZTe[o.toUpperCase()];s!=null&&(e[r]=s)}}function dY(r){let e={};for(let t in NR){let o=t;switch(o){case"OTEL_LOG_LEVEL":eSe(o,e,r);break;default:if(qTe(o))WTe(o,e,r);else if(YTe(o))JTe(o,e,r);else if(zTe(o))QTe(o,e,r);else{let s=r[o];typeof s<"u"&&s!==null&&(e[o]=String(s))}}}return e}var GTe,HTe,jTe,KTe,AR,RR,$Te,XTe,NR,ZTe,hY=p(()=>{P();pY();GTe=",",HTe=["OTEL_SDK_DISABLED"];jTe=["OTEL_BSP_EXPORT_TIMEOUT","OTEL_BSP_MAX_EXPORT_BATCH_SIZE","OTEL_BSP_MAX_QUEUE_SIZE","OTEL_BSP_SCHEDULE_DELAY","OTEL_BLRP_EXPORT_TIMEOUT","OTEL_BLRP_MAX_EXPORT_BATCH_SIZE","OTEL_BLRP_MAX_QUEUE_SIZE","OTEL_BLRP_SCHEDULE_DELAY","OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_EVENT_COUNT_LIMIT","OTEL_SPAN_LINK_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT","OTEL_EXPORTER_OTLP_TIMEOUT","OTEL_EXPORTER_OTLP_TRACES_TIMEOUT","OTEL_EXPORTER_OTLP_METRICS_TIMEOUT","OTEL_EXPORTER_OTLP_LOGS_TIMEOUT","OTEL_EXPORTER_JAEGER_AGENT_PORT"];KTe=["OTEL_NO_PATCH_MODULES","OTEL_PROPAGATORS","OTEL_SEMCONV_STABILITY_OPT_IN"];AR=1/0,RR=128,$Te=128,XTe=128,NR={OTEL_SDK_DISABLED:!1,CONTAINER_NAME:"",ECS_CONTAINER_METADATA_URI_V4:"",ECS_CONTAINER_METADATA_URI:"",HOSTNAME:"",KUBERNETES_SERVICE_HOST:"",NAMESPACE:"",OTEL_BSP_EXPORT_TIMEOUT:3e4,OTEL_BSP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BSP_MAX_QUEUE_SIZE:2048,OTEL_BSP_SCHEDULE_DELAY:5e3,OTEL_BLRP_EXPORT_TIMEOUT:3e4,OTEL_BLRP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BLRP_MAX_QUEUE_SIZE:2048,OTEL_BLRP_SCHEDULE_DELAY:5e3,OTEL_EXPORTER_JAEGER_AGENT_HOST:"",OTEL_EXPORTER_JAEGER_AGENT_PORT:6832,OTEL_EXPORTER_JAEGER_ENDPOINT:"",OTEL_EXPORTER_JAEGER_PASSWORD:"",OTEL_EXPORTER_JAEGER_USER:"",OTEL_EXPORTER_OTLP_ENDPOINT:"",OTEL_EXPORTER_OTLP_TRACES_ENDPOINT:"",OTEL_EXPORTER_OTLP_METRICS_ENDPOINT:"",OTEL_EXPORTER_OTLP_LOGS_ENDPOINT:"",OTEL_EXPORTER_OTLP_HEADERS:"",OTEL_EXPORTER_OTLP_TRACES_HEADERS:"",OTEL_EXPORTER_OTLP_METRICS_HEADERS:"",OTEL_EXPORTER_OTLP_LOGS_HEADERS:"",OTEL_EXPORTER_OTLP_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_TRACES_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_METRICS_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_LOGS_TIMEOUT:1e4,OTEL_EXPORTER_ZIPKIN_ENDPOINT:"http://localhost:9411/api/v2/spans",OTEL_LOG_LEVEL:H.INFO,OTEL_NO_PATCH_MODULES:[],OTEL_PROPAGATORS:["tracecontext","baggage"],OTEL_RESOURCE_ATTRIBUTES:"",OTEL_SERVICE_NAME:"",OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT:AR,OTEL_ATTRIBUTE_COUNT_LIMIT:RR,OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT:AR,OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT:RR,OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT:AR,OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT:RR,OTEL_SPAN_EVENT_COUNT_LIMIT:128,OTEL_SPAN_LINK_COUNT_LIMIT:128,OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT:$Te,OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT:XTe,OTEL_TRACES_EXPORTER:"",OTEL_TRACES_SAMPLER:um.ParentBasedAlwaysOn,OTEL_TRACES_SAMPLER_ARG:"",OTEL_LOGS_EXPORTER:"",OTEL_EXPORTER_OTLP_INSECURE:"",OTEL_EXPORTER_OTLP_TRACES_INSECURE:"",OTEL_EXPORTER_OTLP_METRICS_INSECURE:"",OTEL_EXPORTER_OTLP_LOGS_INSECURE:"",OTEL_EXPORTER_OTLP_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_COMPRESSION:"",OTEL_EXPORTER_OTLP_TRACES_COMPRESSION:"",OTEL_EXPORTER_OTLP_METRICS_COMPRESSION:"",OTEL_EXPORTER_OTLP_LOGS_COMPRESSION:"",OTEL_EXPORTER_OTLP_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_TRACES_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_LOGS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE:"cumulative",OTEL_SEMCONV_STABILITY_OPT_IN:[]};ZTe={ALL:H.ALL,VERBOSE:H.VERBOSE,DEBUG:H.DEBUG,INFO:H.INFO,WARN:H.WARN,ERROR:H.ERROR,NONE:H.NONE}});function Iu(){let r=dY(process.env);return Object.assign({},NR,r)}var _Y=p(()=>{hY()});var mY=p(()=>{_Y()});var TY=p(()=>{mY()});function Lu(r){return r[0]*1e6+r[1]/1e3}var aSe,lSe,sHe,aHe,SY=p(()=>{aSe=9,lSe=6,sHe=Math.pow(10,lSe),aHe=Math.pow(10,aSe)});var sn,gY=p(()=>{(function(r){r[r.SUCCESS=0]="SUCCESS",r[r.FAILED=1]="FAILED"})(sn||(sn={}))});var fm=p(()=>{SY();gY();TY()});import*as cSe from"http";import*as uSe from"https";import*as vY from"url";function xo(r,e){let t=vY.parse(r),o=Object.assign({method:"POST",headers:Object.assign({"Content-Type":"application/json"},e)},t);return function(a,i){if(a.length===0)return S.debug("Zipkin send with empty spans"),i({code:sn.SUCCESS});let{request:n}=o.protocol==="http:"?cSe:uSe,l=n(o,u=>{let f="";u.on("data",_=>{f+=_}),u.on("end",()=>{let _=u.statusCode||0;return S.debug(`Zipkin response status code: ${_}, body: ${f}`),_<400?i({code:sn.SUCCESS}):i({code:sn.FAILED,error:new Error(`Got unexpected status code from zipkin: ${_}`)})})});l.on("error",u=>i({code:sn.FAILED,error:u}));let c=JSON.stringify(a);S.debug(`Zipkin request payload: ${c}`),l.write(c,"utf8"),l.end()}}var yY=p(()=>{P();fm()});var OY=p(()=>{yY()});var CR=p(()=>{OY()});var Mo,AY=p(()=>{(function(r){r.CLIENT="CLIENT",r.SERVER="SERVER",r.CONSUMER="CONSUMER",r.PRODUCER="PRODUCER"})(Mo||(Mo={}))});function CY(r,e,t,o){return{traceId:r.spanContext().traceId,parentId:r.parentSpanId,name:r.name,id:r.spanContext().spanId,kind:pSe[r.kind],timestamp:Lu(r.startTime),duration:Math.round(Lu(r.duration)),localEndpoint:{serviceName:e},tags:dSe(r,t,o),annotations:r.events.length?hSe(r.events):void 0}}function dSe({attributes:r,resource:e,status:t,droppedAttributesCount:o,droppedEventsCount:s,droppedLinksCount:a},i,n){let l={};for(let c of Object.keys(r))l[c]=String(r[c]);return t.code!==br.UNSET&&(l[i]=String(br[t.code])),t.code===br.ERROR&&t.message&&(l[n]=t.message),o&&(l["otel.dropped_attributes_count"]=String(o)),s&&(l["otel.dropped_events_count"]=String(s)),a&&(l["otel.dropped_links_count"]=String(a)),Object.keys(e.attributes).forEach(c=>l[c]=String(e.attributes[c])),l}function hSe(r){return r.map(e=>({timestamp:Math.round(Lu(e.time)),value:e.name}))}var pSe,RY,NY,PY=p(()=>{P();fm();AY();pSe={[qt.CLIENT]:Mo.CLIENT,[qt.SERVER]:Mo.SERVER,[qt.CONSUMER]:Mo.CONSUMER,[qt.PRODUCER]:Mo.PRODUCER,[qt.INTERNAL]:void 0},RY="otel.status_code",NY="error"});function IY(r){return function(){return r()}}var LY=p(()=>{});var pm,bY=p(()=>{P();fm();CR();PY();Ve();LY();pm=class{constructor(e={}){this.DEFAULT_SERVICE_NAME="OpenTelemetry Service",this._sendingPromises=[],this._urlStr=e.url||Iu().OTEL_EXPORTER_ZIPKIN_ENDPOINT,this._send=xo(this._urlStr,e.headers),this._serviceName=e.serviceName,this._statusCodeTagName=e.statusCodeTagName||RY,this._statusDescriptionTagName=e.statusDescriptionTagName||NY,this._isShutdown=!1,typeof e.getExportRequestHeaders=="function"?this._getHeaders=IY(e.getExportRequestHeaders):this._beforeSend=function(){}}export(e,t){let o=String(this._serviceName||e[0].resource.attributes[at]||this.DEFAULT_SERVICE_NAME);if(S.debug("Zipkin exporter export"),this._isShutdown){setTimeout(()=>t({code:sn.FAILED,error:new Error("Exporter has been shutdown")}));return}let s=new Promise(i=>{this._sendSpans(e,o,n=>{i(),t(n)})});this._sendingPromises.push(s);let a=()=>{let i=this._sendingPromises.indexOf(s);this._sendingPromises.splice(i,1)};s.then(a,a)}shutdown(){return S.debug("Zipkin exporter shutdown"),this._isShutdown=!0,this.forceFlush()}forceFlush(){return new Promise((e,t)=>{Promise.all(this._sendingPromises).then(()=>{e()},t)})}_beforeSend(){this._getHeaders&&(this._send=xo(this._urlStr,this._getHeaders()))}_sendSpans(e,t,o){let s=e.map(a=>CY(a,String(a.attributes[at]||a.resource.attributes[at]||t),this._statusCodeTagName,this._statusDescriptionTagName));return this._beforeSend(),this._send(s,a=>{if(o)return o(a)})}}});var xY={};Ae(xY,{ZipkinExporter:()=>pm,prepareSend:()=>xo});var MY=p(()=>{CR();bY()});var kY=T(an=>{"use strict";Object.defineProperty(an,"__esModule",{value:!0});an.getSpanProcessorsFromEnv=an.getOtlpProtocolFromEnv=an.filterBlanksAndNulls=an.getResourceDetectorsFromEnv=void 0;var wo=(P(),ee(ot)),hm=(xr(),ee(If)),wY=(tY(),ee(eY)),_Se=(lY(),ee(aY)),ESe=fY(),mSe=(MY(),ee(xY)),bu=(Hd(),ee(Gd)),dm=(qi(),ee(Ds)),TSe="env",SSe="host",gSe="os",vSe="process",ySe="serviceinstance";function OSe(){var r,e;let t=new Map([[TSe,bu.envDetectorSync],[SSe,bu.hostDetectorSync],[gSe,bu.osDetectorSync],[ySe,bu.serviceInstanceIdDetectorSync],[vSe,bu.processDetectorSync]]),o=(e=(r=process.env.OTEL_NODE_RESOURCE_DETECTORS)===null||r===void 0?void 0:r.split(","))!==null&&e!==void 0?e:["all"];return o.includes("all")?[...t.values()].flat():o.includes("none")?[]:o.flatMap(s=>{let a=t.get(s);return a||wo.diag.warn(`Invalid resource detector "${s}" specified in the environment variable OTEL_NODE_RESOURCE_DETECTORS`),a||[]})}an.getResourceDetectorsFromEnv=OSe;function DY(r){return r.map(e=>e.trim()).filter(e=>e!=="null"&&e!=="")}an.filterBlanksAndNulls=DY;function UY(){var r,e,t;let o=(0,hm.getEnvWithoutDefaults)();return(t=(e=(r=o.OTEL_EXPORTER_OTLP_TRACES_PROTOCOL)!==null&&r!==void 0?r:o.OTEL_EXPORTER_OTLP_PROTOCOL)!==null&&e!==void 0?e:(0,hm.getEnv)().OTEL_EXPORTER_OTLP_TRACES_PROTOCOL)!==null&&t!==void 0?t:(0,hm.getEnv)().OTEL_EXPORTER_OTLP_PROTOCOL}an.getOtlpProtocolFromEnv=UY;function ASe(){let r=UY();switch(r){case"grpc":return new ESe.OTLPTraceExporter;case"http/json":return new _Se.OTLPTraceExporter;case"http/protobuf":return new wY.OTLPTraceExporter;default:return wo.diag.warn(`Unsupported OTLP traces protocol: ${r}. Using http/protobuf.`),new wY.OTLPTraceExporter}}function RSe(){try{let{JaegerExporter:r}=V("@opentelemetry/exporter-jaeger");return new r}catch(r){throw new Error(`Could not instantiate JaegerExporter. This could be due to the JaegerExporter's lack of support for bundling. If possible, use @opentelemetry/exporter-trace-otlp-proto instead. Original Error: ${r}`)}}function NSe(){var r;let e=new Map([["otlp",()=>ASe()],["zipkin",()=>new mSe.ZipkinExporter],["console",()=>new dm.ConsoleSpanExporter],["jaeger",()=>RSe()]]),t=[],o=[],s=DY(Array.from(new Set((0,hm.getEnv)().OTEL_TRACES_EXPORTER.split(","))));if(s[0]==="none")return wo.diag.warn('OTEL_TRACES_EXPORTER contains "none". SDK will not be initialized.'),[];s.length===0?(wo.diag.warn("OTEL_TRACES_EXPORTER is empty. Using default otlp exporter."),s=["otlp"]):s.length>1&&s.includes("none")&&(wo.diag.warn('OTEL_TRACES_EXPORTER contains "none" along with other exporters. Using default otlp exporter.'),s=["otlp"]);for(let a of s){let i=(r=e.get(a))===null||r===void 0?void 0:r();i?t.push(i):wo.diag.warn(`Unrecognized OTEL_TRACES_EXPORTER value: ${a}.`)}for(let a of t)a instanceof dm.ConsoleSpanExporter?o.push(new dm.SimpleSpanProcessor(a)):o.push(new dm.BatchSpanProcessor(a));return t.length===0&&wo.diag.warn("Unable to set up trace exporter(s) due to invalid exporter and/or protocol values."),o}an.getSpanProcessorsFromEnv=NSe});var VY=T(_m=>{"use strict";Object.defineProperty(_m,"__esModule",{value:!0});_m.NodeSDK=void 0;var ln=(P(),ee(ot)),CSe=(El(),ee(vw)),PSe=(EF(),ee(_F)),Ga=(Hd(),ee(Gd)),xu=(FT(),ee(VT)),ISe=(E3(),ee(_3)),LSe=G6(),PR=($6(),ee(z6)),bSe=(Hp(),ee(iS)),xSe=(qi(),ee(Ds)),MSe=XS(),wSe=(Ve(),ee(rM)),BY=(xr(),ee(If)),IR=kY(),LR=class{constructor(e={}){var t,o,s,a,i,n,l;let c=(0,BY.getEnv)(),u=(0,BY.getEnvWithoutDefaults)();if(c.OTEL_SDK_DISABLED&&(this._disabled=!0),u.OTEL_LOG_LEVEL&&ln.diag.setLogger(new ln.DiagConsoleLogger,{logLevel:u.OTEL_LOG_LEVEL}),this._configuration=e,this._resource=(t=e.resource)!==null&&t!==void 0?t:new Ga.Resource({}),this._mergeResourceWithDefaults=(o=e.mergeResourceWithDefaults)!==null&&o!==void 0?o:!0,this._autoDetectResources=(s=e.autoDetectResources)!==null&&s!==void 0?s:!0,this._autoDetectResources?e.resourceDetectors!=null?this._resourceDetectors=e.resourceDetectors:process.env.OTEL_NODE_RESOURCE_DETECTORS!=null?this._resourceDetectors=(0,IR.getResourceDetectorsFromEnv)():this._resourceDetectors=[Ga.envDetector,Ga.processDetector,Ga.hostDetector]:this._resourceDetectors=[],this._serviceName=e.serviceName,e.traceExporter||e.spanProcessor||e.spanProcessors){let f={};e.sampler&&(f.sampler=e.sampler),e.spanLimits&&(f.spanLimits=e.spanLimits),e.idGenerator&&(f.idGenerator=e.idGenerator),e.spanProcessor&&ln.diag.warn("The 'spanProcessor' option is deprecated. Please use 'spanProcessors' instead.");let _=(a=e.spanProcessor)!==null&&a!==void 0?a:new xSe.BatchSpanProcessor(e.traceExporter),m=(i=e.spanProcessors)!==null&&i!==void 0?i:[_];this._tracerProviderConfig={tracerConfig:f,spanProcessors:m,contextManager:e.contextManager,textMapPropagator:e.textMapPropagator}}if(e.logRecordProcessors?this._loggerProviderConfig={logRecordProcessors:e.logRecordProcessors}:e.logRecordProcessor?(this._loggerProviderConfig={logRecordProcessors:[e.logRecordProcessor]},ln.diag.warn("The 'logRecordProcessor' option is deprecated. Please use 'logRecordProcessors' instead.")):this.configureLoggerProviderFromEnv(),e.metricReader||e.views){let f={};e.metricReader&&(f.reader=e.metricReader),e.views&&(f.views=e.views),this._meterProviderConfig=f}this._instrumentations=(l=(n=e.instrumentations)===null||n===void 0?void 0:n.flat())!==null&&l!==void 0?l:[]}start(){var e,t,o,s,a,i;if(this._disabled)return;if((0,PSe.registerInstrumentations)({instrumentations:this._instrumentations}),this._autoDetectResources){let l={detectors:this._resourceDetectors};this._resource=this._resource.merge((0,Ga.detectResourcesSync)(l))}this._resource=this._serviceName===void 0?this._resource:this._resource.merge(new Ga.Resource({[wSe.SEMRESATTRS_SERVICE_NAME]:this._serviceName}));let n=this._tracerProviderConfig?this._tracerProviderConfig.spanProcessors:(0,IR.getSpanProcessorsFromEnv)();if(this._tracerProvider=new MSe.NodeTracerProvider(Object.assign(Object.assign({},this._configuration),{resource:this._resource,mergeResourceWithDefaults:this._mergeResourceWithDefaults,spanProcessors:n})),n.length>0&&this._tracerProvider.register({contextManager:(t=(e=this._tracerProviderConfig)===null||e===void 0?void 0:e.contextManager)!==null&&t!==void 0?t:(o=this._configuration)===null||o===void 0?void 0:o.contextManager,propagator:(s=this._tracerProviderConfig)===null||s===void 0?void 0:s.textMapPropagator}),this._loggerProviderConfig){let l=new xu.LoggerProvider({resource:this._resource,mergeResourceWithDefaults:this._mergeResourceWithDefaults});for(let c of this._loggerProviderConfig.logRecordProcessors)l.addLogRecordProcessor(c);this._loggerProvider=l,CSe.logs.setGlobalLoggerProvider(l)}if(this._meterProviderConfig){let l=[];this._meterProviderConfig.reader&&l.push(this._meterProviderConfig.reader);let c=new bSe.MeterProvider({resource:this._resource,views:(i=(a=this._meterProviderConfig)===null||a===void 0?void 0:a.views)!==null&&i!==void 0?i:[],readers:l,mergeResourceWithDefaults:this._mergeResourceWithDefaults});this._meterProvider=c,ln.metrics.setGlobalMeterProvider(c);for(let u of this._instrumentations)u.setMeterProvider(ln.metrics.getMeterProvider())}}shutdown(){let e=[];return this._tracerProvider&&e.push(this._tracerProvider.shutdown()),this._loggerProvider&&e.push(this._loggerProvider.shutdown()),this._meterProvider&&e.push(this._meterProvider.shutdown()),Promise.all(e).then(()=>{})}configureLoggerProviderFromEnv(){var e;let t=(e=process.env.OTEL_LOGS_EXPORTER)!==null&&e!==void 0?e:"",o=(0,IR.filterBlanksAndNulls)(t.split(","));if(o.length===0&&(ln.diag.info("OTEL_LOGS_EXPORTER is empty. Using default otlp exporter."),o.push("otlp")),o.includes("none")){ln.diag.info('OTEL_LOGS_EXPORTER contains "none". Logger provider will not be initialized.');return}let s=[];o.forEach(a=>{var i,n;if(a==="otlp"){let l=(n=(i=process.env.OTEL_EXPORTER_OTLP_LOGS_PROTOCOL)!==null&&i!==void 0?i:process.env.OTEL_EXPORTER_OTLP_PROTOCOL)===null||n===void 0?void 0:n.trim();switch(l){case"grpc":s.push(new LSe.OTLPLogExporter);break;case"http/json":s.push(new ISe.OTLPLogExporter);break;case"http/protobuf":s.push(new PR.OTLPLogExporter);break;case void 0:case"":s.push(new PR.OTLPLogExporter);break;default:ln.diag.warn(`Unsupported OTLP logs protocol: "${l}". Using http/protobuf.`),s.push(new PR.OTLPLogExporter)}}else a==="console"?s.push(new xu.ConsoleLogRecordExporter):ln.diag.warn(`Unsupported OTEL_LOGS_EXPORTER value: "${a}". Supported values are: otlp, console, none.`)}),s.length>0&&(this._loggerProviderConfig={logRecordProcessors:s.map(a=>a instanceof xu.ConsoleLogRecordExporter?new xu.SimpleLogRecordProcessor(a):new xu.BatchLogRecordProcessor(a))})}};_m.NodeSDK=LR});var FY=T(Xe=>{"use strict";Object.defineProperty(Xe,"__esModule",{value:!0});Xe.NodeSDK=Xe.tracing=Xe.resources=Xe.node=Xe.metrics=Xe.logs=Xe.core=Xe.contextBase=Xe.api=void 0;Xe.api=(P(),ee(ot));Xe.contextBase=(P(),ee(ot));Xe.core=(xr(),ee(If));Xe.logs=(FT(),ee(VT));Xe.metrics=(Hp(),ee(iS));Xe.node=XS();Xe.resources=(Hd(),ee(Gd));Xe.tracing=(qi(),ee(Ds));var DSe=VY();Object.defineProperty(Xe,"NodeSDK",{enumerable:!0,get:function(){return DSe.NodeSDK}})});P();import{env as Mu,version as USe}from"process";P();Ve();var nM="1.30.1";Ve();var Ai={[Se]:"opentelemetry",[st]:"node",[ge]:wt,[ve]:nM};var Go;(function(r){r[r.SUCCESS=0]="SUCCESS",r[r.FAILED=1]="FAILED"})(Go||(Go={}));var Ju=class{constructor(){this._promise=new Promise((e,t)=>{this._resolve=e,this._reject=t})}get promise(){return this._promise}resolve(e){this._resolve(e)}reject(e){this._reject(e)}};var rl=class{constructor(e,t){this._callback=e,this._that=t,this._isCalled=!1,this._deferred=new Ju}get isCalled(){return this._isCalled}get promise(){return this._deferred.promise}call(...e){if(!this._isCalled){this._isCalled=!0;try{Promise.resolve(this._callback.call(this._that,...e)).then(t=>this._deferred.resolve(t),t=>this._deferred.reject(t))}catch(t){this._deferred.reject(t)}}return this._deferred.promise}};function Qu(){return`unknown_service:${process.argv0}`}var Ri=class r{constructor(e,t){var o;this._attributes=e,this.asyncAttributesPending=t!=null,this._syncAttributes=(o=this._attributes)!==null&&o!==void 0?o:{},this._asyncAttributesPromise=t==null?void 0:t.then(s=>(this._attributes=Object.assign({},this._attributes,s),this.asyncAttributesPending=!1,s),s=>(S.debug("a resource's async attributes promise rejected: %s",s),this.asyncAttributesPending=!1,{}))}static empty(){return r.EMPTY}static default(){return new r({[at]:Qu(),[ge]:Ai[ge],[Se]:Ai[Se],[ve]:Ai[ve]})}get attributes(){var e;return this.asyncAttributesPending&&S.error("Accessing resource attributes before async attributes settled"),(e=this._attributes)!==null&&e!==void 0?e:{}}async waitForAsyncAttributes(){this.asyncAttributesPending&&await this._asyncAttributesPromise}merge(e){var t;if(!e)return this;let o=Object.assign(Object.assign({},this._syncAttributes),(t=e._syncAttributes)!==null&&t!==void 0?t:e.attributes);if(!this._asyncAttributesPromise&&!e._asyncAttributesPromise)return new r(o);let s=Promise.all([this._asyncAttributesPromise,e._asyncAttributesPromise]).then(([a,i])=>{var n;return Object.assign(Object.assign(Object.assign(Object.assign({},this._syncAttributes),a),(n=e._syncAttributes)!==null&&n!==void 0?n:e.attributes),i)});return new r(o,s)}};Ri.EMPTY=new Ri({});var jY=Nn(FY(),1);P();Qn();var Ha,Do,qa,GY,HY,Em=class{constructor(){Uu(this,qa);Uu(this,Ha);Uu(this,Do);Sm(this,Ha,new rl(gm(this,qa,GY),this)),Sm(this,Do,S.createComponentLogger({namespace:"netlify-span-exporter"}))}convert(e){return Xn(e,{useHex:!0,useLongBits:!1})}export(e,t){if(Bo(this,Do).debug(`export ${e.length} spans`),Bo(this,Ha).isCalled){t({code:Go.FAILED,error:new Error("Exporter has been shutdown")});return}return gm(this,qa,HY).call(this,e,t)}shutdown(){return Bo(this,Do).debug("Shutting down"),Bo(this,Ha).call()}forceFlush(){return Bo(this,Do).debug("force flush"),Promise.resolve()}};Ha=new WeakMap,Do=new WeakMap,qa=new WeakSet,GY=function(){return this.forceFlush()},HY=function(e,t){if(console.log("__nfOTLPTrace",JSON.stringify(this.convert(e))),t)return t({code:Go.SUCCESS})};Mu.NETLIFY_DEBUG_OPENTELEMETRY&&S.setLogger(new Vu,{logLevel:H.ALL,suppressOverrideMessage:!0});var qY,kSe=new Ri({"service.name":SERVICE_NAME??"lambda-function","service.version":SERVICE_VERSION,"process.runtime.name":"nodejs","process.runtime.version":USe.slice(1),"deployment.environment":(qY=Mu.URL)!=null&&qY.includes("netlifystg.com")?"staging":"production","http.url":Mu.URL,"netlify.site.id":Mu.SITE_ID,"netlify.site.name":Mu.SITE_NAME}),BSe=new jY.default.NodeSDK({resource:kSe,traceExporter:new Em});BSe.start();
/*! Bundled license information:

@grpc/proto-loader/build/src/util.js:
@grpc/proto-loader/build/src/index.js:
  (**
   * @license
   * Copyright 2018 gRPC authors.
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *     http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *
   *)

long/umd/index.js:
  (**
   * @license
   * Copyright 2009 The Closure Library Authors
   * Copyright 2020 Daniel Wirtz / The long.js Authors.
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *     http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *
   * SPDX-License-Identifier: Apache-2.0
   *)
*/
